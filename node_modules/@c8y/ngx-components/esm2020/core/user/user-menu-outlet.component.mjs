import { Component } from '@angular/core';
import { TenantService, UserService } from '@c8y/client';
import { AlertService } from '../alert/alert.service';
import { AppStateService } from '../common/ui-state.service';
import { BsModalService } from 'ngx-bootstrap/modal';
import { LoginService } from '../login/login.service';
import { ModalService } from '../modal/modal.service';
import { OptionsService } from '../common/options.service';
import { Status } from '../common/status.model';
import { TranslateService } from '@ngx-translate/core';
import { UserEditModalComponent } from './user-edit-modal.component';
import { gettext } from '../i18n/gettext';
import { UserMenuService } from './user-menu.service';
import { HeaderService } from '../header/header.service';
import * as i0 from "@angular/core";
import * as i1 from "../common/ui-state.service";
import * as i2 from "ngx-bootstrap/modal";
import * as i3 from "../modal/modal.service";
import * as i4 from "../login/login.service";
import * as i5 from "@ngx-translate/core";
import * as i6 from "@c8y/client";
import * as i7 from "../alert/alert.service";
import * as i8 from "../common/options.service";
import * as i9 from "./user-menu.service";
import * as i10 from "../header/header.service";
import * as i11 from "../common/outlet.directive";
import * as i12 from "@angular/common";
import * as i13 from "./user-menu-item.component";
import * as i14 from "../i18n/c8y-translate.pipe";
export class UserMenuOutletComponent {
    constructor(ui, bsModalService, modalService, loginService, translateService, tenantService, alertService, user, optionsService, userMenu, headerService) {
        this.ui = ui;
        this.bsModalService = bsModalService;
        this.modalService = modalService;
        this.loginService = loginService;
        this.translateService = translateService;
        this.tenantService = tenantService;
        this.alertService = alertService;
        this.user = user;
        this.optionsService = optionsService;
        this.userMenu = userMenu;
        this.headerService = headerService;
        this.items$ = this.userMenu.items$;
        this.open$ = this.headerService.rightDrawerOpen$;
    }
    async editUser() {
        this.bsModalService.show(UserEditModalComponent, {
            ariaDescribedby: 'modal-body',
            ariaLabelledBy: 'modal-title'
        });
    }
    async logout() {
        await this.loginService.logout();
    }
    async activateSupportAccess() {
        const title = gettext('Activate support user access');
        const companyName = this.optionsService.get('companyName', 'Cumulocity');
        const textWithCompany = gettext(
        // tslint:disable-next-line:max-line-length
        'You are about to allow a support user from {{companyName}} to access your tenant to help you with your issue.');
        const textWithoutCompany = gettext(
        // tslint:disable-next-line:max-line-length
        'You are about to allow a support user to access your tenant to help you with your issue.');
        const finalQuestion = gettext('Do you want to proceed?');
        const body = [
            this.translateService.instant(companyName ? textWithCompany : textWithoutCompany, {
                companyName
            }),
            this.translateService.instant(finalQuestion)
        ].join(' ');
        const labels = {
            ok: gettext('Activate access'),
            cancel: gettext('Cancel')
        };
        const successMsg = gettext('Support user access activated.');
        try {
            await this.modalService.confirm(title, body, Status.DANGER, labels);
            await this.tenantService.enableSupportUser();
            await this.refreshCurrentUser();
            this.alertService.success(successMsg);
        }
        catch (ex) {
            // intended empty
        }
    }
    async deactivateSupportAccess() {
        const title = gettext('Deactivate support user access');
        const companyName = this.optionsService.get('companyName', 'Cumulocity');
        const textWithCompany = gettext(
        // tslint:disable-next-line:max-line-length
        'You are about to block a support user from {{companyName}} from accessing your tenant to help you with your issue.');
        const textWithoutCompany = gettext(
        // tslint:disable-next-line:max-line-length
        'You are about to block a support user from accessing your tenant to help you with your issue.');
        const { data: currentUser } = await this.user.current();
        const isTenantAdmin = await this.user.hasRole(currentUser, 'ROLE_TENANT_ADMIN');
        const tenantAdminNote = gettext(
        // tslint:disable-next-line:max-line-length
        'Deactivating support access as tenant admin will disable all other support requests on your tenant.');
        const finalQuestion = gettext('Do you want to proceed?');
        const body = [
            this.translateService.instant(companyName ? textWithCompany : textWithoutCompany, {
                companyName
            }),
            isTenantAdmin ? this.translateService.instant(tenantAdminNote) : '',
            this.translateService.instant(finalQuestion)
        ]
            .filter(Boolean)
            .join(' ');
        const labels = {
            ok: gettext('Deactivate access'),
            cancel: gettext('Cancel')
        };
        const successMsg = gettext('Support user access deactivated.');
        try {
            await this.modalService.confirm(title, body, Status.DANGER, labels);
            await this.tenantService.disableSupportUser();
            await this.refreshCurrentUser();
            this.alertService.success(successMsg);
        }
        catch (ex) {
            // intended empty
        }
    }
    async refreshCurrentUser() {
        const currentUserResult = await this.user.current();
        this.ui.currentUser.next(currentUserResult.data);
    }
}
UserMenuOutletComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: UserMenuOutletComponent, deps: [{ token: i1.AppStateService }, { token: i2.BsModalService }, { token: i3.ModalService }, { token: i4.LoginService }, { token: i5.TranslateService }, { token: i6.TenantService }, { token: i7.AlertService }, { token: i6.UserService }, { token: i8.OptionsService }, { token: i9.UserMenuService }, { token: i10.HeaderService }], target: i0.ɵɵFactoryTarget.Component });
UserMenuOutletComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.0.6", type: UserMenuOutletComponent, selector: "c8y-user-menu-outlet", ngImport: i0, template: "<ng-container *ngIf=\"items$ | async as items\">\n  <div *ngIf=\"items.length\" class=\"p-t-8 p-b-8\">\n    <ul class=\"list-unstyled m-b-0\">\n      <ng-container *ngFor=\"let item of items\">\n        <ng-container *ngIf=\"item.template\">\n          <ng-container *c8yOutlet=\"item.template\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"!item.template\">\n          <li>\n            <button\n              [attr.aria-label]=\"item.label | translate\"\n              type=\"button\"\n              class=\"c8y-right-drawer__link\"\n              (click)=\"item.click()\"\n              [attr.href]=\"item.link\"\n              [attr.target]=\"item.target\"\n              [attr.tabindex]=\"(open$ | async) ? '0' : '-1'\"\n            >\n              {{ item.label | translate }}\n            </button>\n          </li>\n        </ng-container>\n      </ng-container>\n    </ul>\n  </div>\n</ng-container>\n\n<!-- the default items -->\n<c8y-user-menu-item\n  *ngIf=\"ui.currentUser | async\"\n  [icon]=\"'user-menu-male'\"\n  [label]=\"'User settings' | translate\"\n  [priority]=\"20\"\n  [dataCy]=\"'user-menu-user-settings-button'\"\n  (click)=\"editUser()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"ui.currentUser | async\"\n  [icon]=\"'sign-out'\"\n  [label]=\"'Logout' | translate\"\n  [dataCy]=\"'user-menu-logout-button'\"\n  (click)=\"logout()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"!(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)\"\n  [icon]=\"'c8y-c8y-support'\"\n  [label]=\"'Activate support' | translate\"\n  [dataCy]=\"'user-menu-activate-support-button'\"\n  (click)=\"activateSupportAccess()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)\"\n  [icon]=\"'c8y-c8y-support'\"\n  [label]=\"'Deactivate support' | translate\"\n  [dataCy]=\"'user-menu-deactivate-support-button'\"\n  (click)=\"deactivateSupportAccess()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"(ui.state$ | async).supportUrl\"\n  [icon]=\"'question-circle'\"\n  [link]=\"(ui.state$ | async).supportUrl\"\n  [target]=\"'_blank'\"\n  [label]=\"'Request support' | translate\"\n  [dataCy]=\"'user-menu-request-support-button'\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n", dependencies: [{ kind: "directive", type: i11.OutletDirective, selector: "[c8yOutlet]", inputs: ["c8yOutlet", "c8yOutletProperties", "c8yOutletInjector"] }, { kind: "directive", type: i12.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i12.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i13.UserMenuItemComponent, selector: "c8y-user-menu-item", inputs: ["icon", "label", "link", "target", "priority", "dataCy", "open"], outputs: ["click"] }, { kind: "pipe", type: i14.C8yTranslatePipe, name: "translate" }, { kind: "pipe", type: i12.AsyncPipe, name: "async" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: UserMenuOutletComponent, decorators: [{
            type: Component,
            args: [{ selector: 'c8y-user-menu-outlet', template: "<ng-container *ngIf=\"items$ | async as items\">\n  <div *ngIf=\"items.length\" class=\"p-t-8 p-b-8\">\n    <ul class=\"list-unstyled m-b-0\">\n      <ng-container *ngFor=\"let item of items\">\n        <ng-container *ngIf=\"item.template\">\n          <ng-container *c8yOutlet=\"item.template\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"!item.template\">\n          <li>\n            <button\n              [attr.aria-label]=\"item.label | translate\"\n              type=\"button\"\n              class=\"c8y-right-drawer__link\"\n              (click)=\"item.click()\"\n              [attr.href]=\"item.link\"\n              [attr.target]=\"item.target\"\n              [attr.tabindex]=\"(open$ | async) ? '0' : '-1'\"\n            >\n              {{ item.label | translate }}\n            </button>\n          </li>\n        </ng-container>\n      </ng-container>\n    </ul>\n  </div>\n</ng-container>\n\n<!-- the default items -->\n<c8y-user-menu-item\n  *ngIf=\"ui.currentUser | async\"\n  [icon]=\"'user-menu-male'\"\n  [label]=\"'User settings' | translate\"\n  [priority]=\"20\"\n  [dataCy]=\"'user-menu-user-settings-button'\"\n  (click)=\"editUser()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"ui.currentUser | async\"\n  [icon]=\"'sign-out'\"\n  [label]=\"'Logout' | translate\"\n  [dataCy]=\"'user-menu-logout-button'\"\n  (click)=\"logout()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"!(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)\"\n  [icon]=\"'c8y-c8y-support'\"\n  [label]=\"'Activate support' | translate\"\n  [dataCy]=\"'user-menu-activate-support-button'\"\n  (click)=\"activateSupportAccess()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"(ui.currentUser | async)?.supportUserEnabled && ((ui.state$ | async).activateSupportUserAvailable)\"\n  [icon]=\"'c8y-c8y-support'\"\n  [label]=\"'Deactivate support' | translate\"\n  [dataCy]=\"'user-menu-deactivate-support-button'\"\n  (click)=\"deactivateSupportAccess()\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n<c8y-user-menu-item\n  *ngIf=\"(ui.state$ | async).supportUrl\"\n  [icon]=\"'question-circle'\"\n  [link]=\"(ui.state$ | async).supportUrl\"\n  [target]=\"'_blank'\"\n  [label]=\"'Request support' | translate\"\n  [dataCy]=\"'user-menu-request-support-button'\"\n  [open]=\"(open$ | async)\"\n></c8y-user-menu-item>\n" }]
        }], ctorParameters: function () { return [{ type: i1.AppStateService }, { type: i2.BsModalService }, { type: i3.ModalService }, { type: i4.LoginService }, { type: i5.TranslateService }, { type: i6.TenantService }, { type: i7.AlertService }, { type: i6.UserService }, { type: i8.OptionsService }, { type: i9.UserMenuService }, { type: i10.HeaderService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1tZW51LW91dGxldC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL3VzZXIvdXNlci1tZW51LW91dGxldC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9jb3JlL3VzZXIvdXNlci1tZW51LW91dGxldC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVyRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFMUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3RELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQU16RCxNQUFNLE9BQU8sdUJBQXVCO0lBSWxDLFlBQ1MsRUFBbUIsRUFDbEIsY0FBOEIsRUFDOUIsWUFB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UUFFRixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsa0NBQWtDLENBQUMsQ0FBQztRQUUvRCxJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDcEUsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDOUMsTUFBTSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUNoQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUN2QztRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1gsaUJBQWlCO1NBQ2xCO0lBQ0gsQ0FBQztJQUVPLEtBQUssQ0FBQyxrQkFBa0I7UUFDOUIsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDcEQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25ELENBQUM7O29IQXRIVSx1QkFBdUI7d0dBQXZCLHVCQUF1Qiw0RENyQnBDLDY5RUFzRUE7MkZEakRhLHVCQUF1QjtrQkFKbkMsU0FBUzsrQkFDRSxzQkFBc0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRlbmFudFNlcnZpY2UsIFVzZXJTZXJ2aWNlIH0gZnJvbSAnQGM4eS9jbGllbnQnO1xuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vYWxlcnQvYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBBcHBTdGF0ZVNlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vdWktc3RhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBCc01vZGFsU2VydmljZSB9IGZyb20gJ25neC1ib290c3RyYXAvbW9kYWwnO1xuaW1wb3J0IHsgTG9naW5TZXJ2aWNlIH0gZnJvbSAnLi4vbG9naW4vbG9naW4uc2VydmljZSc7XG5pbXBvcnQgeyBNb2RhbFNlcnZpY2UgfSBmcm9tICcuLi9tb2RhbC9tb2RhbC5zZXJ2aWNlJztcbmltcG9ydCB7IE9wdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi4vY29tbW9uL29wdGlvbnMuc2VydmljZSc7XG5pbXBvcnQgeyBTdGF0dXMgfSBmcm9tICcuLi9jb21tb24vc3RhdHVzLm1vZGVsJztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IFVzZXJFZGl0TW9kYWxDb21wb25lbnQgfSBmcm9tICcuL3VzZXItZWRpdC1tb2RhbC5jb21wb25lbnQnO1xuaW1wb3J0IHsgVXNlck1lbnVJdGVtIH0gZnJvbSAnLi91c2VyLm1vZGVsJztcbmltcG9ydCB7IGdldHRleHQgfSBmcm9tICcuLi9pMThuL2dldHRleHQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVXNlck1lbnVTZXJ2aWNlIH0gZnJvbSAnLi91c2VyLW1lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBIZWFkZXJTZXJ2aWNlIH0gZnJvbSAnLi4vaGVhZGVyL2hlYWRlci5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXVzZXItbWVudS1vdXRsZXQnLFxuICB0ZW1wbGF0ZVVybDogJy4vdXNlci1tZW51LW91dGxldC5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgVXNlck1lbnVPdXRsZXRDb21wb25lbnQge1xuICBpdGVtcyQ6IE9ic2VydmFibGU8VXNlck1lbnVJdGVtW10+O1xuICBvcGVuJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdWk6IEFwcFN0YXRlU2VydmljZSxcbiAgICBwcml2YXRlIGJzTW9kYWxTZXJ2aWNlOiBCc01vZGFsU2VydmljZSxcbiAgICBwcml2YXRlIG1vZGFsU2VydmljZTogTW9kYWxTZXJ2aWNlLFxuICAgIHByaXZhdGUgbG9naW5TZXJ2aWNlOiBMb2dpblNlcnZpY2UsXG4gICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgdGVuYW50U2VydmljZTogVGVuYW50U2VydmljZSxcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgdXNlcjogVXNlclNlcnZpY2UsXG4gICAgcHJpdmF0ZSBvcHRpb25zU2VydmljZTogT3B0aW9uc1NlcnZpY2UsXG4gICAgcHJpdmF0ZSB1c2VyTWVudTogVXNlck1lbnVTZXJ2aWNlLFxuICAgIHByaXZhdGUgaGVhZGVyU2VydmljZTogSGVhZGVyU2VydmljZVxuICApIHtcbiAgICB0aGlzLml0ZW1zJCA9IHRoaXMudXNlck1lbnUuaXRlbXMkO1xuICAgIHRoaXMub3BlbiQgPSB0aGlzLmhlYWRlclNlcnZpY2UucmlnaHREcmF3ZXJPcGVuJDtcbiAgfVxuXG4gIGFzeW5jIGVkaXRVc2VyKCkge1xuICAgIHRoaXMuYnNNb2RhbFNlcnZpY2Uuc2hvdyhVc2VyRWRpdE1vZGFsQ29tcG9uZW50LCB7XG4gICAgICBhcmlhRGVzY3JpYmVkYnk6ICdtb2RhbC1ib2R5JyxcbiAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnXG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBsb2dvdXQoKSB7XG4gICAgYXdhaXQgdGhpcy5sb2dpblNlcnZpY2UubG9nb3V0KCk7XG4gIH1cblxuICBhc3luYyBhY3RpdmF0ZVN1cHBvcnRBY2Nlc3MoKSB7XG4gICAgY29uc3QgdGl0bGUgPSBnZXR0ZXh0KCdBY3RpdmF0ZSBzdXBwb3J0IHVzZXIgYWNjZXNzJyk7XG5cbiAgICBjb25zdCBjb21wYW55TmFtZSA9IHRoaXMub3B0aW9uc1NlcnZpY2UuZ2V0KCdjb21wYW55TmFtZScsICdDdW11bG9jaXR5Jyk7XG4gICAgY29uc3QgdGV4dFdpdGhDb21wYW55ID0gZ2V0dGV4dChcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICdZb3UgYXJlIGFib3V0IHRvIGFsbG93IGEgc3VwcG9ydCB1c2VyIGZyb20ge3tjb21wYW55TmFtZX19IHRvIGFjY2VzcyB5b3VyIHRlbmFudCB0byBoZWxwIHlvdSB3aXRoIHlvdXIgaXNzdWUuJ1xuICAgICk7XG4gICAgY29uc3QgdGV4dFdpdGhvdXRDb21wYW55ID0gZ2V0dGV4dChcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICdZb3UgYXJlIGFib3V0IHRvIGFsbG93IGEgc3VwcG9ydCB1c2VyIHRvIGFjY2VzcyB5b3VyIHRlbmFudCB0byBoZWxwIHlvdSB3aXRoIHlvdXIgaXNzdWUuJ1xuICAgICk7XG4gICAgY29uc3QgZmluYWxRdWVzdGlvbiA9IGdldHRleHQoJ0RvIHlvdSB3YW50IHRvIHByb2NlZWQ/Jyk7XG4gICAgY29uc3QgYm9keSA9IFtcbiAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS5pbnN0YW50KGNvbXBhbnlOYW1lID8gdGV4dFdpdGhDb21wYW55IDogdGV4dFdpdGhvdXRDb21wYW55LCB7XG4gICAgICAgIGNvbXBhbnlOYW1lXG4gICAgICB9KSxcbiAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS5pbnN0YW50KGZpbmFsUXVlc3Rpb24pXG4gICAgXS5qb2luKCcgJyk7XG5cbiAgICBjb25zdCBsYWJlbHMgPSB7XG4gICAgICBvazogZ2V0dGV4dCgnQWN0aXZhdGUgYWNjZXNzJyksXG4gICAgICBjYW5jZWw6IGdldHRleHQoJ0NhbmNlbCcpXG4gICAgfTtcblxuICAgIGNvbnN0IHN1Y2Nlc3NNc2cgPSBnZXR0ZXh0KCdTdXBwb3J0IHVzZXIgYWNjZXNzIGFjdGl2YXRlZC4nKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLm1vZGFsU2VydmljZS5jb25maXJtKHRpdGxlLCBib2R5LCBTdGF0dXMuREFOR0VSLCBsYWJlbHMpO1xuICAgICAgYXdhaXQgdGhpcy50ZW5hbnRTZXJ2aWNlLmVuYWJsZVN1cHBvcnRVc2VyKCk7XG4gICAgICBhd2FpdCB0aGlzLnJlZnJlc2hDdXJyZW50VXNlcigpO1xuICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcyhzdWNjZXNzTXNnKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gaW50ZW5kZWQgZW1wdHlcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWFjdGl2YXRlU3VwcG9ydEFjY2VzcygpIHtcbiAgICBjb25zdCB0aXRsZSA9IGdldHRleHQoJ0RlYWN0aXZhdGUgc3VwcG9ydCB1c2VyIGFjY2VzcycpO1xuXG4gICAgY29uc3QgY29tcGFueU5hbWUgPSB0aGlzLm9wdGlvbnNTZXJ2aWNlLmdldCgnY29tcGFueU5hbWUnLCAnQ3VtdWxvY2l0eScpO1xuICAgIGNvbnN0IHRleHRXaXRoQ29tcGFueSA9IGdldHRleHQoXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAnWW91IGFyZSBhYm91dCB0byBibG9jayBhIHN1cHBvcnQgdXNlciBmcm9tIHt7Y29tcGFueU5hbWV9fSBmcm9tIGFjY2Vzc2luZyB5b3VyIHRlbmFudCB0byBoZWxwIHlvdSB3aXRoIHlvdXIgaXNzdWUuJ1xuICAgICk7XG4gICAgY29uc3QgdGV4dFdpdGhvdXRDb21wYW55ID0gZ2V0dGV4dChcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICdZb3UgYXJlIGFib3V0IHRvIGJsb2NrIGEgc3VwcG9ydCB1c2VyIGZyb20gYWNjZXNzaW5nIHlvdXIgdGVuYW50IHRvIGhlbHAgeW91IHdpdGggeW91ciBpc3N1ZS4nXG4gICAgKTtcbiAgICBjb25zdCB7IGRhdGE6IGN1cnJlbnRVc2VyIH0gPSBhd2FpdCB0aGlzLnVzZXIuY3VycmVudCgpO1xuICAgIGNvbnN0IGlzVGVuYW50QWRtaW4gPSBhd2FpdCB0aGlzLnVzZXIuaGFzUm9sZShjdXJyZW50VXNlciwgJ1JPTEVfVEVOQU5UX0FETUlOJyk7XG4gICAgY29uc3QgdGVuYW50QWRtaW5Ob3RlID0gZ2V0dGV4dChcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICdEZWFjdGl2YXRpbmcgc3VwcG9ydCBhY2Nlc3MgYXMgdGVuYW50IGFkbWluIHdpbGwgZGlzYWJsZSBhbGwgb3RoZXIgc3VwcG9ydCByZXF1ZXN0cyBvbiB5b3VyIHRlbmFudC4nXG4gICAgKTtcbiAgICBjb25zdCBmaW5hbFF1ZXN0aW9uID0gZ2V0dGV4dCgnRG8geW91IHdhbnQgdG8gcHJvY2VlZD8nKTtcbiAgICBjb25zdCBib2R5ID0gW1xuICAgICAgdGhpcy50cmFuc2xhdGVTZXJ2aWNlLmluc3RhbnQoY29tcGFueU5hbWUgPyB0ZXh0V2l0aENvbXBhbnkgOiB0ZXh0V2l0aG91dENvbXBhbnksIHtcbiAgICAgICAgY29tcGFueU5hbWVcbiAgICAgIH0pLFxuICAgICAgaXNUZW5hbnRBZG1pbiA/IHRoaXMudHJhbnNsYXRlU2VydmljZS5pbnN0YW50KHRlbmFudEFkbWluTm90ZSkgOiAnJyxcbiAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS5pbnN0YW50KGZpbmFsUXVlc3Rpb24pXG4gICAgXVxuICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGNvbnN0IGxhYmVscyA9IHtcbiAgICAgIG9rOiBnZXR0ZXh0KCdEZWFjdGl2YXRlIGFjY2VzcycpLFxuICAgICAgY2FuY2VsOiBnZXR0ZXh0KCdDYW5jZWwnKVxuICAgIH07XG5cbiAgICBjb25zdCBzdWNjZXNzTXNnID0gZ2V0dGV4dCgnU3VwcG9ydCB1c2VyIGFjY2VzcyBkZWFjdGl2YXRlZC4nKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLm1vZGFsU2VydmljZS5jb25maXJtKHRpdGxlLCBib2R5LCBTdGF0dXMuREFOR0VSLCBsYWJlbHMpO1xuICAgICAgYXdhaXQgdGhpcy50ZW5hbnRTZXJ2aWNlLmRpc2FibGVTdXBwb3J0VXNlcigpO1xuICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoQ3VycmVudFVzZXIoKTtcbiAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3Moc3VjY2Vzc01zZyk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIGludGVuZGVkIGVtcHR5XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyByZWZyZXNoQ3VycmVudFVzZXIoKSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJSZXN1bHQgPSBhd2FpdCB0aGlzLnVzZXIuY3VycmVudCgpO1xuICAgIHRoaXMudWkuY3VycmVudFVzZXIubmV4dChjdXJyZW50VXNlclJlc3VsdC5kYXRhKTtcbiAgfVxufVxuIiwiPG5nLWNvbnRhaW5lciAqbmdJZj1cIml0ZW1zJCB8IGFzeW5jIGFzIGl0ZW1zXCI+XG4gIDxkaXYgKm5nSWY9XCJpdGVtcy5sZW5ndGhcIiBjbGFzcz1cInAtdC04IHAtYi04XCI+XG4gICAgPHVsIGNsYXNzPVwibGlzdC11bnN0eWxlZCBtLWItMFwiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtc1wiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXRlbS50ZW1wbGF0ZVwiPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgKmM4eU91dGxldD1cIml0ZW0udGVtcGxhdGVcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhaXRlbS50ZW1wbGF0ZVwiPlxuICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpdGVtLmxhYmVsIHwgdHJhbnNsYXRlXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiYzh5LXJpZ2h0LWRyYXdlcl9fbGlua1wiXG4gICAgICAgICAgICAgIChjbGljayk9XCJpdGVtLmNsaWNrKClcIlxuICAgICAgICAgICAgICBbYXR0ci5ocmVmXT1cIml0ZW0ubGlua1wiXG4gICAgICAgICAgICAgIFthdHRyLnRhcmdldF09XCJpdGVtLnRhcmdldFwiXG4gICAgICAgICAgICAgIFthdHRyLnRhYmluZGV4XT1cIihvcGVuJCB8IGFzeW5jKSA/ICcwJyA6ICctMSdcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvdWw+XG4gIDwvZGl2PlxuPC9uZy1jb250YWluZXI+XG5cbjwhLS0gdGhlIGRlZmF1bHQgaXRlbXMgLS0+XG48Yzh5LXVzZXItbWVudS1pdGVtXG4gICpuZ0lmPVwidWkuY3VycmVudFVzZXIgfCBhc3luY1wiXG4gIFtpY29uXT1cIid1c2VyLW1lbnUtbWFsZSdcIlxuICBbbGFiZWxdPVwiJ1VzZXIgc2V0dGluZ3MnIHwgdHJhbnNsYXRlXCJcbiAgW3ByaW9yaXR5XT1cIjIwXCJcbiAgW2RhdGFDeV09XCIndXNlci1tZW51LXVzZXItc2V0dGluZ3MtYnV0dG9uJ1wiXG4gIChjbGljayk9XCJlZGl0VXNlcigpXCJcbiAgW29wZW5dPVwiKG9wZW4kIHwgYXN5bmMpXCJcbj48L2M4eS11c2VyLW1lbnUtaXRlbT5cbjxjOHktdXNlci1tZW51LWl0ZW1cbiAgKm5nSWY9XCJ1aS5jdXJyZW50VXNlciB8IGFzeW5jXCJcbiAgW2ljb25dPVwiJ3NpZ24tb3V0J1wiXG4gIFtsYWJlbF09XCInTG9nb3V0JyB8IHRyYW5zbGF0ZVwiXG4gIFtkYXRhQ3ldPVwiJ3VzZXItbWVudS1sb2dvdXQtYnV0dG9uJ1wiXG4gIChjbGljayk9XCJsb2dvdXQoKVwiXG4gIFtvcGVuXT1cIihvcGVuJCB8IGFzeW5jKVwiXG4+PC9jOHktdXNlci1tZW51LWl0ZW0+XG48Yzh5LXVzZXItbWVudS1pdGVtXG4gICpuZ0lmPVwiISh1aS5jdXJyZW50VXNlciB8IGFzeW5jKT8uc3VwcG9ydFVzZXJFbmFibGVkICYmICgodWkuc3RhdGUkIHwgYXN5bmMpLmFjdGl2YXRlU3VwcG9ydFVzZXJBdmFpbGFibGUpXCJcbiAgW2ljb25dPVwiJ2M4eS1jOHktc3VwcG9ydCdcIlxuICBbbGFiZWxdPVwiJ0FjdGl2YXRlIHN1cHBvcnQnIHwgdHJhbnNsYXRlXCJcbiAgW2RhdGFDeV09XCIndXNlci1tZW51LWFjdGl2YXRlLXN1cHBvcnQtYnV0dG9uJ1wiXG4gIChjbGljayk9XCJhY3RpdmF0ZVN1cHBvcnRBY2Nlc3MoKVwiXG4gIFtvcGVuXT1cIihvcGVuJCB8IGFzeW5jKVwiXG4+PC9jOHktdXNlci1tZW51LWl0ZW0+XG48Yzh5LXVzZXItbWVudS1pdGVtXG4gICpuZ0lmPVwiKHVpLmN1cnJlbnRVc2VyIHwgYXN5bmMpPy5zdXBwb3J0VXNlckVuYWJsZWQgJiYgKCh1aS5zdGF0ZSQgfCBhc3luYykuYWN0aXZhdGVTdXBwb3J0VXNlckF2YWlsYWJsZSlcIlxuICBbaWNvbl09XCInYzh5LWM4eS1zdXBwb3J0J1wiXG4gIFtsYWJlbF09XCInRGVhY3RpdmF0ZSBzdXBwb3J0JyB8IHRyYW5zbGF0ZVwiXG4gIFtkYXRhQ3ldPVwiJ3VzZXItbWVudS1kZWFjdGl2YXRlLXN1cHBvcnQtYnV0dG9uJ1wiXG4gIChjbGljayk9XCJkZWFjdGl2YXRlU3VwcG9ydEFjY2VzcygpXCJcbiAgW29wZW5dPVwiKG9wZW4kIHwgYXN5bmMpXCJcbj48L2M4eS11c2VyLW1lbnUtaXRlbT5cbjxjOHktdXNlci1tZW51LWl0ZW1cbiAgKm5nSWY9XCIodWkuc3RhdGUkIHwgYXN5bmMpLnN1cHBvcnRVcmxcIlxuICBbaWNvbl09XCIncXVlc3Rpb24tY2lyY2xlJ1wiXG4gIFtsaW5rXT1cIih1aS5zdGF0ZSQgfCBhc3luYykuc3VwcG9ydFVybFwiXG4gIFt0YXJnZXRdPVwiJ19ibGFuaydcIlxuICBbbGFiZWxdPVwiJ1JlcXVlc3Qgc3VwcG9ydCcgfCB0cmFuc2xhdGVcIlxuICBbZGF0YUN5XT1cIid1c2VyLW1lbnUtcmVxdWVzdC1zdXBwb3J0LWJ1dHRvbidcIlxuICBbb3Blbl09XCIob3BlbiQgfCBhc3luYylcIlxuPjwvYzh5LXVzZXItbWVudS1pdGVtPlxuIl19