import { Component } from '@angular/core';
import { uniq } from 'lodash-es';
import { BehaviorSubject, Observable, of } from 'rxjs';
import { startWith, take } from 'rxjs/operators';
import { AlertService } from '../alert/alert.service';
import { OptionsService } from '../common/options.service';
import { Permissions } from '../common/permissions.service';
import { AppStateService } from '../common/ui-state.service';
import { gettext } from '../i18n/gettext';
import { Steppers } from '../stepper/stepper.model';
import { StepperService } from '../stepper/stepper.service';
import { NEEDED_ROLE_FOR_SETUP, SetupState } from './setup.model';
import { SetupService } from './setup.service';
import * as i0 from "@angular/core";
import * as i1 from "../common/options.service";
import * as i2 from "../stepper/stepper.service";
import * as i3 from "../common/ui-state.service";
import * as i4 from "../alert/alert.service";
import * as i5 from "../common/permissions.service";
import * as i6 from "./setup.service";
import * as i7 from "../i18n/c8y-translate.directive";
import * as i8 from "@angular/common";
import * as i9 from "../header/title/title.component";
import * as i10 from "../stepper/stepper-outlet.component";
import * as i11 from "../properties-list/properties-list.component";
import * as i12 from "../i18n/c8y-translate.pipe";
import * as i13 from "../common/humanize-app-name.pipe";
/**
 * This component is the parent of each setup and can be injected
 * into setup steps to control them.
 */
export class SetupComponent {
    constructor(options, stepperService, appState, alert, permissions, setupService) {
        this.options = options;
        this.stepperService = stepperService;
        this.appState = appState;
        this.alert = alert;
        this.permissions = permissions;
        this.setupService = setupService;
        /**
         * A subject which can be used to exchange data between
         * steps.
         */
        this.data$ = new BehaviorSubject({});
        /**
         * The current state. SetupState.START shows an application overview
         * while SetupState.WIZARD shows the steps.
         */
        this.currentSetupState = SetupState.START;
        /**
         * Emits when the setup is done. You can add certain operations before completing the setup that needed to be awaited. Return
         * true if everything is fine, otherwise false.
         * ```typescript
         * const asyncOperation = delay(2000);
         * this.setup.completed$ = this.setup.completed$.pipe(asyncOperation, map(() => true));
         * ``
         * Note: Remember that a step can be viewed multiple times. The step needs to ensure, to only add a completed operation ones.
         */
        this.completed$ = new Observable().pipe(startWith(true));
        /**
         * @ignore
         */
        this.stepperId = Steppers.SETUP;
        /**
         * @ignore
         */
        this.setupState = SetupState;
        /**
         * @ignore
         */
        this.properties = [];
        /**
         * @ignore
         */
        this.canSkip = false;
        /**
         * @ignore
         */
        this.hasRole = false;
        /**
         * @ignore
         */
        this.isOwner = true;
        this.RELOAD_APP_TIMEOUT = 2000;
    }
    /**
     * Mark a step as completed. If the step is required, this is needed to fulfill
     * the setup.
     * @param stepIndex The index of the step you want to mark as completed
     * @param isCompleted Defaults to true to mark it as completed but can be set to false to invalidate the step.
     */
    stepCompleted(stepIndex, isCompleted = true) {
        const step = this.getByIndex(stepIndex);
        step.completed = isCompleted;
    }
    /**
     * Returns a step by it index position in the wizard.
     * @param stepIndex The step index that you want to receive.
     * @returns An indexed step definition.
     */
    getByIndex(stepIndex) {
        return this.steps.find(({ index }) => index === stepIndex);
    }
    /**
     * @ignore
     */
    async ngOnInit() {
        this.steps = (await this.stepperService.getById$(this.stepperId).toPromise()).map((step, index) => ({
            ...step,
            index,
            completed: false
        }));
        if (!this.options.forceSetup) {
            const doneSetup = this.options.setup || [];
            this.steps = this.steps.filter(step => doneSetup.indexOf(step.setupId) === -1);
        }
        this.isOwner = this.appState.isOwnerOfApplication();
        this.canSkip = !this.hasRequiredSteps(this.steps);
        this.hasRole = this.permissions.hasRole(NEEDED_ROLE_FOR_SETUP);
        this.properties = [
            {
                label: gettext('Description'),
                key: 'description'
            },
            {
                label: gettext('Keywords'),
                key: 'keywords'
            },
            {
                label: gettext('Source'),
                key: 'repository'
            },
            {
                label: gettext('Version'),
                key: 'version'
            },
            {
                label: gettext('Author'),
                key: 'author'
            },
            {
                label: gettext('Required platform version'),
                key: 'requiredPlatformVersion'
            }
        ];
    }
    /**
     * Skips the current setup wizard
     */
    skip() {
        this.setupService.isSetupNeeded$ = of(false);
    }
    /**
     * Starts the wizards (or finish the setup if no steps are found)
     */
    start() {
        this.currentSetupState = SetupState.WIZARD;
    }
    /**
     * Cancels the wizards and goes back to the start view.
     */
    cancel() {
        this.currentSetupState = SetupState.START;
    }
    /**
     * Finish the wizard and will start the application.
     */
    finish() {
        this.currentSetupState = SetupState.FINALIZING;
        this.completed$.subscribe(async (status) => {
            if (status) {
                this.finalize();
            }
            else {
                this.currentSetupState = SetupState.WIZARD;
            }
        });
    }
    async finalize() {
        try {
            const doneSetup = this.steps.filter(value => value.setupId).map(value => value.setupId);
            const currentConfig = await this.appState.currentApplicationConfig.pipe(take(1)).toPromise();
            await this.appState.updateCurrentApplicationConfig({
                setup: uniq([...(currentConfig.setupDone || []), ...doneSetup])
            });
        }
        catch (ex) {
            this.alert.addServerFailure(ex);
            this.currentSetupState = SetupState.WIZARD;
        }
        finally {
            this.currentSetupState = SetupState.RELOADING;
            // To ensure proper setup, we reload the app when setup is ready.
            setTimeout(() => this.reloadApp(), this.RELOAD_APP_TIMEOUT);
        }
    }
    /**
     * Verifies every step and checks if all required are completed.
     * Updates the icons to reflect the state of the steps (error, warning, done).
     * @returns Returns true if no error was found.
     */
    verify() {
        this.steps.forEach((step, index) => {
            if (this.steps.length - 1 !== index) {
                step.state = this.getState(step);
            }
        });
        return !!this.steps.find(step => step.state !== 'error');
    }
    reloadApp() {
        const removeUrlParams = location.href.split('?')[0];
        const removedHash = removeUrlParams.split('#')[0];
        location.href = removedHash;
    }
    hasRequiredSteps(notCompletedSetupSteps) {
        return notCompletedSetupSteps.some(step => step.required);
    }
    getState(step) {
        if (!step.completed && step.required) {
            return 'error';
        }
        if (!step.completed && !step.required) {
            return 'warning';
        }
        return 'done';
    }
}
SetupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: SetupComponent, deps: [{ token: i1.OptionsService }, { token: i2.StepperService }, { token: i3.AppStateService }, { token: i4.AlertService }, { token: i5.Permissions }, { token: i6.SetupService }], target: i0.ɵɵFactoryTarget.Component });
SetupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.0.6", type: SetupComponent, selector: "c8y-setup", ngImport: i0, template: "<c8y-title>\n  {{ options.name | humanizeAppName | async }}\n</c8y-title>\n\n<div\n  class=\"card content-fullpage fadeInRightBig animated\"\n  *ngIf=\"currentSetupState !== setupState.START\"\n>\n  <c8y-stepper-outlet\n    [showDefaultButtons]=\"false\"\n    [steps]=\"steps\"\n    class=\"d-contents\"\n  ></c8y-stepper-outlet>\n</div>\n\n<div\n  class=\"card content-fullpage d-flex d-col fadeInUpBig animated\"\n  *ngIf=\"currentSetupState === setupState.START\"\n>\n  <div class=\"inner-scroll flex-grow\">\n    <div class=\"card-block\">\n      <div class=\"row\">\n        <div class=\"col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24\">\n          <svg class=\"p-t-32\" viewBox=\"0 0 360 190\" style=\"max-width: 450px; margin: auto\">\n            <g\n              id=\"ecosystem-welcome-illustration\"\n              stroke=\"none\"\n              stroke-width=\"1\"\n              fill=\"none\"\n              fill-rule=\"evenodd\"\n            >\n              <g id=\"medium-img\">\n                <g id=\"M---Nothing-found---illustration\" transform=\"translate(27.000000, 0.000000)\">\n                  <path\n                    d=\"M41.9882163,184.153177 C24.3512964,165.028818 14.796713,138.637202 18.0717117,113.128248 C21.3467105,87.6192947 38.0071399,63.7138452 61.8485298,52.9453596 C71.0829585,49.0513414 80.8096047,46.3893689 90.76767,45.0308169 C98.489456,43.8098001 118.605159,43.8098001 134.379236,43.8098001 C145.406066,43.8098001 181.235754,38.969866 207.015103,16.5355211 C213.745375,10.6511027 239.269332,-7.69357146 271.478495,5.11974949 C293.036399,13.6962892 308.780431,29.0693321 312.911736,38.3078689 C331.314825,79.4105311 320.017582,129.634042 291.233648,164.558065 C285.720232,171.251591 279.470694,177.592051 271.70384,181.608167 C268.726702,182.834918 265.624451,183.747258 262.449715,184.32971 L41.9882163,184.153177 Z\"\n                    id=\"Path\"\n                    fill=\"#CDE6F9\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"28.1633729\"\n                    cy=\"162.880435\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"65.7145367\"\n                    cy=\"65.6884059\"\n                    rx=\"4.02333899\"\n                    ry=\"3.35144928\"\n                  ></ellipse>\n                  <g\n                    id=\"Group\"\n                    opacity=\"0.8\"\n                    transform=\"translate(8.046677, 16.757247)\"\n                    fill=\"#7BCAEF\"\n                    fill-rule=\"nonzero\"\n                  >\n                    <path\n                      d=\"M12.8344513,8.04347826 L2.50788129,8.04347826 C1.90488763,8.22105727 1.25665804,7.99364432 0.892621563,7.47681021 C0.528585083,6.95997611 0.528585083,6.26707703 0.892621563,5.75024293 C1.25665804,5.23340882 1.90488763,5.00599587 2.50788129,5.18357488 L12.8344513,5.18357488 C13.437445,5.00599587 14.0856746,5.23340882 14.4497111,5.75024293 C14.8137476,6.26707703 14.8137476,6.95997611 14.4497111,7.47681021 C14.0856746,7.99364432 13.437445,8.22105727 12.8344513,8.04347826 Z\"\n                      id=\"Path\"\n                    ></path>\n                    <path\n                      d=\"M7.64166184,13.2866345 C6.82691795,13.2866345 6.16643754,12.6197478 6.16643754,11.7971014 L6.16643754,1.37037037 C6.35002101,0.734836286 6.92699763,0.297906603 7.58265287,0.297906603 C8.2383081,0.297906603 8.81528471,0.734836286 8.99888356,1.37037037 L8.99888356,11.7971014 C9.00133839,12.5753731 8.40999101,13.2243764 7.64166184,13.2866345 Z\"\n                      id=\"Path\"\n                    ></path>\n                  </g>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"2.68222598\"\n                    cy=\"90.4891305\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"257.493695\"\n                    cy=\"157.518116\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#14629F\"\n                    fill-rule=\"nonzero\"\n                    cx=\"299.738754\"\n                    cy=\"155.507247\"\n                    rx=\"2.01166949\"\n                    ry=\"2.01086957\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#96CAF3\"\n                    fill-rule=\"nonzero\"\n                    cx=\"260.175921\"\n                    cy=\"59.6557971\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    cx=\"329.913796\"\n                    cy=\"111.938406\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    stroke=\"#96CAF3\"\n                    cx=\"95.2190226\"\n                    cy=\"144.782609\"\n                    rx=\"4.02333899\"\n                    ry=\"3.35144928\"\n                  ></ellipse>\n                  <g\n                    id=\"Group\"\n                    opacity=\"0.6\"\n                    transform=\"translate(273.587050, 121.322464)\"\n                    fill=\"#14629F\"\n                    fill-rule=\"nonzero\"\n                  >\n                    <path\n                      d=\"M12.1263437,8.01368761 L1.79977363,8.01368761 C1.17034461,7.82832349 0.737612147,7.24575058 0.737612147,6.5837359 C0.737612147,5.92172124 1.17034461,5.33914833 1.79977363,5.15378421 L12.1263437,5.15378421 C12.7293374,4.97620521 13.3775669,5.20361817 13.7416034,5.72045226 C14.1056399,6.23728637 14.1056399,6.93018545 13.7416034,7.44701956 C13.3775669,7.96385365 12.7293374,8.19126661 12.1263437,8.01368761 L12.1263437,8.01368761 Z\"\n                      id=\"Path\"\n                    ></path>\n                    <path\n                      d=\"M6.94830642,13.2419485 C6.13356254,13.2419485 5.47308212,12.5750618 5.47308212,11.7524155 L5.47308212,1.32568438 C5.6566656,0.690150295 6.23364221,0.253220612 6.88929744,0.253220612 C7.54495269,0.253220612 8.1219293,0.690150295 8.30552815,1.32568438 L8.30552815,11.7524155 C8.30798297,12.5306871 7.71663558,13.1796904 6.94830642,13.2419485 Z\"\n                      id=\"Path\"\n                    ></path>\n                  </g>\n                  <rect\n                    id=\"Rectangle\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    x=\"107.28904\"\n                    y=\"128.025362\"\n                    width=\"109.971265\"\n                    height=\"48.2608695\"\n                  ></rect>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"205.744516 91.8297102 121.555988 91.8297102 107.28904 129.365942 217.260306 129.365942\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"93.8779095 114.917472 103.478057 98.5326086 118.017943 121.471417 107.035845 128.025362\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"209.213627 123.316736 216.813268 129.365942 232.012548 114.683402 221.373051 98.5326086\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#96CAF3\"\n                    fill-rule=\"nonzero\"\n                    points=\"214.884986 105.235507 111.648803 105.235507 107.28904 129.365942 217.260306 129.365942\"\n                  ></polygon>\n                  <path\n                    d=\"M91.6761446,30.3423163 C92.3222173,30.3423163 92.8459628,30.8537275 92.8459628,31.4845853 C92.8459628,32.1154431 92.3222173,32.6268545 91.6761446,32.6268545 C91.0300718,32.6268545 90.5063264,32.1154431 90.5063264,31.4845853 C90.5289441,30.8631053 91.0396757,30.3644014 91.6761446,30.3423163 Z M91.8662401,24.6309708 C92.4940745,24.6065819 93.1037929,24.8394323 93.5480901,25.2732662 C93.9923872,25.7071004 94.2308535,26.30246 94.2058764,26.9155089 L94.2058764,27.5152002 L89.5266036,27.5152002 L89.5266036,26.9155089 C89.4960305,26.2895723 89.7404154,25.6806341 90.1983788,25.2416359 C90.6563421,24.8026375 91.2843716,24.5752894 91.924731,24.6166924 L91.8662401,24.6309708 Z M91.8662401,23.4744232 C90.9292048,23.466734 90.0282593,23.8268063 89.3656519,24.4738094 C88.7030445,25.1208125 88.3342881,26.0005407 88.3421627,26.9155089 L88.3421627,27.5152002 L87.1723446,27.5152002 L87.1723446,35.5253623 L96.5601355,35.5253623 L96.5601355,27.5009219 L95.3903173,27.5009219 L95.3903173,26.9012306 C95.3981063,25.9961621 95.037351,25.1251451 94.3874206,24.4798095 C93.7374901,23.8344738 92.8516283,23.4676871 91.924731,23.460145 L91.8662401,23.4744232 Z\"\n                    id=\"Shape\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <path\n                    d=\"M254.811469,24.8007247 L248.113249,12.7355072 L241.400339,24.8007247 L254.811469,24.8007247 Z M248.7155,22.7874058 L247.466929,22.7874058 L247.466929,21.6411367 L248.671434,21.6411367 L248.7155,22.7874058 Z M248.7155,20.5095632 L247.466929,20.5095632 L247.466929,17.5704117 L248.671434,17.5704117 L248.7155,20.5095632 Z\"\n                    id=\"Shape\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <line\n                    x1=\"201.166949\"\n                    y1=\"40.8876812\"\n                    x2=\"187.755818\"\n                    y2=\"60.9963769\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                  <line\n                    x1=\"165.969438\"\n                    y1=\"31.5036231\"\n                    x2=\"165.285471\"\n                    y2=\"55.6340579\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                  <line\n                    x1=\"130.08796\"\n                    y1=\"44.9094203\"\n                    x2=\"146.181316\"\n                    y2=\"63.6775362\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                </g>\n                <polygon\n                  id=\"Fill-56\"\n                  fill=\"#A5D1FE\"\n                  fill-rule=\"nonzero\"\n                  points=\"0 185 335 185 335 175 0 175\"\n                ></polygon>\n              </g>\n            </g>\n          </svg>\n          <h1\n            class=\"p-t-16 p-b-16 text-center text-medium\"\n            ngNonBindable\n            translate\n            [translateParams]=\"{ appName: options.name | humanizeAppName | async }\"\n          >\n            Welcome to {{ appName }}\n          </h1>\n          <p class=\"lead text-normal\" translate *ngIf=\"hasRole\">\n            This application (or any plugin that you added recently) has pre-requirements that needs\n            to be configured first. This wizard will guide you through the steps that are necessary\n            to get your customized application up and running.\n          </p>\n          <div class=\"flex-grow\" *ngIf=\"properties.length > 0\">\n            <c8y-properties-list\n              icon=\"info\"\n              [properties]=\"properties\"\n              [data]=\"options\"\n              [title]=\"'Application properties' | translate\"\n            ></c8y-properties-list>\n          </div>\n          <div class=\"alert alert-danger m-32\" *ngIf=\"!hasRole\">\n            <strong translate>No permission</strong>\n            <div translate>\n              You don't have sufficient rights to setup this application. Contact an application\n              administrator to setup the required steps.\n            </div>\n          </div>\n          <div class=\"alert alert-danger m-32\" *ngIf=\"!isOwner\">\n            <strong translate>Not the owner</strong>\n            <div translate>\n              The current application is not owned by this tenant. Clone the application before\n              running the setup.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"card-footer separator d-flex j-c-center\">\n    <button\n      class=\"btn\"\n      (click)=\"skip()\"\n      translate\n      *ngIf=\"canSkip\"\n      [title]=\"\n        'You can skip the setup now. It will be shown again as soon as you restart the application.'\n          | translate\n      \"\n    >\n      Skip\n    </button>\n\n    <button\n      class=\"btn btn-primary\"\n      (click)=\"start()\"\n      translate\n      [disabled]=\"!hasRole || !isOwner\"\n      [title]=\"'Start the setup wizard.' | translate\"\n    >\n      Start\n    </button>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i7.C8yTranslateDirective, selector: "[translate],[ngx-translate]" }, { kind: "directive", type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i9.TitleComponent, selector: "c8y-title", inputs: ["pageTitleUpdate"] }, { kind: "component", type: i10.StepperOutletComponent, selector: "c8y-stepper-outlet", inputs: ["steps", "showDefaultButtons"] }, { kind: "component", type: i11.PropertiesListComponent, selector: "c8y-properties-list", inputs: ["properties", "title", "icon", "data", "groups", "noParse", "emptyLabel"] }, { kind: "pipe", type: i12.C8yTranslatePipe, name: "translate" }, { kind: "pipe", type: i8.AsyncPipe, name: "async" }, { kind: "pipe", type: i13.HumanizeAppNamePipe, name: "humanizeAppName" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: SetupComponent, decorators: [{
            type: Component,
            args: [{ selector: 'c8y-setup', template: "<c8y-title>\n  {{ options.name | humanizeAppName | async }}\n</c8y-title>\n\n<div\n  class=\"card content-fullpage fadeInRightBig animated\"\n  *ngIf=\"currentSetupState !== setupState.START\"\n>\n  <c8y-stepper-outlet\n    [showDefaultButtons]=\"false\"\n    [steps]=\"steps\"\n    class=\"d-contents\"\n  ></c8y-stepper-outlet>\n</div>\n\n<div\n  class=\"card content-fullpage d-flex d-col fadeInUpBig animated\"\n  *ngIf=\"currentSetupState === setupState.START\"\n>\n  <div class=\"inner-scroll flex-grow\">\n    <div class=\"card-block\">\n      <div class=\"row\">\n        <div class=\"col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 p-t-24\">\n          <svg class=\"p-t-32\" viewBox=\"0 0 360 190\" style=\"max-width: 450px; margin: auto\">\n            <g\n              id=\"ecosystem-welcome-illustration\"\n              stroke=\"none\"\n              stroke-width=\"1\"\n              fill=\"none\"\n              fill-rule=\"evenodd\"\n            >\n              <g id=\"medium-img\">\n                <g id=\"M---Nothing-found---illustration\" transform=\"translate(27.000000, 0.000000)\">\n                  <path\n                    d=\"M41.9882163,184.153177 C24.3512964,165.028818 14.796713,138.637202 18.0717117,113.128248 C21.3467105,87.6192947 38.0071399,63.7138452 61.8485298,52.9453596 C71.0829585,49.0513414 80.8096047,46.3893689 90.76767,45.0308169 C98.489456,43.8098001 118.605159,43.8098001 134.379236,43.8098001 C145.406066,43.8098001 181.235754,38.969866 207.015103,16.5355211 C213.745375,10.6511027 239.269332,-7.69357146 271.478495,5.11974949 C293.036399,13.6962892 308.780431,29.0693321 312.911736,38.3078689 C331.314825,79.4105311 320.017582,129.634042 291.233648,164.558065 C285.720232,171.251591 279.470694,177.592051 271.70384,181.608167 C268.726702,182.834918 265.624451,183.747258 262.449715,184.32971 L41.9882163,184.153177 Z\"\n                    id=\"Path\"\n                    fill=\"#CDE6F9\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"28.1633729\"\n                    cy=\"162.880435\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"65.7145367\"\n                    cy=\"65.6884059\"\n                    rx=\"4.02333899\"\n                    ry=\"3.35144928\"\n                  ></ellipse>\n                  <g\n                    id=\"Group\"\n                    opacity=\"0.8\"\n                    transform=\"translate(8.046677, 16.757247)\"\n                    fill=\"#7BCAEF\"\n                    fill-rule=\"nonzero\"\n                  >\n                    <path\n                      d=\"M12.8344513,8.04347826 L2.50788129,8.04347826 C1.90488763,8.22105727 1.25665804,7.99364432 0.892621563,7.47681021 C0.528585083,6.95997611 0.528585083,6.26707703 0.892621563,5.75024293 C1.25665804,5.23340882 1.90488763,5.00599587 2.50788129,5.18357488 L12.8344513,5.18357488 C13.437445,5.00599587 14.0856746,5.23340882 14.4497111,5.75024293 C14.8137476,6.26707703 14.8137476,6.95997611 14.4497111,7.47681021 C14.0856746,7.99364432 13.437445,8.22105727 12.8344513,8.04347826 Z\"\n                      id=\"Path\"\n                    ></path>\n                    <path\n                      d=\"M7.64166184,13.2866345 C6.82691795,13.2866345 6.16643754,12.6197478 6.16643754,11.7971014 L6.16643754,1.37037037 C6.35002101,0.734836286 6.92699763,0.297906603 7.58265287,0.297906603 C8.2383081,0.297906603 8.81528471,0.734836286 8.99888356,1.37037037 L8.99888356,11.7971014 C9.00133839,12.5753731 8.40999101,13.2243764 7.64166184,13.2866345 Z\"\n                      id=\"Path\"\n                    ></path>\n                  </g>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"2.68222598\"\n                    cy=\"90.4891305\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    cx=\"257.493695\"\n                    cy=\"157.518116\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#14629F\"\n                    fill-rule=\"nonzero\"\n                    cx=\"299.738754\"\n                    cy=\"155.507247\"\n                    rx=\"2.01166949\"\n                    ry=\"2.01086957\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    fill=\"#96CAF3\"\n                    fill-rule=\"nonzero\"\n                    cx=\"260.175921\"\n                    cy=\"59.6557971\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    cx=\"329.913796\"\n                    cy=\"111.938406\"\n                    rx=\"2.68222598\"\n                    ry=\"2.68115941\"\n                  ></ellipse>\n                  <ellipse\n                    id=\"Oval\"\n                    stroke=\"#96CAF3\"\n                    cx=\"95.2190226\"\n                    cy=\"144.782609\"\n                    rx=\"4.02333899\"\n                    ry=\"3.35144928\"\n                  ></ellipse>\n                  <g\n                    id=\"Group\"\n                    opacity=\"0.6\"\n                    transform=\"translate(273.587050, 121.322464)\"\n                    fill=\"#14629F\"\n                    fill-rule=\"nonzero\"\n                  >\n                    <path\n                      d=\"M12.1263437,8.01368761 L1.79977363,8.01368761 C1.17034461,7.82832349 0.737612147,7.24575058 0.737612147,6.5837359 C0.737612147,5.92172124 1.17034461,5.33914833 1.79977363,5.15378421 L12.1263437,5.15378421 C12.7293374,4.97620521 13.3775669,5.20361817 13.7416034,5.72045226 C14.1056399,6.23728637 14.1056399,6.93018545 13.7416034,7.44701956 C13.3775669,7.96385365 12.7293374,8.19126661 12.1263437,8.01368761 L12.1263437,8.01368761 Z\"\n                      id=\"Path\"\n                    ></path>\n                    <path\n                      d=\"M6.94830642,13.2419485 C6.13356254,13.2419485 5.47308212,12.5750618 5.47308212,11.7524155 L5.47308212,1.32568438 C5.6566656,0.690150295 6.23364221,0.253220612 6.88929744,0.253220612 C7.54495269,0.253220612 8.1219293,0.690150295 8.30552815,1.32568438 L8.30552815,11.7524155 C8.30798297,12.5306871 7.71663558,13.1796904 6.94830642,13.2419485 Z\"\n                      id=\"Path\"\n                    ></path>\n                  </g>\n                  <rect\n                    id=\"Rectangle\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    x=\"107.28904\"\n                    y=\"128.025362\"\n                    width=\"109.971265\"\n                    height=\"48.2608695\"\n                  ></rect>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"205.744516 91.8297102 121.555988 91.8297102 107.28904 129.365942 217.260306 129.365942\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"93.8779095 114.917472 103.478057 98.5326086 118.017943 121.471417 107.035845 128.025362\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                    points=\"209.213627 123.316736 216.813268 129.365942 232.012548 114.683402 221.373051 98.5326086\"\n                  ></polygon>\n                  <polygon\n                    id=\"Path\"\n                    fill=\"#96CAF3\"\n                    fill-rule=\"nonzero\"\n                    points=\"214.884986 105.235507 111.648803 105.235507 107.28904 129.365942 217.260306 129.365942\"\n                  ></polygon>\n                  <path\n                    d=\"M91.6761446,30.3423163 C92.3222173,30.3423163 92.8459628,30.8537275 92.8459628,31.4845853 C92.8459628,32.1154431 92.3222173,32.6268545 91.6761446,32.6268545 C91.0300718,32.6268545 90.5063264,32.1154431 90.5063264,31.4845853 C90.5289441,30.8631053 91.0396757,30.3644014 91.6761446,30.3423163 Z M91.8662401,24.6309708 C92.4940745,24.6065819 93.1037929,24.8394323 93.5480901,25.2732662 C93.9923872,25.7071004 94.2308535,26.30246 94.2058764,26.9155089 L94.2058764,27.5152002 L89.5266036,27.5152002 L89.5266036,26.9155089 C89.4960305,26.2895723 89.7404154,25.6806341 90.1983788,25.2416359 C90.6563421,24.8026375 91.2843716,24.5752894 91.924731,24.6166924 L91.8662401,24.6309708 Z M91.8662401,23.4744232 C90.9292048,23.466734 90.0282593,23.8268063 89.3656519,24.4738094 C88.7030445,25.1208125 88.3342881,26.0005407 88.3421627,26.9155089 L88.3421627,27.5152002 L87.1723446,27.5152002 L87.1723446,35.5253623 L96.5601355,35.5253623 L96.5601355,27.5009219 L95.3903173,27.5009219 L95.3903173,26.9012306 C95.3981063,25.9961621 95.037351,25.1251451 94.3874206,24.4798095 C93.7374901,23.8344738 92.8516283,23.4676871 91.924731,23.460145 L91.8662401,23.4744232 Z\"\n                    id=\"Shape\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <path\n                    d=\"M254.811469,24.8007247 L248.113249,12.7355072 L241.400339,24.8007247 L254.811469,24.8007247 Z M248.7155,22.7874058 L247.466929,22.7874058 L247.466929,21.6411367 L248.671434,21.6411367 L248.7155,22.7874058 Z M248.7155,20.5095632 L247.466929,20.5095632 L247.466929,17.5704117 L248.671434,17.5704117 L248.7155,20.5095632 Z\"\n                    id=\"Shape\"\n                    fill=\"#5FAEEC\"\n                    fill-rule=\"nonzero\"\n                  ></path>\n                  <line\n                    x1=\"201.166949\"\n                    y1=\"40.8876812\"\n                    x2=\"187.755818\"\n                    y2=\"60.9963769\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                  <line\n                    x1=\"165.969438\"\n                    y1=\"31.5036231\"\n                    x2=\"165.285471\"\n                    y2=\"55.6340579\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                  <line\n                    x1=\"130.08796\"\n                    y1=\"44.9094203\"\n                    x2=\"146.181316\"\n                    y2=\"63.6775362\"\n                    id=\"Path\"\n                    stroke=\"#5FAEEC\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                  ></line>\n                </g>\n                <polygon\n                  id=\"Fill-56\"\n                  fill=\"#A5D1FE\"\n                  fill-rule=\"nonzero\"\n                  points=\"0 185 335 185 335 175 0 175\"\n                ></polygon>\n              </g>\n            </g>\n          </svg>\n          <h1\n            class=\"p-t-16 p-b-16 text-center text-medium\"\n            ngNonBindable\n            translate\n            [translateParams]=\"{ appName: options.name | humanizeAppName | async }\"\n          >\n            Welcome to {{ appName }}\n          </h1>\n          <p class=\"lead text-normal\" translate *ngIf=\"hasRole\">\n            This application (or any plugin that you added recently) has pre-requirements that needs\n            to be configured first. This wizard will guide you through the steps that are necessary\n            to get your customized application up and running.\n          </p>\n          <div class=\"flex-grow\" *ngIf=\"properties.length > 0\">\n            <c8y-properties-list\n              icon=\"info\"\n              [properties]=\"properties\"\n              [data]=\"options\"\n              [title]=\"'Application properties' | translate\"\n            ></c8y-properties-list>\n          </div>\n          <div class=\"alert alert-danger m-32\" *ngIf=\"!hasRole\">\n            <strong translate>No permission</strong>\n            <div translate>\n              You don't have sufficient rights to setup this application. Contact an application\n              administrator to setup the required steps.\n            </div>\n          </div>\n          <div class=\"alert alert-danger m-32\" *ngIf=\"!isOwner\">\n            <strong translate>Not the owner</strong>\n            <div translate>\n              The current application is not owned by this tenant. Clone the application before\n              running the setup.\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"card-footer separator d-flex j-c-center\">\n    <button\n      class=\"btn\"\n      (click)=\"skip()\"\n      translate\n      *ngIf=\"canSkip\"\n      [title]=\"\n        'You can skip the setup now. It will be shown again as soon as you restart the application.'\n          | translate\n      \"\n    >\n      Skip\n    </button>\n\n    <button\n      class=\"btn btn-primary\"\n      (click)=\"start()\"\n      translate\n      [disabled]=\"!hasRole || !isOwner\"\n      [title]=\"'Start the setup wizard.' | translate\"\n    >\n      Start\n    </button>\n  </div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.OptionsService }, { type: i2.StepperService }, { type: i3.AppStateService }, { type: i4.AlertService }, { type: i5.Permissions }, { type: i6.SetupService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29yZS9zZXR1cC9zZXR1cC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9jb3JlL3NldHVwL3NldHVwLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFDbEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNqQyxPQUFPLEVBQUUsZUFBZSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdkQsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFDLE9BQU8sRUFBZSxRQUFRLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDNUQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFVBQVUsRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUM3RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQUUvQzs7O0dBR0c7QUFLSCxNQUFNLE9BQU8sY0FBYztJQW9EekIsWUFDUyxPQUF1QixFQUN0QixjQUE4QixFQUM5QixRQUF5QixFQUN6QixLQUFtQixFQUNuQixXQUF3QixFQUN4QixZQUEwQjtR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LENBQUM7YUFDbEM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxPQUFPLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU8sU0FBUztRQUNmLE1BQU0sZUFBZSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BELE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsUUFBUSxDQUFDLElBQUksR0FBRyxXQUFXLENBQUM7SUFDOUIsQ0FBQztJQUVPLGdCQUFnQixDQUFDLHNCQUFtQztRQUMxRCxPQUFPLHNCQUFzQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRU8sUUFBUSxDQUFDLElBQWlCO1FBQ2hDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDcEMsT0FBTyxPQUFPLENBQUM7U0FDaEI7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDckMsT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDOzsyR0FyTlUsY0FBYzsrRkFBZCxjQUFjLGlEQ3RCM0Isb3NjQXdTQTsyRkRsUmEsY0FBYztrQkFKMUIsU0FBUzsrQkFDRSxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHVuaXEgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc3RhcnRXaXRoLCB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi4vYWxlcnQvYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBPcHRpb25zU2VydmljZSB9IGZyb20gJy4uL2NvbW1vbi9vcHRpb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgUGVybWlzc2lvbnMgfSBmcm9tICcuLi9jb21tb24vcGVybWlzc2lvbnMuc2VydmljZSc7XG5pbXBvcnQgeyBBcHBTdGF0ZVNlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vdWktc3RhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBnZXR0ZXh0IH0gZnJvbSAnLi4vaTE4bi9nZXR0ZXh0JztcbmltcG9ydCB7IEluZGV4ZWRTdGVwLCBTdGVwcGVycyB9IGZyb20gJy4uL3N0ZXBwZXIvc3RlcHBlci5tb2RlbCc7XG5pbXBvcnQgeyBTdGVwcGVyU2VydmljZSB9IGZyb20gJy4uL3N0ZXBwZXIvc3RlcHBlci5zZXJ2aWNlJztcbmltcG9ydCB7IE5FRURFRF9ST0xFX0ZPUl9TRVRVUCwgU2V0dXBTdGF0ZSwgU2V0dXBTdGVwIH0gZnJvbSAnLi9zZXR1cC5tb2RlbCc7XG5pbXBvcnQgeyBTZXR1cFNlcnZpY2UgfSBmcm9tICcuL3NldHVwLnNlcnZpY2UnO1xuXG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGlzIHRoZSBwYXJlbnQgb2YgZWFjaCBzZXR1cCBhbmQgY2FuIGJlIGluamVjdGVkXG4gKiBpbnRvIHNldHVwIHN0ZXBzIHRvIGNvbnRyb2wgdGhlbS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXNldHVwJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3NldHVwLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBTZXR1cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8qKlxuICAgKiBBIHN1YmplY3Qgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZXhjaGFuZ2UgZGF0YSBiZXR3ZWVuXG4gICAqIHN0ZXBzLlxuICAgKi9cbiAgZGF0YSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGFueT4oe30pO1xuICAvKipcbiAgICogQWxsIGN1cnJlbnQgc2hvd24gc2V0dXAgc3RlcHMuXG4gICAqL1xuICBzdGVwczogU2V0dXBTdGVwW107XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzdGF0ZS4gU2V0dXBTdGF0ZS5TVEFSVCBzaG93cyBhbiBhcHBsaWNhdGlvbiBvdmVydmlld1xuICAgKiB3aGlsZSBTZXR1cFN0YXRlLldJWkFSRCBzaG93cyB0aGUgc3RlcHMuXG4gICAqL1xuICBjdXJyZW50U2V0dXBTdGF0ZSA9IFNldHVwU3RhdGUuU1RBUlQ7XG4gIC8qKlxuICAgKiBFbWl0cyB3aGVuIHRoZSBzZXR1cCBpcyBkb25lLiBZb3UgY2FuIGFkZCBjZXJ0YWluIG9wZXJhdGlvbnMgYmVmb3JlIGNvbXBsZXRpbmcgdGhlIHNldHVwIHRoYXQgbmVlZGVkIHRvIGJlIGF3YWl0ZWQuIFJldHVyblxuICAgKiB0cnVlIGlmIGV2ZXJ5dGhpbmcgaXMgZmluZSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIGNvbnN0IGFzeW5jT3BlcmF0aW9uID0gZGVsYXkoMjAwMCk7XG4gICAqIHRoaXMuc2V0dXAuY29tcGxldGVkJCA9IHRoaXMuc2V0dXAuY29tcGxldGVkJC5waXBlKGFzeW5jT3BlcmF0aW9uLCBtYXAoKCkgPT4gdHJ1ZSkpO1xuICAgKiBgYFxuICAgKiBOb3RlOiBSZW1lbWJlciB0aGF0IGEgc3RlcCBjYW4gYmUgdmlld2VkIG11bHRpcGxlIHRpbWVzLiBUaGUgc3RlcCBuZWVkcyB0byBlbnN1cmUsIHRvIG9ubHkgYWRkIGEgY29tcGxldGVkIG9wZXJhdGlvbiBvbmVzLlxuICAgKi9cbiAgY29tcGxldGVkJCA9IG5ldyBPYnNlcnZhYmxlPGJvb2xlYW4+KCkucGlwZShzdGFydFdpdGgodHJ1ZSkpO1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcmVhZG9ubHkgc3RlcHBlcklkID0gU3RlcHBlcnMuU0VUVVA7XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBzZXR1cFN0YXRlID0gU2V0dXBTdGF0ZTtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHByb3BlcnRpZXMgPSBbXTtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNhblNraXAgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGhhc1JvbGUgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGlzT3duZXIgPSB0cnVlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgUkVMT0FEX0FQUF9USU1FT1VUID0gMjAwMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgb3B0aW9uczogT3B0aW9uc1NlcnZpY2UsXG4gICAgcHJpdmF0ZSBzdGVwcGVyU2VydmljZTogU3RlcHBlclNlcnZpY2UsXG4gICAgcHJpdmF0ZSBhcHBTdGF0ZTogQXBwU3RhdGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgYWxlcnQ6IEFsZXJ0U2VydmljZSxcbiAgICBwcml2YXRlIHBlcm1pc3Npb25zOiBQZXJtaXNzaW9ucyxcbiAgICBwcml2YXRlIHNldHVwU2VydmljZTogU2V0dXBTZXJ2aWNlXG4gICkge31cblxuICAvKipcbiAgICogTWFyayBhIHN0ZXAgYXMgY29tcGxldGVkLiBJZiB0aGUgc3RlcCBpcyByZXF1aXJlZCwgdGhpcyBpcyBuZWVkZWQgdG8gZnVsZmlsbFxuICAgKiB0aGUgc2V0dXAuXG4gICAqIEBwYXJhbSBzdGVwSW5kZXggVGhlIGluZGV4IG9mIHRoZSBzdGVwIHlvdSB3YW50IHRvIG1hcmsgYXMgY29tcGxldGVkXG4gICAqIEBwYXJhbSBpc0NvbXBsZXRlZCBEZWZhdWx0cyB0byB0cnVlIHRvIG1hcmsgaXQgYXMgY29tcGxldGVkIGJ1dCBjYW4gYmUgc2V0IHRvIGZhbHNlIHRvIGludmFsaWRhdGUgdGhlIHN0ZXAuXG4gICAqL1xuICBzdGVwQ29tcGxldGVkKHN0ZXBJbmRleCwgaXNDb21wbGV0ZWQgPSB0cnVlKSB7XG4gICAgY29uc3Qgc3RlcCA9IHRoaXMuZ2V0QnlJbmRleChzdGVwSW5kZXgpO1xuICAgIHN0ZXAuY29tcGxldGVkID0gaXNDb21wbGV0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHN0ZXAgYnkgaXQgaW5kZXggcG9zaXRpb24gaW4gdGhlIHdpemFyZC5cbiAgICogQHBhcmFtIHN0ZXBJbmRleCBUaGUgc3RlcCBpbmRleCB0aGF0IHlvdSB3YW50IHRvIHJlY2VpdmUuXG4gICAqIEByZXR1cm5zIEFuIGluZGV4ZWQgc3RlcCBkZWZpbml0aW9uLlxuICAgKi9cbiAgZ2V0QnlJbmRleChzdGVwSW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGVwcy5maW5kKCh7IGluZGV4IH0pID0+IGluZGV4ID09PSBzdGVwSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGFzeW5jIG5nT25Jbml0KCkge1xuICAgIHRoaXMuc3RlcHMgPSAoYXdhaXQgdGhpcy5zdGVwcGVyU2VydmljZS5nZXRCeUlkJCh0aGlzLnN0ZXBwZXJJZCkudG9Qcm9taXNlKCkpLm1hcChcbiAgICAgIChzdGVwOiBTZXR1cFN0ZXAsIGluZGV4KSA9PiAoe1xuICAgICAgICAuLi5zdGVwLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZVxuICAgICAgfSlcbiAgICApO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZm9yY2VTZXR1cCkge1xuICAgICAgY29uc3QgZG9uZVNldHVwID0gdGhpcy5vcHRpb25zLnNldHVwIHx8IFtdO1xuICAgICAgdGhpcy5zdGVwcyA9IHRoaXMuc3RlcHMuZmlsdGVyKHN0ZXAgPT4gZG9uZVNldHVwLmluZGV4T2Yoc3RlcC5zZXR1cElkKSA9PT0gLTEpO1xuICAgIH1cblxuICAgIHRoaXMuaXNPd25lciA9IHRoaXMuYXBwU3RhdGUuaXNPd25lck9mQXBwbGljYXRpb24oKTtcbiAgICB0aGlzLmNhblNraXAgPSAhdGhpcy5oYXNSZXF1aXJlZFN0ZXBzKHRoaXMuc3RlcHMpO1xuICAgIHRoaXMuaGFzUm9sZSA9IHRoaXMucGVybWlzc2lvbnMuaGFzUm9sZShORUVERURfUk9MRV9GT1JfU0VUVVApO1xuICAgIHRoaXMucHJvcGVydGllcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IGdldHRleHQoJ0Rlc2NyaXB0aW9uJyksXG4gICAgICAgIGtleTogJ2Rlc2NyaXB0aW9uJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IGdldHRleHQoJ0tleXdvcmRzJyksXG4gICAgICAgIGtleTogJ2tleXdvcmRzJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IGdldHRleHQoJ1NvdXJjZScpLFxuICAgICAgICBrZXk6ICdyZXBvc2l0b3J5J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IGdldHRleHQoJ1ZlcnNpb24nKSxcbiAgICAgICAga2V5OiAndmVyc2lvbidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiBnZXR0ZXh0KCdBdXRob3InKSxcbiAgICAgICAga2V5OiAnYXV0aG9yJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6IGdldHRleHQoJ1JlcXVpcmVkIHBsYXRmb3JtIHZlcnNpb24nKSxcbiAgICAgICAga2V5OiAncmVxdWlyZWRQbGF0Zm9ybVZlcnNpb24nXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTa2lwcyB0aGUgY3VycmVudCBzZXR1cCB3aXphcmRcbiAgICovXG4gIHNraXAoKSB7XG4gICAgdGhpcy5zZXR1cFNlcnZpY2UuaXNTZXR1cE5lZWRlZCQgPSBvZihmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSB3aXphcmRzIChvciBmaW5pc2ggdGhlIHNldHVwIGlmIG5vIHN0ZXBzIGFyZSBmb3VuZClcbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuY3VycmVudFNldHVwU3RhdGUgPSBTZXR1cFN0YXRlLldJWkFSRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSB3aXphcmRzIGFuZCBnb2VzIGJhY2sgdG8gdGhlIHN0YXJ0IHZpZXcuXG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5jdXJyZW50U2V0dXBTdGF0ZSA9IFNldHVwU3RhdGUuU1RBUlQ7XG4gIH1cblxuICAvKipcbiAgICogRmluaXNoIHRoZSB3aXphcmQgYW5kIHdpbGwgc3RhcnQgdGhlIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIHRoaXMuY3VycmVudFNldHVwU3RhdGUgPSBTZXR1cFN0YXRlLkZJTkFMSVpJTkc7XG4gICAgdGhpcy5jb21wbGV0ZWQkLnN1YnNjcmliZShhc3luYyBzdGF0dXMgPT4ge1xuICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXR1cFN0YXRlID0gU2V0dXBTdGF0ZS5XSVpBUkQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmaW5hbGl6ZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9uZVNldHVwID0gdGhpcy5zdGVwcy5maWx0ZXIodmFsdWUgPT4gdmFsdWUuc2V0dXBJZCkubWFwKHZhbHVlID0+IHZhbHVlLnNldHVwSWQpO1xuICAgICAgY29uc3QgY3VycmVudENvbmZpZyA9IGF3YWl0IHRoaXMuYXBwU3RhdGUuY3VycmVudEFwcGxpY2F0aW9uQ29uZmlnLnBpcGUodGFrZSgxKSkudG9Qcm9taXNlKCk7XG4gICAgICBhd2FpdCB0aGlzLmFwcFN0YXRlLnVwZGF0ZUN1cnJlbnRBcHBsaWNhdGlvbkNvbmZpZyh7XG4gICAgICAgIHNldHVwOiB1bmlxKFsuLi4oY3VycmVudENvbmZpZy5zZXR1cERvbmUgfHwgW10pLCAuLi5kb25lU2V0dXBdKVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHRoaXMuYWxlcnQuYWRkU2VydmVyRmFpbHVyZShleCk7XG4gICAgICB0aGlzLmN1cnJlbnRTZXR1cFN0YXRlID0gU2V0dXBTdGF0ZS5XSVpBUkQ7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuY3VycmVudFNldHVwU3RhdGUgPSBTZXR1cFN0YXRlLlJFTE9BRElORztcbiAgICAgIC8vIFRvIGVuc3VyZSBwcm9wZXIgc2V0dXAsIHdlIHJlbG9hZCB0aGUgYXBwIHdoZW4gc2V0dXAgaXMgcmVhZHkuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucmVsb2FkQXBwKCksIHRoaXMuUkVMT0FEX0FQUF9USU1FT1VUKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpZXMgZXZlcnkgc3RlcCBhbmQgY2hlY2tzIGlmIGFsbCByZXF1aXJlZCBhcmUgY29tcGxldGVkLlxuICAgKiBVcGRhdGVzIHRoZSBpY29ucyB0byByZWZsZWN0IHRoZSBzdGF0ZSBvZiB0aGUgc3RlcHMgKGVycm9yLCB3YXJuaW5nLCBkb25lKS5cbiAgICogQHJldHVybnMgUmV0dXJucyB0cnVlIGlmIG5vIGVycm9yIHdhcyBmb3VuZC5cbiAgICovXG4gIHZlcmlmeSgpIHtcbiAgICB0aGlzLnN0ZXBzLmZvckVhY2goKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGVwcy5sZW5ndGggLSAxICE9PSBpbmRleCkge1xuICAgICAgICBzdGVwLnN0YXRlID0gdGhpcy5nZXRTdGF0ZShzdGVwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gISF0aGlzLnN0ZXBzLmZpbmQoc3RlcCA9PiBzdGVwLnN0YXRlICE9PSAnZXJyb3InKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVsb2FkQXBwKCkge1xuICAgIGNvbnN0IHJlbW92ZVVybFBhcmFtcyA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKVswXTtcbiAgICBjb25zdCByZW1vdmVkSGFzaCA9IHJlbW92ZVVybFBhcmFtcy5zcGxpdCgnIycpWzBdO1xuICAgIGxvY2F0aW9uLmhyZWYgPSByZW1vdmVkSGFzaDtcbiAgfVxuXG4gIHByaXZhdGUgaGFzUmVxdWlyZWRTdGVwcyhub3RDb21wbGV0ZWRTZXR1cFN0ZXBzOiBTZXR1cFN0ZXBbXSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub3RDb21wbGV0ZWRTZXR1cFN0ZXBzLnNvbWUoc3RlcCA9PiBzdGVwLnJlcXVpcmVkKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdGUoc3RlcDogSW5kZXhlZFN0ZXApIHtcbiAgICBpZiAoIXN0ZXAuY29tcGxldGVkICYmIHN0ZXAucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiAnZXJyb3InO1xuICAgIH1cbiAgICBpZiAoIXN0ZXAuY29tcGxldGVkICYmICFzdGVwLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gJ3dhcm5pbmcnO1xuICAgIH1cbiAgICByZXR1cm4gJ2RvbmUnO1xuICB9XG59XG4iLCI8Yzh5LXRpdGxlPlxuICB7eyBvcHRpb25zLm5hbWUgfCBodW1hbml6ZUFwcE5hbWUgfCBhc3luYyB9fVxuPC9jOHktdGl0bGU+XG5cbjxkaXZcbiAgY2xhc3M9XCJjYXJkIGNvbnRlbnQtZnVsbHBhZ2UgZmFkZUluUmlnaHRCaWcgYW5pbWF0ZWRcIlxuICAqbmdJZj1cImN1cnJlbnRTZXR1cFN0YXRlICE9PSBzZXR1cFN0YXRlLlNUQVJUXCJcbj5cbiAgPGM4eS1zdGVwcGVyLW91dGxldFxuICAgIFtzaG93RGVmYXVsdEJ1dHRvbnNdPVwiZmFsc2VcIlxuICAgIFtzdGVwc109XCJzdGVwc1wiXG4gICAgY2xhc3M9XCJkLWNvbnRlbnRzXCJcbiAgPjwvYzh5LXN0ZXBwZXItb3V0bGV0PlxuPC9kaXY+XG5cbjxkaXZcbiAgY2xhc3M9XCJjYXJkIGNvbnRlbnQtZnVsbHBhZ2UgZC1mbGV4IGQtY29sIGZhZGVJblVwQmlnIGFuaW1hdGVkXCJcbiAgKm5nSWY9XCJjdXJyZW50U2V0dXBTdGF0ZSA9PT0gc2V0dXBTdGF0ZS5TVEFSVFwiXG4+XG4gIDxkaXYgY2xhc3M9XCJpbm5lci1zY3JvbGwgZmxleC1ncm93XCI+XG4gICAgPGRpdiBjbGFzcz1cImNhcmQtYmxvY2tcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1tZC04IGNvbC1tZC1vZmZzZXQtMiBjb2wtbGctNiBjb2wtbGctb2Zmc2V0LTMgcC10LTI0XCI+XG4gICAgICAgICAgPHN2ZyBjbGFzcz1cInAtdC0zMlwiIHZpZXdCb3g9XCIwIDAgMzYwIDE5MFwiIHN0eWxlPVwibWF4LXdpZHRoOiA0NTBweDsgbWFyZ2luOiBhdXRvXCI+XG4gICAgICAgICAgICA8Z1xuICAgICAgICAgICAgICBpZD1cImVjb3N5c3RlbS13ZWxjb21lLWlsbHVzdHJhdGlvblwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cIm5vbmVcIlxuICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIxXCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGcgaWQ9XCJtZWRpdW0taW1nXCI+XG4gICAgICAgICAgICAgICAgPGcgaWQ9XCJNLS0tTm90aGluZy1mb3VuZC0tLWlsbHVzdHJhdGlvblwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgyNy4wMDAwMDAsIDAuMDAwMDAwKVwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk00MS45ODgyMTYzLDE4NC4xNTMxNzcgQzI0LjM1MTI5NjQsMTY1LjAyODgxOCAxNC43OTY3MTMsMTM4LjYzNzIwMiAxOC4wNzE3MTE3LDExMy4xMjgyNDggQzIxLjM0NjcxMDUsODcuNjE5Mjk0NyAzOC4wMDcxMzk5LDYzLjcxMzg0NTIgNjEuODQ4NTI5OCw1Mi45NDUzNTk2IEM3MS4wODI5NTg1LDQ5LjA1MTM0MTQgODAuODA5NjA0Nyw0Ni4zODkzNjg5IDkwLjc2NzY3LDQ1LjAzMDgxNjkgQzk4LjQ4OTQ1Niw0My44MDk4MDAxIDExOC42MDUxNTksNDMuODA5ODAwMSAxMzQuMzc5MjM2LDQzLjgwOTgwMDEgQzE0NS40MDYwNjYsNDMuODA5ODAwMSAxODEuMjM1NzU0LDM4Ljk2OTg2NiAyMDcuMDE1MTAzLDE2LjUzNTUyMTEgQzIxMy43NDUzNzUsMTAuNjUxMTAyNyAyMzkuMjY5MzMyLC03LjY5MzU3MTQ2IDI3MS40Nzg0OTUsNS4xMTk3NDk0OSBDMjkzLjAzNjM5OSwxMy42OTYyODkyIDMwOC43ODA0MzEsMjkuMDY5MzMyMSAzMTIuOTExNzM2LDM4LjMwNzg2ODkgQzMzMS4zMTQ4MjUsNzkuNDEwNTMxMSAzMjAuMDE3NTgyLDEyOS42MzQwNDIgMjkxLjIzMzY0OCwxNjQuNTU4MDY1IEMyODUuNzIwMjMyLDE3MS4yNTE1OTEgMjc5LjQ3MDY5NCwxNzcuNTkyMDUxIDI3MS43MDM4NCwxODEuNjA4MTY3IEMyNjguNzI2NzAyLDE4Mi44MzQ5MTggMjY1LjYyNDQ1MSwxODMuNzQ3MjU4IDI2Mi40NDk3MTUsMTg0LjMyOTcxIEw0MS45ODgyMTYzLDE4NC4xNTMxNzcgWlwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjQ0RFNkY5XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgPGVsbGlwc2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJPdmFsXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM1RkFFRUNcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgY3g9XCIyOC4xNjMzNzI5XCJcbiAgICAgICAgICAgICAgICAgICAgY3k9XCIxNjIuODgwNDM1XCJcbiAgICAgICAgICAgICAgICAgICAgcng9XCIyLjY4MjIyNTk4XCJcbiAgICAgICAgICAgICAgICAgICAgcnk9XCIyLjY4MTE1OTQxXCJcbiAgICAgICAgICAgICAgICAgID48L2VsbGlwc2U+XG4gICAgICAgICAgICAgICAgICA8ZWxsaXBzZVxuICAgICAgICAgICAgICAgICAgICBpZD1cIk92YWxcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICBjeD1cIjY1LjcxNDUzNjdcIlxuICAgICAgICAgICAgICAgICAgICBjeT1cIjY1LjY4ODQwNTlcIlxuICAgICAgICAgICAgICAgICAgICByeD1cIjQuMDIzMzM4OTlcIlxuICAgICAgICAgICAgICAgICAgICByeT1cIjMuMzUxNDQ5MjhcIlxuICAgICAgICAgICAgICAgICAgPjwvZWxsaXBzZT5cbiAgICAgICAgICAgICAgICAgIDxnXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiR3JvdXBcIlxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5PVwiMC44XCJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDguMDQ2Njc3LCAxNi43NTcyNDcpXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM3QkNBRUZcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICBkPVwiTTEyLjgzNDQ1MTMsOC4wNDM0NzgyNiBMMi41MDc4ODEyOSw4LjA0MzQ3ODI2IEMxLjkwNDg4NzYzLDguMjIxMDU3MjcgMS4yNTY2NTgwNCw3Ljk5MzY0NDMyIDAuODkyNjIxNTYzLDcuNDc2ODEwMjEgQzAuNTI4NTg1MDgzLDYuOTU5OTc2MTEgMC41Mjg1ODUwODMsNi4yNjcwNzcwMyAwLjg5MjYyMTU2Myw1Ljc1MDI0MjkzIEMxLjI1NjY1ODA0LDUuMjMzNDA4ODIgMS45MDQ4ODc2Myw1LjAwNTk5NTg3IDIuNTA3ODgxMjksNS4xODM1NzQ4OCBMMTIuODM0NDUxMyw1LjE4MzU3NDg4IEMxMy40Mzc0NDUsNS4wMDU5OTU4NyAxNC4wODU2NzQ2LDUuMjMzNDA4ODIgMTQuNDQ5NzExMSw1Ljc1MDI0MjkzIEMxNC44MTM3NDc2LDYuMjY3MDc3MDMgMTQuODEzNzQ3Niw2Ljk1OTk3NjExIDE0LjQ0OTcxMTEsNy40NzY4MTAyMSBDMTQuMDg1Njc0Niw3Ljk5MzY0NDMyIDEzLjQzNzQ0NSw4LjIyMTA1NzI3IDEyLjgzNDQ1MTMsOC4wNDM0NzgyNiBaXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNNy42NDE2NjE4NCwxMy4yODY2MzQ1IEM2LjgyNjkxNzk1LDEzLjI4NjYzNDUgNi4xNjY0Mzc1NCwxMi42MTk3NDc4IDYuMTY2NDM3NTQsMTEuNzk3MTAxNCBMNi4xNjY0Mzc1NCwxLjM3MDM3MDM3IEM2LjM1MDAyMTAxLDAuNzM0ODM2Mjg2IDYuOTI2OTk3NjMsMC4yOTc5MDY2MDMgNy41ODI2NTI4NywwLjI5NzkwNjYwMyBDOC4yMzgzMDgxLDAuMjk3OTA2NjAzIDguODE1Mjg0NzEsMC43MzQ4MzYyODYgOC45OTg4ODM1NiwxLjM3MDM3MDM3IEw4Ljk5ODg4MzU2LDExLjc5NzEwMTQgQzkuMDAxMzM4MzksMTIuNTc1MzczMSA4LjQwOTk5MTAxLDEzLjIyNDM3NjQgNy42NDE2NjE4NCwxMy4yODY2MzQ1IFpcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICA8ZWxsaXBzZVxuICAgICAgICAgICAgICAgICAgICBpZD1cIk92YWxcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICBjeD1cIjIuNjgyMjI1OThcIlxuICAgICAgICAgICAgICAgICAgICBjeT1cIjkwLjQ4OTEzMDVcIlxuICAgICAgICAgICAgICAgICAgICByeD1cIjIuNjgyMjI1OThcIlxuICAgICAgICAgICAgICAgICAgICByeT1cIjIuNjgxMTU5NDFcIlxuICAgICAgICAgICAgICAgICAgPjwvZWxsaXBzZT5cbiAgICAgICAgICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiT3ZhbFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjNUZBRUVDXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICAgIGN4PVwiMjU3LjQ5MzY5NVwiXG4gICAgICAgICAgICAgICAgICAgIGN5PVwiMTU3LjUxODExNlwiXG4gICAgICAgICAgICAgICAgICAgIHJ4PVwiMi42ODIyMjU5OFwiXG4gICAgICAgICAgICAgICAgICAgIHJ5PVwiMi42ODExNTk0MVwiXG4gICAgICAgICAgICAgICAgICA+PC9lbGxpcHNlPlxuICAgICAgICAgICAgICAgICAgPGVsbGlwc2VcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJPdmFsXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiMxNDYyOUZcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgY3g9XCIyOTkuNzM4NzU0XCJcbiAgICAgICAgICAgICAgICAgICAgY3k9XCIxNTUuNTA3MjQ3XCJcbiAgICAgICAgICAgICAgICAgICAgcng9XCIyLjAxMTY2OTQ5XCJcbiAgICAgICAgICAgICAgICAgICAgcnk9XCIyLjAxMDg2OTU3XCJcbiAgICAgICAgICAgICAgICAgID48L2VsbGlwc2U+XG4gICAgICAgICAgICAgICAgICA8ZWxsaXBzZVxuICAgICAgICAgICAgICAgICAgICBpZD1cIk92YWxcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzk2Q0FGM1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICBjeD1cIjI2MC4xNzU5MjFcIlxuICAgICAgICAgICAgICAgICAgICBjeT1cIjU5LjY1NTc5NzFcIlxuICAgICAgICAgICAgICAgICAgICByeD1cIjIuNjgyMjI1OThcIlxuICAgICAgICAgICAgICAgICAgICByeT1cIjIuNjgxMTU5NDFcIlxuICAgICAgICAgICAgICAgICAgPjwvZWxsaXBzZT5cbiAgICAgICAgICAgICAgICAgIDxlbGxpcHNlXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiT3ZhbFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM1RkFFRUNcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgY3g9XCIzMjkuOTEzNzk2XCJcbiAgICAgICAgICAgICAgICAgICAgY3k9XCIxMTEuOTM4NDA2XCJcbiAgICAgICAgICAgICAgICAgICAgcng9XCIyLjY4MjIyNTk4XCJcbiAgICAgICAgICAgICAgICAgICAgcnk9XCIyLjY4MTE1OTQxXCJcbiAgICAgICAgICAgICAgICAgID48L2VsbGlwc2U+XG4gICAgICAgICAgICAgICAgICA8ZWxsaXBzZVxuICAgICAgICAgICAgICAgICAgICBpZD1cIk92YWxcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjOTZDQUYzXCJcbiAgICAgICAgICAgICAgICAgICAgY3g9XCI5NS4yMTkwMjI2XCJcbiAgICAgICAgICAgICAgICAgICAgY3k9XCIxNDQuNzgyNjA5XCJcbiAgICAgICAgICAgICAgICAgICAgcng9XCI0LjAyMzMzODk5XCJcbiAgICAgICAgICAgICAgICAgICAgcnk9XCIzLjM1MTQ0OTI4XCJcbiAgICAgICAgICAgICAgICAgID48L2VsbGlwc2U+XG4gICAgICAgICAgICAgICAgICA8Z1xuICAgICAgICAgICAgICAgICAgICBpZD1cIkdyb3VwXCJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eT1cIjAuNlwiXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgyNzMuNTg3MDUwLCAxMjEuMzIyNDY0KVwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjMTQ2MjlGXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgZD1cIk0xMi4xMjYzNDM3LDguMDEzNjg3NjEgTDEuNzk5NzczNjMsOC4wMTM2ODc2MSBDMS4xNzAzNDQ2MSw3LjgyODMyMzQ5IDAuNzM3NjEyMTQ3LDcuMjQ1NzUwNTggMC43Mzc2MTIxNDcsNi41ODM3MzU5IEMwLjczNzYxMjE0Nyw1LjkyMTcyMTI0IDEuMTcwMzQ0NjEsNS4zMzkxNDgzMyAxLjc5OTc3MzYzLDUuMTUzNzg0MjEgTDEyLjEyNjM0MzcsNS4xNTM3ODQyMSBDMTIuNzI5MzM3NCw0Ljk3NjIwNTIxIDEzLjM3NzU2NjksNS4yMDM2MTgxNyAxMy43NDE2MDM0LDUuNzIwNDUyMjYgQzE0LjEwNTYzOTksNi4yMzcyODYzNyAxNC4xMDU2Mzk5LDYuOTMwMTg1NDUgMTMuNzQxNjAzNCw3LjQ0NzAxOTU2IEMxMy4zNzc1NjY5LDcuOTYzODUzNjUgMTIuNzI5MzM3NCw4LjE5MTI2NjYxIDEyLjEyNjM0MzcsOC4wMTM2ODc2MSBMMTIuMTI2MzQzNyw4LjAxMzY4NzYxIFpcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgID48L3BhdGg+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgZD1cIk02Ljk0ODMwNjQyLDEzLjI0MTk0ODUgQzYuMTMzNTYyNTQsMTMuMjQxOTQ4NSA1LjQ3MzA4MjEyLDEyLjU3NTA2MTggNS40NzMwODIxMiwxMS43NTI0MTU1IEw1LjQ3MzA4MjEyLDEuMzI1Njg0MzggQzUuNjU2NjY1NiwwLjY5MDE1MDI5NSA2LjIzMzY0MjIxLDAuMjUzMjIwNjEyIDYuODg5Mjk3NDQsMC4yNTMyMjA2MTIgQzcuNTQ0OTUyNjksMC4yNTMyMjA2MTIgOC4xMjE5MjkzLDAuNjkwMTUwMjk1IDguMzA1NTI4MTUsMS4zMjU2ODQzOCBMOC4zMDU1MjgxNSwxMS43NTI0MTU1IEM4LjMwNzk4Mjk3LDEyLjUzMDY4NzEgNy43MTY2MzU1OCwxMy4xNzk2OTA0IDYuOTQ4MzA2NDIsMTMuMjQxOTQ4NSBaXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgICAgPHJlY3RcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJSZWN0YW5nbGVcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICB4PVwiMTA3LjI4OTA0XCJcbiAgICAgICAgICAgICAgICAgICAgeT1cIjEyOC4wMjUzNjJcIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwOS45NzEyNjVcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCI0OC4yNjA4Njk1XCJcbiAgICAgICAgICAgICAgICAgID48L3JlY3Q+XG4gICAgICAgICAgICAgICAgICA8cG9seWdvblxuICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICBwb2ludHM9XCIyMDUuNzQ0NTE2IDkxLjgyOTcxMDIgMTIxLjU1NTk4OCA5MS44Mjk3MTAyIDEwNy4yODkwNCAxMjkuMzY1OTQyIDIxNy4yNjAzMDYgMTI5LjM2NTk0MlwiXG4gICAgICAgICAgICAgICAgICA+PC9wb2x5Z29uPlxuICAgICAgICAgICAgICAgICAgPHBvbHlnb25cbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJQYXRoXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM1RkFFRUNcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsLXJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzPVwiOTMuODc3OTA5NSAxMTQuOTE3NDcyIDEwMy40NzgwNTcgOTguNTMyNjA4NiAxMTguMDE3OTQzIDEyMS40NzE0MTcgMTA3LjAzNTg0NSAxMjguMDI1MzYyXCJcbiAgICAgICAgICAgICAgICAgID48L3BvbHlnb24+XG4gICAgICAgICAgICAgICAgICA8cG9seWdvblxuICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgICBwb2ludHM9XCIyMDkuMjEzNjI3IDEyMy4zMTY3MzYgMjE2LjgxMzI2OCAxMjkuMzY1OTQyIDIzMi4wMTI1NDggMTE0LjY4MzQwMiAyMjEuMzczMDUxIDk4LjUzMjYwODZcIlxuICAgICAgICAgICAgICAgICAgPjwvcG9seWdvbj5cbiAgICAgICAgICAgICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjOTZDQUYzXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICAgIHBvaW50cz1cIjIxNC44ODQ5ODYgMTA1LjIzNTUwNyAxMTEuNjQ4ODAzIDEwNS4yMzU1MDcgMTA3LjI4OTA0IDEyOS4zNjU5NDIgMjE3LjI2MDMwNiAxMjkuMzY1OTQyXCJcbiAgICAgICAgICAgICAgICAgID48L3BvbHlnb24+XG4gICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBkPVwiTTkxLjY3NjE0NDYsMzAuMzQyMzE2MyBDOTIuMzIyMjE3MywzMC4zNDIzMTYzIDkyLjg0NTk2MjgsMzAuODUzNzI3NSA5Mi44NDU5NjI4LDMxLjQ4NDU4NTMgQzkyLjg0NTk2MjgsMzIuMTE1NDQzMSA5Mi4zMjIyMTczLDMyLjYyNjg1NDUgOTEuNjc2MTQ0NiwzMi42MjY4NTQ1IEM5MS4wMzAwNzE4LDMyLjYyNjg1NDUgOTAuNTA2MzI2NCwzMi4xMTU0NDMxIDkwLjUwNjMyNjQsMzEuNDg0NTg1MyBDOTAuNTI4OTQ0MSwzMC44NjMxMDUzIDkxLjAzOTY3NTcsMzAuMzY0NDAxNCA5MS42NzYxNDQ2LDMwLjM0MjMxNjMgWiBNOTEuODY2MjQwMSwyNC42MzA5NzA4IEM5Mi40OTQwNzQ1LDI0LjYwNjU4MTkgOTMuMTAzNzkyOSwyNC44Mzk0MzIzIDkzLjU0ODA5MDEsMjUuMjczMjY2MiBDOTMuOTkyMzg3MiwyNS43MDcxMDA0IDk0LjIzMDg1MzUsMjYuMzAyNDYgOTQuMjA1ODc2NCwyNi45MTU1MDg5IEw5NC4yMDU4NzY0LDI3LjUxNTIwMDIgTDg5LjUyNjYwMzYsMjcuNTE1MjAwMiBMODkuNTI2NjAzNiwyNi45MTU1MDg5IEM4OS40OTYwMzA1LDI2LjI4OTU3MjMgODkuNzQwNDE1NCwyNS42ODA2MzQxIDkwLjE5ODM3ODgsMjUuMjQxNjM1OSBDOTAuNjU2MzQyMSwyNC44MDI2Mzc1IDkxLjI4NDM3MTYsMjQuNTc1Mjg5NCA5MS45MjQ3MzEsMjQuNjE2NjkyNCBMOTEuODY2MjQwMSwyNC42MzA5NzA4IFogTTkxLjg2NjI0MDEsMjMuNDc0NDIzMiBDOTAuOTI5MjA0OCwyMy40NjY3MzQgOTAuMDI4MjU5MywyMy44MjY4MDYzIDg5LjM2NTY1MTksMjQuNDczODA5NCBDODguNzAzMDQ0NSwyNS4xMjA4MTI1IDg4LjMzNDI4ODEsMjYuMDAwNTQwNyA4OC4zNDIxNjI3LDI2LjkxNTUwODkgTDg4LjM0MjE2MjcsMjcuNTE1MjAwMiBMODcuMTcyMzQ0NiwyNy41MTUyMDAyIEw4Ny4xNzIzNDQ2LDM1LjUyNTM2MjMgTDk2LjU2MDEzNTUsMzUuNTI1MzYyMyBMOTYuNTYwMTM1NSwyNy41MDA5MjE5IEw5NS4zOTAzMTczLDI3LjUwMDkyMTkgTDk1LjM5MDMxNzMsMjYuOTAxMjMwNiBDOTUuMzk4MTA2MywyNS45OTYxNjIxIDk1LjAzNzM1MSwyNS4xMjUxNDUxIDk0LjM4NzQyMDYsMjQuNDc5ODA5NSBDOTMuNzM3NDkwMSwyMy44MzQ0NzM4IDkyLjg1MTYyODMsMjMuNDY3Njg3MSA5MS45MjQ3MzEsMjMuNDYwMTQ1IEw5MS44NjYyNDAxLDIzLjQ3NDQyMzIgWlwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiU2hhcGVcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIGZpbGwtcnVsZT1cIm5vbnplcm9cIlxuICAgICAgICAgICAgICAgICAgPjwvcGF0aD5cbiAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNMjU0LjgxMTQ2OSwyNC44MDA3MjQ3IEwyNDguMTEzMjQ5LDEyLjczNTUwNzIgTDI0MS40MDAzMzksMjQuODAwNzI0NyBMMjU0LjgxMTQ2OSwyNC44MDA3MjQ3IFogTTI0OC43MTU1LDIyLjc4NzQwNTggTDI0Ny40NjY5MjksMjIuNzg3NDA1OCBMMjQ3LjQ2NjkyOSwyMS42NDExMzY3IEwyNDguNjcxNDM0LDIxLjY0MTEzNjcgTDI0OC43MTU1LDIyLjc4NzQwNTggWiBNMjQ4LjcxNTUsMjAuNTA5NTYzMiBMMjQ3LjQ2NjkyOSwyMC41MDk1NjMyIEwyNDcuNDY2OTI5LDE3LjU3MDQxMTcgTDI0OC42NzE0MzQsMTcuNTcwNDExNyBMMjQ4LjcxNTUsMjAuNTA5NTYzMiBaXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJTaGFwZVwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjNUZBRUVDXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgPGxpbmVcbiAgICAgICAgICAgICAgICAgICAgeDE9XCIyMDEuMTY2OTQ5XCJcbiAgICAgICAgICAgICAgICAgICAgeTE9XCI0MC44ODc2ODEyXCJcbiAgICAgICAgICAgICAgICAgICAgeDI9XCIxODcuNzU1ODE4XCJcbiAgICAgICAgICAgICAgICAgICAgeTI9XCI2MC45OTYzNzY5XCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJQYXRoXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzVGQUVFQ1wiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgPjwvbGluZT5cbiAgICAgICAgICAgICAgICAgIDxsaW5lXG4gICAgICAgICAgICAgICAgICAgIHgxPVwiMTY1Ljk2OTQzOFwiXG4gICAgICAgICAgICAgICAgICAgIHkxPVwiMzEuNTAzNjIzMVwiXG4gICAgICAgICAgICAgICAgICAgIHgyPVwiMTY1LjI4NTQ3MVwiXG4gICAgICAgICAgICAgICAgICAgIHkyPVwiNTUuNjM0MDU3OVwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM1RkFFRUNcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgID48L2xpbmU+XG4gICAgICAgICAgICAgICAgICA8bGluZVxuICAgICAgICAgICAgICAgICAgICB4MT1cIjEzMC4wODc5NlwiXG4gICAgICAgICAgICAgICAgICAgIHkxPVwiNDQuOTA5NDIwM1wiXG4gICAgICAgICAgICAgICAgICAgIHgyPVwiMTQ2LjE4MTMxNlwiXG4gICAgICAgICAgICAgICAgICAgIHkyPVwiNjMuNjc3NTM2MlwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiUGF0aFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiM1RkFFRUNcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgID48L2xpbmU+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDxwb2x5Z29uXG4gICAgICAgICAgICAgICAgICBpZD1cIkZpbGwtNTZcIlxuICAgICAgICAgICAgICAgICAgZmlsbD1cIiNBNUQxRkVcIlxuICAgICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICBwb2ludHM9XCIwIDE4NSAzMzUgMTg1IDMzNSAxNzUgMCAxNzVcIlxuICAgICAgICAgICAgICAgID48L3BvbHlnb24+XG4gICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8aDFcbiAgICAgICAgICAgIGNsYXNzPVwicC10LTE2IHAtYi0xNiB0ZXh0LWNlbnRlciB0ZXh0LW1lZGl1bVwiXG4gICAgICAgICAgICBuZ05vbkJpbmRhYmxlXG4gICAgICAgICAgICB0cmFuc2xhdGVcbiAgICAgICAgICAgIFt0cmFuc2xhdGVQYXJhbXNdPVwieyBhcHBOYW1lOiBvcHRpb25zLm5hbWUgfCBodW1hbml6ZUFwcE5hbWUgfCBhc3luYyB9XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBXZWxjb21lIHRvIHt7IGFwcE5hbWUgfX1cbiAgICAgICAgICA8L2gxPlxuICAgICAgICAgIDxwIGNsYXNzPVwibGVhZCB0ZXh0LW5vcm1hbFwiIHRyYW5zbGF0ZSAqbmdJZj1cImhhc1JvbGVcIj5cbiAgICAgICAgICAgIFRoaXMgYXBwbGljYXRpb24gKG9yIGFueSBwbHVnaW4gdGhhdCB5b3UgYWRkZWQgcmVjZW50bHkpIGhhcyBwcmUtcmVxdWlyZW1lbnRzIHRoYXQgbmVlZHNcbiAgICAgICAgICAgIHRvIGJlIGNvbmZpZ3VyZWQgZmlyc3QuIFRoaXMgd2l6YXJkIHdpbGwgZ3VpZGUgeW91IHRocm91Z2ggdGhlIHN0ZXBzIHRoYXQgYXJlIG5lY2Vzc2FyeVxuICAgICAgICAgICAgdG8gZ2V0IHlvdXIgY3VzdG9taXplZCBhcHBsaWNhdGlvbiB1cCBhbmQgcnVubmluZy5cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtZ3Jvd1wiICpuZ0lmPVwicHJvcGVydGllcy5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICA8Yzh5LXByb3BlcnRpZXMtbGlzdFxuICAgICAgICAgICAgICBpY29uPVwiaW5mb1wiXG4gICAgICAgICAgICAgIFtwcm9wZXJ0aWVzXT1cInByb3BlcnRpZXNcIlxuICAgICAgICAgICAgICBbZGF0YV09XCJvcHRpb25zXCJcbiAgICAgICAgICAgICAgW3RpdGxlXT1cIidBcHBsaWNhdGlvbiBwcm9wZXJ0aWVzJyB8IHRyYW5zbGF0ZVwiXG4gICAgICAgICAgICA+PC9jOHktcHJvcGVydGllcy1saXN0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXIgbS0zMlwiICpuZ0lmPVwiIWhhc1JvbGVcIj5cbiAgICAgICAgICAgIDxzdHJvbmcgdHJhbnNsYXRlPk5vIHBlcm1pc3Npb248L3N0cm9uZz5cbiAgICAgICAgICAgIDxkaXYgdHJhbnNsYXRlPlxuICAgICAgICAgICAgICBZb3UgZG9uJ3QgaGF2ZSBzdWZmaWNpZW50IHJpZ2h0cyB0byBzZXR1cCB0aGlzIGFwcGxpY2F0aW9uLiBDb250YWN0IGFuIGFwcGxpY2F0aW9uXG4gICAgICAgICAgICAgIGFkbWluaXN0cmF0b3IgdG8gc2V0dXAgdGhlIHJlcXVpcmVkIHN0ZXBzLlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlciBtLTMyXCIgKm5nSWY9XCIhaXNPd25lclwiPlxuICAgICAgICAgICAgPHN0cm9uZyB0cmFuc2xhdGU+Tm90IHRoZSBvd25lcjwvc3Ryb25nPlxuICAgICAgICAgICAgPGRpdiB0cmFuc2xhdGU+XG4gICAgICAgICAgICAgIFRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIGlzIG5vdCBvd25lZCBieSB0aGlzIHRlbmFudC4gQ2xvbmUgdGhlIGFwcGxpY2F0aW9uIGJlZm9yZVxuICAgICAgICAgICAgICBydW5uaW5nIHRoZSBzZXR1cC5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImNhcmQtZm9vdGVyIHNlcGFyYXRvciBkLWZsZXggai1jLWNlbnRlclwiPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiYnRuXCJcbiAgICAgIChjbGljayk9XCJza2lwKClcIlxuICAgICAgdHJhbnNsYXRlXG4gICAgICAqbmdJZj1cImNhblNraXBcIlxuICAgICAgW3RpdGxlXT1cIlxuICAgICAgICAnWW91IGNhbiBza2lwIHRoZSBzZXR1cCBub3cuIEl0IHdpbGwgYmUgc2hvd24gYWdhaW4gYXMgc29vbiBhcyB5b3UgcmVzdGFydCB0aGUgYXBwbGljYXRpb24uJ1xuICAgICAgICAgIHwgdHJhbnNsYXRlXG4gICAgICBcIlxuICAgID5cbiAgICAgIFNraXBcbiAgICA8L2J1dHRvbj5cblxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgIChjbGljayk9XCJzdGFydCgpXCJcbiAgICAgIHRyYW5zbGF0ZVxuICAgICAgW2Rpc2FibGVkXT1cIiFoYXNSb2xlIHx8ICFpc093bmVyXCJcbiAgICAgIFt0aXRsZV09XCInU3RhcnQgdGhlIHNldHVwIHdpemFyZC4nIHwgdHJhbnNsYXRlXCJcbiAgICA+XG4gICAgICBTdGFydFxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19