import { NgModule } from '@angular/core';
import { gettext, ProviderConfigurationModule } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { SimGuard } from './sim.guard';
import * as i0 from "@angular/core";
import * as i1 from "@c8y/ngx-components";
export async function encodeFiles(model, fields) {
    const result = { ...model };
    const fileFields = (get(fields, '[0].fieldGroup') || []).filter((field) => {
        return field.type === 'file' && field.templateOptions.contentEncoding === 'base64';
    });
    for (const fileField of fileFields) {
        const files = model[fileField.key];
        if (files && Array.isArray(files) && files.length) {
            if (fileField.templateOptions.maxAllowedFiles === 1) {
                result[fileField.key] = (await files[0].readAsDataURL()).replace(/data:\S+;base64,/gi, '');
            }
            else {
                const encodedFileContent = [];
                for (const file of files) {
                    encodedFileContent.push((await file.readAsDataURL()).replace(/data:\S+;base64,/gi, ''));
                }
                result[fileField.key] = encodedFileContent;
            }
        }
        else if (typeof files === 'string' || files instanceof String) {
            result[fileField.key] = files;
        }
    }
    return result;
}
export class SimModule {
}
SimModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: SimModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
SimModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "14.0.0", version: "14.0.6", ngImport: i0, type: SimModule, imports: [i1.ProviderConfigurationModule] });
SimModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: SimModule, providers: [SimGuard], imports: [ProviderConfigurationModule.config([
            {
                navigation: {
                    label: gettext('Connectivity'),
                    path: 'connectivitySettings',
                    icon: 'plug',
                    parent: gettext('Settings'),
                    priority: 1000,
                    preventDuplicates: true
                },
                tab: {
                    path: 'sim_provider_settings',
                    label: 'SIM provider settings',
                    icon: 'mobile',
                    canActivate: [SimGuard]
                },
                layout: {
                    pageTitle: gettext('Connectivity'),
                    cardTitle: gettext('Settings'),
                    description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                    providerName: gettext('Provider'),
                    providerNamePlaceholder: gettext('Select or type to filter providers'),
                    providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                    deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                    deleteBtnLabel: gettext('Delete'),
                    saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                    saveBtnLabel: gettext('Save'),
                    beforeSaveHook: encodeFiles,
                    configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                    deleteConfigurationModalTitle: gettext('Delete settings'),
                    deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                    deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                    configurationDeletedSuccessMsg: gettext('Settings deleted.')
                },
                endpoint: {
                    definitionsEndpoint: {
                        baseUrl: 'service/connectivity/metadata',
                        listUrl: 'definitions'
                    },
                    configurationEndpoint: {
                        baseUrl: 'service/connectivity/metadata',
                        listUrl: 'sim/provider'
                    }
                }
            }
        ])] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.0.6", ngImport: i0, type: SimModule, decorators: [{
            type: NgModule,
            args: [{
                    providers: [SimGuard],
                    imports: [
                        ProviderConfigurationModule.config([
                            {
                                navigation: {
                                    label: gettext('Connectivity'),
                                    path: 'connectivitySettings',
                                    icon: 'plug',
                                    parent: gettext('Settings'),
                                    priority: 1000,
                                    preventDuplicates: true
                                },
                                tab: {
                                    path: 'sim_provider_settings',
                                    label: 'SIM provider settings',
                                    icon: 'mobile',
                                    canActivate: [SimGuard]
                                },
                                layout: {
                                    pageTitle: gettext('Connectivity'),
                                    cardTitle: gettext('Settings'),
                                    description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                                    providerName: gettext('Provider'),
                                    providerNamePlaceholder: gettext('Select or type to filter providers'),
                                    providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                                    deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                    deleteBtnLabel: gettext('Delete'),
                                    saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                    saveBtnLabel: gettext('Save'),
                                    beforeSaveHook: encodeFiles,
                                    configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                                    deleteConfigurationModalTitle: gettext('Delete settings'),
                                    deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                                    deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                                    configurationDeletedSuccessMsg: gettext('Settings deleted.')
                                },
                                endpoint: {
                                    definitionsEndpoint: {
                                        baseUrl: 'service/connectivity/metadata',
                                        listUrl: 'definitions'
                                    },
                                    configurationEndpoint: {
                                        baseUrl: 'service/connectivity/metadata',
                                        listUrl: 'sim/provider'
                                    }
                                }
                            }
                        ])
                    ]
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2ltLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Nvbm5lY3Rpdml0eS9zaW0vc2ltLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFFTCxPQUFPLEVBQ1AsMkJBQTJCLEVBRTVCLE1BQU0scUJBQXFCLENBQUM7QUFFN0IsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNoQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDOzs7QUFFdkMsTUFBTSxDQUFDLEtBQUssVUFBVSxXQUFXLENBQy9CLEtBQXlCLEVBQ3pCLE1BQTJCO0lBRTNCLE1BQU0sTUFBTSxHQUF1QixFQUFFLEdBQUcsS0FBSyxFQUFFLENBQUM7SUFDaEQsTUFBTSxVQUFVLEdBQXdCLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FDbEYsQ0FBQyxLQUF3QixFQUFFLEVBQUU7UUFDM0IsT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsZUFBZSxDQUFDLGVBQWUsS0FBSyxRQUFRLENBQUM7SUFDckYsQ0FBQyxDQUNGLENBQUM7SUFFRixLQUFLLE1BQU0sU0FBUyxJQUFJLFVBQVUsRUFBRTtRQUNsQyxNQUFNLEtBQUssR0FBa0IsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFhLENBQUMsQ0FBQztRQUM1RCxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDakQsSUFBSSxTQUFTLENBQUMsZUFBZSxDQUFDLGVBQWUsS0FBSyxDQUFDLEVBQUU7Z0JBQ25ELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FDeEUsb0JBQW9CLEVBQ3BCLEVBQUUsQ0FDSCxDQUFDO2FBQ0g7aUJBQU07Z0JBQ0wsTUFBTSxrQkFBa0IsR0FBYSxFQUFFLENBQUM7Z0JBRXhDLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO29CQUN4QixrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO2lCQUN6RjtnQkFFRCxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQWEsQ0FBQyxHQUFHLGtCQUFrQixDQUFDO2FBQ3REO1NBQ0Y7YUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLFlBQVksTUFBTSxFQUFFO1lBQy9ELE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBYSxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ3pDO0tBQ0Y7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDO0FBeURELE1BQU0sT0FBTyxTQUFTOztzR0FBVCxTQUFTO3VHQUFULFNBQVM7dUdBQVQsU0FBUyxhQXREVCxDQUFDLFFBQVEsQ0FBQyxZQUVuQiwyQkFBMkIsQ0FBQyxNQUFNLENBQUM7WUFDakM7Z0JBQ0UsVUFBVSxFQUFFO29CQUNWLEtBQUssRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO29CQUM5QixJQUFJLEVBQUUsc0JBQXNCO29CQUM1QixJQUFJLEVBQUUsTUFBTTtvQkFDWixNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztvQkFDM0IsUUFBUSxFQUFFLElBQUk7b0JBQ2QsaUJBQWlCLEVBQUUsSUFBSTtpQkFDeEI7Z0JBQ0QsR0FBRyxFQUFFO29CQUNILElBQUksRUFBRSx1QkFBdUI7b0JBQzdCLEtBQUssRUFBRSx1QkFBdUI7b0JBQzlCLElBQUksRUFBRSxRQUFRO29CQUNkLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQztpQkFDeEI7Z0JBQ0QsTUFBTSxFQUFFO29CQUNOLFNBQVMsRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO29CQUNsQyxTQUFTLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztvQkFDOUIsV0FBVyxFQUFFLE9BQU8sQ0FDbEIsd09BQXdPLENBQ3pPO29CQUNELFlBQVksRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDO29CQUNqQyx1QkFBdUIsRUFBRSxPQUFPLENBQUMsb0NBQW9DLENBQUM7b0JBQ3RFLHlCQUF5QixFQUFFLE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQztvQkFDM0UsV0FBVyxFQUFFLENBQUMseUJBQXlCLENBQUM7b0JBQ3hDLGNBQWMsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDO29CQUNqQyxTQUFTLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQztvQkFDdEMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7b0JBQzdCLGNBQWMsRUFBRSxXQUFXO29CQUMzQiw4QkFBOEIsRUFBRSxPQUFPLENBQUMsbUJBQW1CLENBQUM7b0JBQzVELDZCQUE2QixFQUFFLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztvQkFDekQsNEJBQTRCLEVBQUUsT0FBTyxDQUNuQyx3RUFBd0UsQ0FDekU7b0JBQ0Qsa0NBQWtDLEVBQUUsT0FBTyxDQUFDLFFBQVEsQ0FBQztvQkFDckQsOEJBQThCLEVBQUUsT0FBTyxDQUFDLG1CQUFtQixDQUFDO2lCQUM3RDtnQkFDRCxRQUFRLEVBQUU7b0JBQ1IsbUJBQW1CLEVBQUU7d0JBQ25CLE9BQU8sRUFBRSwrQkFBK0I7d0JBQ3hDLE9BQU8sRUFBRSxhQUFhO3FCQUN2QjtvQkFDRCxxQkFBcUIsRUFBRTt3QkFDckIsT0FBTyxFQUFFLCtCQUErQjt3QkFDeEMsT0FBTyxFQUFFLGNBQWM7cUJBQ3hCO2lCQUNGO2FBQ0Y7U0FDRixDQUFDOzJGQUdPLFNBQVM7a0JBdkRyQixRQUFRO21CQUFDO29CQUNSLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQztvQkFDckIsT0FBTyxFQUFFO3dCQUNQLDJCQUEyQixDQUFDLE1BQU0sQ0FBQzs0QkFDakM7Z0NBQ0UsVUFBVSxFQUFFO29DQUNWLEtBQUssRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO29DQUM5QixJQUFJLEVBQUUsc0JBQXNCO29DQUM1QixJQUFJLEVBQUUsTUFBTTtvQ0FDWixNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztvQ0FDM0IsUUFBUSxFQUFFLElBQUk7b0NBQ2QsaUJBQWlCLEVBQUUsSUFBSTtpQ0FDeEI7Z0NBQ0QsR0FBRyxFQUFFO29DQUNILElBQUksRUFBRSx1QkFBdUI7b0NBQzdCLEtBQUssRUFBRSx1QkFBdUI7b0NBQzlCLElBQUksRUFBRSxRQUFRO29DQUNkLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQztpQ0FDeEI7Z0NBQ0QsTUFBTSxFQUFFO29DQUNOLFNBQVMsRUFBRSxPQUFPLENBQUMsY0FBYyxDQUFDO29DQUNsQyxTQUFTLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQztvQ0FDOUIsV0FBVyxFQUFFLE9BQU8sQ0FDbEIsd09BQXdPLENBQ3pPO29DQUNELFlBQVksRUFBRSxPQUFPLENBQUMsVUFBVSxDQUFDO29DQUNqQyx1QkFBdUIsRUFBRSxPQUFPLENBQUMsb0NBQW9DLENBQUM7b0NBQ3RFLHlCQUF5QixFQUFFLE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQztvQ0FDM0UsV0FBVyxFQUFFLENBQUMseUJBQXlCLENBQUM7b0NBQ3hDLGNBQWMsRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDO29DQUNqQyxTQUFTLEVBQUUsQ0FBQyx5QkFBeUIsQ0FBQztvQ0FDdEMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7b0NBQzdCLGNBQWMsRUFBRSxXQUFXO29DQUMzQiw4QkFBOEIsRUFBRSxPQUFPLENBQUMsbUJBQW1CLENBQUM7b0NBQzVELDZCQUE2QixFQUFFLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztvQ0FDekQsNEJBQTRCLEVBQUUsT0FBTyxDQUNuQyx3RUFBd0UsQ0FDekU7b0NBQ0Qsa0NBQWtDLEVBQUUsT0FBTyxDQUFDLFFBQVEsQ0FBQztvQ0FDckQsOEJBQThCLEVBQUUsT0FBTyxDQUFDLG1CQUFtQixDQUFDO2lDQUM3RDtnQ0FDRCxRQUFRLEVBQUU7b0NBQ1IsbUJBQW1CLEVBQUU7d0NBQ25CLE9BQU8sRUFBRSwrQkFBK0I7d0NBQ3hDLE9BQU8sRUFBRSxhQUFhO3FDQUN2QjtvQ0FDRCxxQkFBcUIsRUFBRTt3Q0FDckIsT0FBTyxFQUFFLCtCQUErQjt3Q0FDeEMsT0FBTyxFQUFFLGNBQWM7cUNBQ3hCO2lDQUNGOzZCQUNGO3lCQUNGLENBQUM7cUJBQ0g7aUJBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgRHJvcHBlZEZpbGUsXG4gIGdldHRleHQsXG4gIFByb3ZpZGVyQ29uZmlndXJhdGlvbk1vZHVsZSxcbiAgUHJvdmlkZXJQcm9wZXJ0aWVzXG59IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgRm9ybWx5RmllbGRDb25maWcgfSBmcm9tICdAbmd4LWZvcm1seS9jb3JlJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQgeyBTaW1HdWFyZCB9IGZyb20gJy4vc2ltLmd1YXJkJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kZUZpbGVzKFxuICBtb2RlbDogUHJvdmlkZXJQcm9wZXJ0aWVzLFxuICBmaWVsZHM6IEZvcm1seUZpZWxkQ29uZmlnW11cbik6IFByb21pc2U8UHJvdmlkZXJQcm9wZXJ0aWVzPiB7XG4gIGNvbnN0IHJlc3VsdDogUHJvdmlkZXJQcm9wZXJ0aWVzID0geyAuLi5tb2RlbCB9O1xuICBjb25zdCBmaWxlRmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdID0gKGdldChmaWVsZHMsICdbMF0uZmllbGRHcm91cCcpIHx8IFtdKS5maWx0ZXIoXG4gICAgKGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZykgPT4ge1xuICAgICAgcmV0dXJuIGZpZWxkLnR5cGUgPT09ICdmaWxlJyAmJiBmaWVsZC50ZW1wbGF0ZU9wdGlvbnMuY29udGVudEVuY29kaW5nID09PSAnYmFzZTY0JztcbiAgICB9XG4gICk7XG5cbiAgZm9yIChjb25zdCBmaWxlRmllbGQgb2YgZmlsZUZpZWxkcykge1xuICAgIGNvbnN0IGZpbGVzOiBEcm9wcGVkRmlsZVtdID0gbW9kZWxbZmlsZUZpZWxkLmtleSBhcyBzdHJpbmddO1xuICAgIGlmIChmaWxlcyAmJiBBcnJheS5pc0FycmF5KGZpbGVzKSAmJiBmaWxlcy5sZW5ndGgpIHtcbiAgICAgIGlmIChmaWxlRmllbGQudGVtcGxhdGVPcHRpb25zLm1heEFsbG93ZWRGaWxlcyA9PT0gMSkge1xuICAgICAgICByZXN1bHRbZmlsZUZpZWxkLmtleSBhcyBzdHJpbmddID0gKGF3YWl0IGZpbGVzWzBdLnJlYWRBc0RhdGFVUkwoKSkucmVwbGFjZShcbiAgICAgICAgICAvZGF0YTpcXFMrO2Jhc2U2NCwvZ2ksXG4gICAgICAgICAgJydcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRGaWxlQ29udGVudDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICBlbmNvZGVkRmlsZUNvbnRlbnQucHVzaCgoYXdhaXQgZmlsZS5yZWFkQXNEYXRhVVJMKCkpLnJlcGxhY2UoL2RhdGE6XFxTKztiYXNlNjQsL2dpLCAnJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0W2ZpbGVGaWVsZC5rZXkgYXMgc3RyaW5nXSA9IGVuY29kZWRGaWxlQ29udGVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlcyA9PT0gJ3N0cmluZycgfHwgZmlsZXMgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHJlc3VsdFtmaWxlRmllbGQua2V5IGFzIHN0cmluZ10gPSBmaWxlcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuQE5nTW9kdWxlKHtcbiAgcHJvdmlkZXJzOiBbU2ltR3VhcmRdLFxuICBpbXBvcnRzOiBbXG4gICAgUHJvdmlkZXJDb25maWd1cmF0aW9uTW9kdWxlLmNvbmZpZyhbXG4gICAgICB7XG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBsYWJlbDogZ2V0dGV4dCgnQ29ubmVjdGl2aXR5JyksXG4gICAgICAgICAgcGF0aDogJ2Nvbm5lY3Rpdml0eVNldHRpbmdzJyxcbiAgICAgICAgICBpY29uOiAncGx1ZycsXG4gICAgICAgICAgcGFyZW50OiBnZXR0ZXh0KCdTZXR0aW5ncycpLFxuICAgICAgICAgIHByaW9yaXR5OiAxMDAwLFxuICAgICAgICAgIHByZXZlbnREdXBsaWNhdGVzOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHRhYjoge1xuICAgICAgICAgIHBhdGg6ICdzaW1fcHJvdmlkZXJfc2V0dGluZ3MnLFxuICAgICAgICAgIGxhYmVsOiAnU0lNIHByb3ZpZGVyIHNldHRpbmdzJyxcbiAgICAgICAgICBpY29uOiAnbW9iaWxlJyxcbiAgICAgICAgICBjYW5BY3RpdmF0ZTogW1NpbUd1YXJkXVxuICAgICAgICB9LFxuICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICBwYWdlVGl0bGU6IGdldHRleHQoJ0Nvbm5lY3Rpdml0eScpLFxuICAgICAgICAgIGNhcmRUaXRsZTogZ2V0dGV4dCgnU2V0dGluZ3MnKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZ2V0dGV4dChcbiAgICAgICAgICAgIGBJbiBvcmRlciB0byBzZWUgdGhlICdDb25uZWN0aXZpdHknIHRhYiBpbiBkZXZpY2UgZGV0YWlscywgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSAnUmVhZCcgcGVybWlzc2lvbiBmb3IgJ0Nvbm5lY3Rpdml0eScuIFRvIGNoYW5nZSBTSU0gY2FyZCBzdGF0dXMgYW5kIHNlbmQgdGV4dCBtZXNzYWdlcywgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSAnQWRtaW4nIHBlcm1pc3Npb24gZm9yICdDb25uZWN0aXZpdHknLmBcbiAgICAgICAgICApLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZTogZ2V0dGV4dCgnUHJvdmlkZXInKSxcbiAgICAgICAgICBwcm92aWRlck5hbWVQbGFjZWhvbGRlcjogZ2V0dGV4dCgnU2VsZWN0IG9yIHR5cGUgdG8gZmlsdGVyIHByb3ZpZGVycycpLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZU5vTWF0Y2hlc0hpbnQ6IGdldHRleHQoJ1NlbGVjdCBvbmUgb2YgdGhlIGV4aXN0aW5nIHByb3ZpZGVycy4nKSxcbiAgICAgICAgICBkZWxldGVSb2xlczogWydST0xFX0NPTk5FQ1RJVklUWV9BRE1JTiddLFxuICAgICAgICAgIGRlbGV0ZUJ0bkxhYmVsOiBnZXR0ZXh0KCdEZWxldGUnKSxcbiAgICAgICAgICBzYXZlUm9sZXM6IFsnUk9MRV9DT05ORUNUSVZJVFlfQURNSU4nXSxcbiAgICAgICAgICBzYXZlQnRuTGFiZWw6IGdldHRleHQoJ1NhdmUnKSxcbiAgICAgICAgICBiZWZvcmVTYXZlSG9vazogZW5jb2RlRmlsZXMsXG4gICAgICAgICAgY29uZmlndXJhdGlvblVwZGF0ZWRTdWNjZXNzTXNnOiBnZXR0ZXh0KCdTZXR0aW5ncyB1cGRhdGVkLicpLFxuICAgICAgICAgIGRlbGV0ZUNvbmZpZ3VyYXRpb25Nb2RhbFRpdGxlOiBnZXR0ZXh0KCdEZWxldGUgc2V0dGluZ3MnKSxcbiAgICAgICAgICBkZWxldGVDb25maWd1cmF0aW9uTW9kYWxCb2R5OiBnZXR0ZXh0KFxuICAgICAgICAgICAgYFlvdSBhcmUgYWJvdXQgdG8gZGVsZXRlIFNJTSBwcm92aWRlciBzZXR0aW5ncy4gRG8geW91IHdhbnQgdG8gcHJvY2VlZD9gXG4gICAgICAgICAgKSxcbiAgICAgICAgICBkZWxldGVDb25maWd1cmF0aW9uTW9kYWxPa0J0bkxhYmVsOiBnZXR0ZXh0KCdEZWxldGUnKSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uRGVsZXRlZFN1Y2Nlc3NNc2c6IGdldHRleHQoJ1NldHRpbmdzIGRlbGV0ZWQuJylcbiAgICAgICAgfSxcbiAgICAgICAgZW5kcG9pbnQ6IHtcbiAgICAgICAgICBkZWZpbml0aW9uc0VuZHBvaW50OiB7XG4gICAgICAgICAgICBiYXNlVXJsOiAnc2VydmljZS9jb25uZWN0aXZpdHkvbWV0YWRhdGEnLFxuICAgICAgICAgICAgbGlzdFVybDogJ2RlZmluaXRpb25zJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uZmlndXJhdGlvbkVuZHBvaW50OiB7XG4gICAgICAgICAgICBiYXNlVXJsOiAnc2VydmljZS9jb25uZWN0aXZpdHkvbWV0YWRhdGEnLFxuICAgICAgICAgICAgbGlzdFVybDogJ3NpbS9wcm92aWRlcidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdKVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFNpbU1vZHVsZSB7fVxuIl19