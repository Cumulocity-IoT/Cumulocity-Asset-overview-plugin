"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcumulocity_asset_overview_widget"] = self["webpackChunkcumulocity_asset_overview_widget"] || []).push([["vendors-node_modules_ngx-bootstrap_datepicker_fesm2020_ngx-bootstrap-datepicker_mjs"],{

/***/ "./node_modules/ngx-bootstrap/datepicker/fesm2020/ngx-bootstrap-datepicker.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/ngx-bootstrap/datepicker/fesm2020/ngx-bootstrap-datepicker.mjs ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("var _angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BsDatepickerConfig\": function() { return /* binding */ BsDatepickerConfig; },\n/* harmony export */   \"BsDatepickerContainerComponent\": function() { return /* binding */ BsDatepickerContainerComponent; },\n/* harmony export */   \"BsDatepickerDirective\": function() { return /* binding */ BsDatepickerDirective; },\n/* harmony export */   \"BsDatepickerInlineConfig\": function() { return /* binding */ BsDatepickerInlineConfig; },\n/* harmony export */   \"BsDatepickerInlineContainerComponent\": function() { return /* binding */ BsDatepickerInlineContainerComponent; },\n/* harmony export */   \"BsDatepickerInlineDirective\": function() { return /* binding */ BsDatepickerInlineDirective; },\n/* harmony export */   \"BsDatepickerInputDirective\": function() { return /* binding */ BsDatepickerInputDirective; },\n/* harmony export */   \"BsDatepickerModule\": function() { return /* binding */ BsDatepickerModule; },\n/* harmony export */   \"BsDaterangepickerConfig\": function() { return /* binding */ BsDaterangepickerConfig; },\n/* harmony export */   \"BsDaterangepickerContainerComponent\": function() { return /* binding */ BsDaterangepickerContainerComponent; },\n/* harmony export */   \"BsDaterangepickerDirective\": function() { return /* binding */ BsDaterangepickerDirective; },\n/* harmony export */   \"BsDaterangepickerInlineConfig\": function() { return /* binding */ BsDaterangepickerInlineConfig; },\n/* harmony export */   \"BsDaterangepickerInlineContainerComponent\": function() { return /* binding */ BsDaterangepickerInlineContainerComponent; },\n/* harmony export */   \"BsDaterangepickerInlineDirective\": function() { return /* binding */ BsDaterangepickerInlineDirective; },\n/* harmony export */   \"BsDaterangepickerInputDirective\": function() { return /* binding */ BsDaterangepickerInputDirective; },\n/* harmony export */   \"BsLocaleService\": function() { return /* binding */ BsLocaleService; }\n/* harmony export */ });\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ \"webpack/sharing/consume/default/@angular/core/@angular/core\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ \"webpack/sharing/consume/default/rxjs/operators/rxjs/operators\");\n/* harmony import */ var ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-bootstrap/chronos */ \"webpack/sharing/consume/default/ngx-bootstrap/chronos/ngx-bootstrap/chronos\");\n/* harmony import */ var ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-bootstrap/positioning */ \"webpack/sharing/consume/default/ngx-bootstrap/positioning/ngx-bootstrap/positioning\");\n/* harmony import */ var ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-bootstrap/timepicker */ \"webpack/sharing/consume/default/ngx-bootstrap/timepicker/ngx-bootstrap/timepicker\");\n/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/animations */ \"webpack/sharing/consume/default/@angular/animations/@angular/animations\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"webpack/sharing/consume/default/rxjs/rxjs\");\n/* harmony import */ var ngx_bootstrap_mini_ngrx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-bootstrap/mini-ngrx */ \"webpack/sharing/consume/default/ngx-bootstrap/mini-ngrx/ngx-bootstrap/mini-ngrx\");\n/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ \"webpack/sharing/consume/default/@angular/common/@angular/common\");\n/* harmony import */ var ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-bootstrap/tooltip */ \"webpack/sharing/consume/default/ngx-bootstrap/tooltip/ngx-bootstrap/tooltip\");\n/* harmony import */ var ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-bootstrap/component-loader */ \"webpack/sharing/consume/default/ngx-bootstrap/component-loader/ngx-bootstrap/component-loader\");\n/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ \"webpack/sharing/consume/default/@angular/forms/@angular/forms\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * For date range picker there are `BsDaterangepickerConfig` which inherits all properties,\n * except `displayMonths`, for range picker it default to `2`\n */\nclass BsDatepickerConfig {\n    constructor() {\n        /** sets use adaptive position */\n        this.adaptivePosition = false;\n        /** sets use UTC date time format */\n        this.useUtc = false;\n        /** turn on/off animation */\n        this.isAnimated = false;\n        /**\n         * The view that the datepicker should start in\n         */\n        this.startView = 'day';\n        /**\n         * If true, returns focus to the datepicker / daterangepicker input after date selection\n         */\n        this.returnFocusToInput = false;\n        /** CSS class which will be applied to datepicker container,\n         * usually used to set color theme\n         */\n        this.containerClass = 'theme-green';\n        // DatepickerRenderOptions\n        this.displayMonths = 1;\n        /**\n         * Allows to hide week numbers in datepicker\n         */\n        this.showWeekNumbers = true;\n        this.dateInputFormat = 'L';\n        // range picker\n        this.rangeSeparator = ' - ';\n        /**\n         * Date format for date range input field\n         */\n        this.rangeInputFormat = 'L';\n        // DatepickerFormatOptions\n        this.monthTitle = 'MMMM';\n        this.yearTitle = 'YYYY';\n        this.dayLabel = 'D';\n        this.monthLabel = 'MMMM';\n        this.yearLabel = 'YYYY';\n        this.weekNumbers = 'w';\n        /**\n         * Shows 'today' button\n         */\n        this.showTodayButton = false;\n        /**\n         * Shows clear button\n         */\n        this.showClearButton = false;\n        /**\n         * Positioning of 'today' button\n         */\n        this.todayPosition = 'center';\n        /**\n         * Positioning of 'clear' button\n         */\n        this.clearPosition = 'right';\n        /**\n         * Label for 'today' button\n         */\n        this.todayButtonLabel = 'Today';\n        /**\n         * Label for 'clear' button\n         */\n        this.clearButtonLabel = 'Clear';\n        /**\n         * Label for 'custom range' button\n         */\n        this.customRangeButtonLabel = 'Custom Range';\n        /**\n         * Shows timepicker under datepicker\n         */\n        this.withTimepicker = false;\n        /**\n         * Set allowed positions of container.\n         */\n        this.allowedPositions = ['top', 'bottom'];\n        /**\n         * Set rule for datepicker closing. If value is true datepicker closes only if date is changed, if user changes only time datepicker doesn't close. It is available only if property withTimepicker is set true\n         * */\n        this.keepDatepickerOpened = false;\n    }\n}\nBsDatepickerConfig.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerConfig, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDatepickerConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerConfig, providedIn: 'root' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerConfig, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nconst DATEPICKER_ANIMATION_TIMING = '220ms cubic-bezier(0, 0, 0.2, 1)';\nconst datepickerAnimation = (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.trigger)('datepickerAnimation', [\n    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.state)('animated-down', (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.style)({ height: '*', overflow: 'hidden' })),\n    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.transition)('* => animated-down', [\n        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.style)({ height: 0, overflow: 'hidden' }),\n        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.animate)(DATEPICKER_ANIMATION_TIMING)\n    ]),\n    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.state)('animated-up', (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.style)({ height: '*', overflow: 'hidden' })),\n    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.transition)('* => animated-up', [\n        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.style)({ height: '*', overflow: 'hidden' }),\n        (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.animate)(DATEPICKER_ANIMATION_TIMING)\n    ]),\n    (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.transition)('* => unanimated', (0,_angular_animations__WEBPACK_IMPORTED_MODULE_5__.animate)('0s'))\n]);\n\nclass BsDatepickerAbstractComponent {\n    constructor() {\n        this.containerClass = '';\n        this.customRanges = [];\n        this.chosenRange = [];\n        this._daysCalendarSub = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subscription();\n        this.selectedTimeSub = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subscription();\n    }\n    set minDate(value) {\n        this._effects?.setMinDate(value);\n    }\n    set maxDate(value) {\n        this._effects?.setMaxDate(value);\n    }\n    set daysDisabled(value) {\n        this._effects?.setDaysDisabled(value);\n    }\n    set datesDisabled(value) {\n        this._effects?.setDatesDisabled(value);\n    }\n    set datesEnabled(value) {\n        this._effects?.setDatesEnabled(value);\n    }\n    set isDisabled(value) {\n        this._effects?.setDisabled(value);\n    }\n    set dateCustomClasses(value) {\n        this._effects?.setDateCustomClasses(value);\n    }\n    set dateTooltipTexts(value) {\n        this._effects?.setDateTooltipTexts(value);\n    }\n    set daysCalendar$(value) {\n        this._daysCalendar$ = value;\n        this._daysCalendarSub.unsubscribe();\n        this._daysCalendarSub.add(this._daysCalendar$.subscribe(value => {\n            this.multipleCalendars = !!value && value.length > 1;\n        }));\n    }\n    get daysCalendar$() {\n        return this._daysCalendar$;\n    }\n    // todo: valorkin fix\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars,@typescript-eslint/no-empty-function\n    setViewMode(event) { }\n    // eslint-disable-next-line\n    navigateTo(event) { }\n    // eslint-disable-next-line\n    dayHoverHandler(event) { }\n    // eslint-disable-next-line\n    weekHoverHandler(event) { }\n    // eslint-disable-next-line\n    monthHoverHandler(event) { }\n    // eslint-disable-next-line\n    yearHoverHandler(event) { }\n    // eslint-disable-next-line\n    timeSelectHandler(date, index) { }\n    // eslint-disable-next-line\n    daySelectHandler(day) { }\n    // eslint-disable-next-line\n    monthSelectHandler(event) { }\n    // eslint-disable-next-line\n    yearSelectHandler(event) { }\n    // eslint-disable-next-line\n    setRangeOnCalendar(dates) { }\n    // eslint-disable-next-line\n    setToday() { }\n    // eslint-disable-next-line\n    clearDate() { }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _stopPropagation(event) {\n        event.stopPropagation();\n    }\n}\n\nclass BsDatepickerActions {\n    calculate() {\n        return { type: BsDatepickerActions.CALCULATE };\n    }\n    format() {\n        return { type: BsDatepickerActions.FORMAT };\n    }\n    flag() {\n        return { type: BsDatepickerActions.FLAG };\n    }\n    select(date) {\n        return {\n            type: BsDatepickerActions.SELECT,\n            payload: date\n        };\n    }\n    selectTime(date, index) {\n        return {\n            type: BsDatepickerActions.SELECT_TIME,\n            payload: { date, index },\n        };\n    }\n    changeViewMode(event) {\n        return {\n            type: BsDatepickerActions.CHANGE_VIEWMODE,\n            payload: event\n        };\n    }\n    navigateTo(event) {\n        return {\n            type: BsDatepickerActions.NAVIGATE_TO,\n            payload: event\n        };\n    }\n    navigateStep(step) {\n        return {\n            type: BsDatepickerActions.NAVIGATE_OFFSET,\n            payload: step\n        };\n    }\n    setOptions(options) {\n        return {\n            type: BsDatepickerActions.SET_OPTIONS,\n            payload: options\n        };\n    }\n    // date range picker\n    selectRange(value) {\n        return {\n            type: BsDatepickerActions.SELECT_RANGE,\n            payload: value\n        };\n    }\n    hoverDay(event) {\n        return {\n            type: BsDatepickerActions.HOVER,\n            payload: event.isHovered ? event.cell.date : null\n        };\n    }\n    minDate(date) {\n        return {\n            type: BsDatepickerActions.SET_MIN_DATE,\n            payload: date\n        };\n    }\n    maxDate(date) {\n        return {\n            type: BsDatepickerActions.SET_MAX_DATE,\n            payload: date\n        };\n    }\n    daysDisabled(days) {\n        return {\n            type: BsDatepickerActions.SET_DAYSDISABLED,\n            payload: days\n        };\n    }\n    datesDisabled(dates) {\n        return {\n            type: BsDatepickerActions.SET_DATESDISABLED,\n            payload: dates\n        };\n    }\n    datesEnabled(dates) {\n        return {\n            type: BsDatepickerActions.SET_DATESENABLED,\n            payload: dates\n        };\n    }\n    isDisabled(value) {\n        return {\n            type: BsDatepickerActions.SET_IS_DISABLED,\n            payload: value\n        };\n    }\n    setDateCustomClasses(value) {\n        return {\n            type: BsDatepickerActions.SET_DATE_CUSTOM_CLASSES,\n            payload: value\n        };\n    }\n    setDateTooltipTexts(value) {\n        return {\n            type: BsDatepickerActions.SET_DATE_TOOLTIP_TEXTS,\n            payload: value\n        };\n    }\n    setLocale(locale) {\n        return {\n            type: BsDatepickerActions.SET_LOCALE,\n            payload: locale\n        };\n    }\n}\nBsDatepickerActions.CALCULATE = '[datepicker] calculate dates matrix';\nBsDatepickerActions.FORMAT = '[datepicker] format datepicker values';\nBsDatepickerActions.FLAG = '[datepicker] set flags';\nBsDatepickerActions.SELECT = '[datepicker] select date';\nBsDatepickerActions.NAVIGATE_OFFSET = '[datepicker] shift view date';\nBsDatepickerActions.NAVIGATE_TO = '[datepicker] change view date';\nBsDatepickerActions.SET_OPTIONS = '[datepicker] update render options';\nBsDatepickerActions.HOVER = '[datepicker] hover date';\nBsDatepickerActions.CHANGE_VIEWMODE = '[datepicker] switch view mode';\nBsDatepickerActions.SET_MIN_DATE = '[datepicker] set min date';\nBsDatepickerActions.SET_MAX_DATE = '[datepicker] set max date';\nBsDatepickerActions.SET_DAYSDISABLED = '[datepicker] set days disabled';\nBsDatepickerActions.SET_DATESDISABLED = '[datepicker] set dates disabled';\nBsDatepickerActions.SET_DATESENABLED = '[datepicker] set dates enabled';\nBsDatepickerActions.SET_IS_DISABLED = '[datepicker] set is disabled';\nBsDatepickerActions.SET_DATE_CUSTOM_CLASSES = '[datepicker] set date custom classes';\nBsDatepickerActions.SET_DATE_TOOLTIP_TEXTS = '[datepicker] set date tooltip texts';\nBsDatepickerActions.SET_LOCALE = '[datepicker] set datepicker locale';\nBsDatepickerActions.SELECT_TIME = '[datepicker] select time';\nBsDatepickerActions.SELECT_RANGE = '[daterangepicker] select dates range';\nBsDatepickerActions.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerActions, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDatepickerActions.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerActions, providedIn: 'platform' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerActions, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{ providedIn: 'platform' }]\n        }] });\n\nclass BsLocaleService {\n    constructor() {\n        this._defaultLocale = 'en';\n        this._locale = new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(this._defaultLocale);\n        this._localeChange = this._locale.asObservable();\n    }\n    get locale() {\n        return this._locale;\n    }\n    get localeChange() {\n        return this._localeChange;\n    }\n    get currentLocale() {\n        return this._locale.getValue();\n    }\n    use(locale) {\n        if (locale === this.currentLocale) {\n            return;\n        }\n        this._locale.next(locale);\n    }\n}\nBsLocaleService.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsLocaleService, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsLocaleService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsLocaleService, providedIn: 'platform' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsLocaleService, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{ providedIn: 'platform' }]\n        }] });\n\nclass BsDatepickerEffects {\n    constructor(_actions, _localeService) {\n        this._actions = _actions;\n        this._localeService = _localeService;\n        this._subs = [];\n    }\n    init(_bsDatepickerStore) {\n        this._store = _bsDatepickerStore;\n        return this;\n    }\n    /** setters */\n    setValue(value) {\n        this._store?.dispatch(this._actions.select(value));\n    }\n    setRangeValue(value) {\n        this._store?.dispatch(this._actions.selectRange(value));\n    }\n    setMinDate(value) {\n        this._store?.dispatch(this._actions.minDate(value));\n        return this;\n    }\n    setMaxDate(value) {\n        this._store?.dispatch(this._actions.maxDate(value));\n        return this;\n    }\n    setDaysDisabled(value) {\n        this._store?.dispatch(this._actions.daysDisabled(value));\n        return this;\n    }\n    setDatesDisabled(value) {\n        this._store?.dispatch(this._actions.datesDisabled(value));\n        return this;\n    }\n    setDatesEnabled(value) {\n        this._store?.dispatch(this._actions.datesEnabled(value));\n        return this;\n    }\n    setDisabled(value) {\n        this._store?.dispatch(this._actions.isDisabled(value));\n        return this;\n    }\n    setDateCustomClasses(value) {\n        this._store?.dispatch(this._actions.setDateCustomClasses(value));\n        return this;\n    }\n    setDateTooltipTexts(value) {\n        this._store?.dispatch(this._actions.setDateTooltipTexts(value));\n        return this;\n    }\n    /* Set rendering options */\n    setOptions(_config) {\n        const _options = Object.assign({ locale: this._localeService.currentLocale }, _config);\n        this._store?.dispatch(this._actions.setOptions(_options));\n        return this;\n    }\n    /** view to mode bindings */\n    setBindings(container) {\n        if (!this._store) {\n            return this;\n        }\n        container.selectedTime = this._store.select(state => state.selectedTime)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(times => !!times));\n        container.daysCalendar$ = this._store.select(state => state.flaggedMonths)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(months => !!months));\n        // month calendar\n        container.monthsCalendar = this._store.select(state => state.flaggedMonthsCalendar)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(months => !!months));\n        // year calendar\n        container.yearsCalendar = this._store.select(state => state.yearsCalendarFlagged)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(years => !!years));\n        container.viewMode = this._store.select(state => state.view?.mode);\n        container.options$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.combineLatest)([\n            this._store.select(state => state.showWeekNumbers),\n            this._store.select(state => state.displayMonths)\n        ])\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.map)((latest) => ({\n            showWeekNumbers: latest[0],\n            displayMonths: latest[1]\n        })));\n        return this;\n    }\n    /** event handlers */\n    setEventHandlers(container) {\n        container.setViewMode = (event) => {\n            this._store?.dispatch(this._actions.changeViewMode(event));\n        };\n        container.navigateTo = (event) => {\n            this._store?.dispatch(this._actions.navigateStep(event.step));\n        };\n        container.dayHoverHandler = (event) => {\n            const _cell = event.cell;\n            if (_cell.isOtherMonth || _cell.isDisabled) {\n                return;\n            }\n            this._store?.dispatch(this._actions.hoverDay(event));\n            _cell.isHovered = event.isHovered;\n        };\n        container.monthHoverHandler = (event) => {\n            event.cell.isHovered = event.isHovered;\n        };\n        container.yearHoverHandler = (event) => {\n            event.cell.isHovered = event.isHovered;\n        };\n        return this;\n    }\n    registerDatepickerSideEffects() {\n        if (!this._store) {\n            return this;\n        }\n        this._subs.push(this._store.select(state => state.view).subscribe(() => {\n            this._store?.dispatch(this._actions.calculate());\n        }));\n        // format calendar values on month model change\n        this._subs.push(this._store\n            .select(state => state.monthsModel)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(monthModel => !!monthModel))\n            .subscribe(() => this._store?.dispatch(this._actions.format())));\n        // flag day values\n        this._subs.push(this._store\n            .select(state => state.formattedMonths)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(month => !!month))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // flag day values\n        this._subs.push(this._store\n            .select(state => state.selectedDate)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(selectedDate => !!selectedDate))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // flag for date range picker\n        this._subs.push(this._store\n            .select(state => state.selectedRange)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(selectedRange => !!selectedRange))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // monthsCalendar\n        this._subs.push(this._store\n            .select(state => state.monthsCalendar)\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // years calendar\n        this._subs.push(this._store\n            .select(state => state.yearsCalendarModel)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(state => !!state))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // on hover\n        this._subs.push(this._store\n            .select(state => state.hoveredDate)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(hoveredDate => !!hoveredDate))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // date custom classes\n        this._subs.push(this._store\n            .select(state => state.dateCustomClasses)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(dateCustomClasses => !!dateCustomClasses))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // date tooltip texts\n        this._subs.push(this._store\n            .select(state => state.dateTooltipTexts)\n            .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(dateTooltipTexts => !!dateTooltipTexts))\n            .subscribe(() => this._store?.dispatch(this._actions.flag())));\n        // on locale change\n        this._subs.push(this._localeService.localeChange\n            .subscribe(locale => this._store?.dispatch(this._actions.setLocale(locale))));\n        return this;\n    }\n    destroy() {\n        for (const sub of this._subs) {\n            sub.unsubscribe();\n        }\n    }\n}\nBsDatepickerEffects.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerEffects, deps: [{ token: BsDatepickerActions }, { token: BsLocaleService }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDatepickerEffects.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerEffects, providedIn: 'platform' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerEffects, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{ providedIn: 'platform' }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerActions }, { type: BsLocaleService }]; } });\n\nconst defaultMonthOptions = {\n    width: 7,\n    height: 6\n};\nconst dayInMilliseconds = 24 * 60 * 60 * 1000;\n\nclass BsDatepickerState {\n    constructor() {\n        // DatepickerRenderOptions\n        this.showWeekNumbers = true;\n        this.displayMonths = 1;\n    }\n}\nconst _initialView = { date: new Date(), mode: 'day' };\nconst initialDatepickerState = Object.assign(new BsDatepickerConfig(), {\n    locale: 'en',\n    view: _initialView,\n    selectedRange: [],\n    selectedTime: [],\n    monthViewOptions: defaultMonthOptions\n});\n\nfunction getStartingDayOfCalendar(date, options) {\n    if ((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isFirstDayOfWeek)(date, options.firstDayOfWeek)) {\n        return date;\n    }\n    const weekDay = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getDay)(date);\n    const offset = calculateDateOffset(weekDay, options.firstDayOfWeek);\n    return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(date, { day: -offset });\n}\nfunction calculateDateOffset(weekday, startingDayOffset) {\n    const _startingDayOffset = Number(startingDayOffset);\n    if (isNaN(_startingDayOffset)) {\n        return 0;\n    }\n    if (_startingDayOffset === 0) {\n        return weekday;\n    }\n    const offset = weekday - _startingDayOffset % 7;\n    return offset < 0 ? offset + 7 : offset;\n}\nfunction isMonthDisabled(date, min, max) {\n    const minBound = min && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.endOf)(date, 'month'), min, 'day');\n    const maxBound = max && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.startOf)(date, 'month'), max, 'day');\n    return minBound || maxBound || false;\n}\nfunction isYearDisabled(date, min, max) {\n    const minBound = min && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.endOf)(date, 'year'), min, 'day');\n    const maxBound = max && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.startOf)(date, 'year'), max, 'day');\n    return minBound || maxBound || false;\n}\nfunction isDisabledDate(date, datesDisabled, unit) {\n    if (!datesDisabled || !(0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isArray)(datesDisabled) || !datesDisabled.length) {\n        return false;\n    }\n    if (unit && unit === 'year' && !datesDisabled[0].getDate()) {\n        return datesDisabled.some((dateDisabled) => (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSame)(date, dateDisabled, 'year'));\n    }\n    return datesDisabled.some((dateDisabled) => (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSame)(date, dateDisabled, 'date'));\n}\nfunction isEnabledDate(date, datesEnabled, unit) {\n    if (!datesEnabled || !(0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isArray)(datesEnabled) || !datesEnabled.length) {\n        return false;\n    }\n    return !datesEnabled.some((enabledDate) => (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSame)(date, enabledDate, unit || 'date'));\n}\nfunction getYearsCalendarInitialDate(state, calendarIndex = 0) {\n    const model = state && state.yearsCalendarModel && state.yearsCalendarModel[calendarIndex];\n    return model?.years[0] && model.years[0][0] && model.years[0][0].date;\n}\nfunction checkRangesWithMaxDate(ranges, maxDate) {\n    if (!ranges)\n        return ranges;\n    if (!maxDate)\n        return ranges;\n    if (!ranges.length && !ranges[0].value)\n        return ranges;\n    ranges.forEach((item) => {\n        if (!item || !item.value)\n            return ranges;\n        if (item.value instanceof Date)\n            return ranges;\n        if (!(item.value instanceof Array && item.value.length))\n            return ranges;\n        item.value = compareDateWithMaxDateHelper(item.value, maxDate);\n        return ranges;\n    });\n    return ranges;\n}\nfunction checkBsValue(date, maxDate) {\n    if (!date)\n        return date;\n    if (!maxDate)\n        return date;\n    if (date instanceof Array && !date.length)\n        return date;\n    if (date instanceof Date)\n        return date;\n    return compareDateWithMaxDateHelper(date, maxDate);\n}\nfunction compareDateWithMaxDateHelper(date, maxDate) {\n    if (date instanceof Array) {\n        const editedValues = date.map(item => {\n            if (!item)\n                return item;\n            if ((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)(item, maxDate, 'date'))\n                item = maxDate;\n            return item;\n        });\n        return editedValues;\n    }\n    return date;\n}\nfunction setCurrentTimeOnDateSelect(value) {\n    if (!value)\n        return value;\n    return setCurrentTimeHelper(value);\n}\nfunction setDateRangesCurrentTimeOnDateSelect(value) {\n    if (!value?.length)\n        return value;\n    value.map((date) => {\n        if (!date) {\n            return date;\n        }\n        return setCurrentTimeHelper(date);\n    });\n    return value;\n}\nfunction setCurrentTimeHelper(date) {\n    const now = new Date();\n    date.setMilliseconds(now.getMilliseconds());\n    date.setSeconds(now.getSeconds());\n    date.setMinutes(now.getMinutes());\n    date.setHours(now.getHours());\n    return date;\n}\n\nfunction createMatrix(options, fn) {\n    let prevValue = options.initialDate;\n    const matrix = new Array(options.height);\n    for (let i = 0; i < options.height; i++) {\n        matrix[i] = new Array(options.width);\n        for (let j = 0; j < options.width; j++) {\n            matrix[i][j] = fn(prevValue);\n            prevValue = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(prevValue, options.shift);\n        }\n    }\n    return matrix;\n}\n\n// user and model input should handle parsing and validating input values\nfunction calcDaysCalendar(startingDate, options) {\n    const firstDay = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getFirstDayOfMonth)(startingDate);\n    const initialDate = getStartingDayOfCalendar(firstDay, options);\n    // todo test\n    const matrixOptions = {\n        width: options.width || 0,\n        height: options.height || 0,\n        initialDate,\n        shift: { day: 1 }\n    };\n    const daysMatrix = createMatrix(matrixOptions, date => date);\n    return {\n        daysMatrix,\n        month: firstDay\n    };\n}\n\nfunction formatDaysCalendar(daysCalendar, formatOptions, monthIndex) {\n    return {\n        month: daysCalendar.month,\n        monthTitle: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(daysCalendar.month, formatOptions.monthTitle, formatOptions.locale),\n        yearTitle: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(daysCalendar.month, formatOptions.yearTitle, formatOptions.locale),\n        weekNumbers: getWeekNumbers(daysCalendar.daysMatrix, formatOptions.weekNumbers, formatOptions.locale),\n        weekdays: getShiftedWeekdays(formatOptions.locale),\n        weeks: daysCalendar.daysMatrix.map((week, weekIndex) => ({\n            days: week.map((date, dayIndex) => ({\n                date,\n                label: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(date, formatOptions.dayLabel, formatOptions.locale),\n                monthIndex,\n                weekIndex,\n                dayIndex\n            }))\n        })),\n        hideLeftArrow: false,\n        hideRightArrow: false,\n        disableLeftArrow: false,\n        disableRightArrow: false\n    };\n}\nfunction getWeekNumbers(daysMatrix, format, locale) {\n    return daysMatrix.map((days) => (days[0] ? (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(days[0], format, locale) : ''));\n}\nfunction getShiftedWeekdays(locale) {\n    const _locale = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getLocale)(locale);\n    const weekdays = _locale.weekdaysShort();\n    const firstDayOfWeek = _locale.firstDayOfWeek();\n    return [...weekdays.slice(firstDayOfWeek), ...weekdays.slice(0, firstDayOfWeek)];\n}\n\nfunction flagDaysCalendar(formattedMonth, options) {\n    formattedMonth.weeks.forEach((week) => {\n        week.days.forEach((day, dayIndex) => {\n            // datepicker\n            const isOtherMonth = !(0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameMonth)(day.date, formattedMonth.month);\n            const isHovered = !isOtherMonth && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, options.hoveredDate);\n            // date range picker\n            const isSelectionStart = !isOtherMonth &&\n                options.selectedRange &&\n                (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, options.selectedRange[0]);\n            const isSelectionEnd = !isOtherMonth &&\n                options.selectedRange &&\n                (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, options.selectedRange[1]);\n            const isSelected = (!isOtherMonth && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, options.selectedDate)) ||\n                isSelectionStart ||\n                isSelectionEnd;\n            const isInRange = !isOtherMonth &&\n                options.selectedRange &&\n                isDateInRange(day.date, options.selectedRange, options.hoveredDate);\n            const isDisabled = options.isDisabled ||\n                (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)(day.date, options.minDate, 'day') ||\n                (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)(day.date, options.maxDate, 'day') ||\n                (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDisabledDay)(day.date, options.daysDisabled) ||\n                isDisabledDate(day.date, options.datesDisabled) ||\n                isEnabledDate(day.date, options.datesEnabled);\n            const currentDate = new Date();\n            const isToday = !isOtherMonth && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, currentDate);\n            const customClasses = options.dateCustomClasses && options.dateCustomClasses\n                .map(dcc => (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, dcc.date) ? dcc.classes : [])\n                .reduce((previousValue, currentValue) => previousValue.concat(currentValue), [])\n                .join(' ')\n                || '';\n            const tooltipText = options.dateTooltipTexts && options.dateTooltipTexts\n                .map(tt => (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(day.date, tt.date) ? tt.tooltipText : '')\n                .reduce((previousValue, currentValue) => {\n                previousValue.push(currentValue);\n                return previousValue;\n            }, [])\n                .join(' ')\n                || '';\n            // decide update or not\n            const newDay = Object.assign({}, day, {\n                isOtherMonth,\n                isHovered,\n                isSelected,\n                isSelectionStart,\n                isSelectionEnd,\n                isInRange,\n                isDisabled,\n                isToday,\n                customClasses,\n                tooltipText\n            });\n            if (day.isOtherMonth !== newDay.isOtherMonth ||\n                day.isHovered !== newDay.isHovered ||\n                day.isSelected !== newDay.isSelected ||\n                day.isSelectionStart !== newDay.isSelectionStart ||\n                day.isSelectionEnd !== newDay.isSelectionEnd ||\n                day.isDisabled !== newDay.isDisabled ||\n                day.isInRange !== newDay.isInRange ||\n                day.customClasses !== newDay.customClasses ||\n                day.tooltipText !== newDay.tooltipText) {\n                week.days[dayIndex] = newDay;\n            }\n        });\n    });\n    // todo: add check for linked calendars\n    formattedMonth.hideLeftArrow =\n        options.isDisabled ||\n            (!!options.monthIndex && options.monthIndex > 0 && options.monthIndex !== options.displayMonths);\n    formattedMonth.hideRightArrow =\n        options.isDisabled ||\n            ((!!options.monthIndex || options.monthIndex === 0) && !!options.displayMonths && options.monthIndex < options.displayMonths &&\n                options.monthIndex + 1 !== options.displayMonths);\n    formattedMonth.disableLeftArrow = isMonthDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(formattedMonth.month, { month: -1 }), options.minDate, options.maxDate);\n    formattedMonth.disableRightArrow = isMonthDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(formattedMonth.month, { month: 1 }), options.minDate, options.maxDate);\n    return formattedMonth;\n}\nfunction isDateInRange(date, selectedRange, hoveredDate) {\n    if (!date || !selectedRange || !selectedRange[0]) {\n        return false;\n    }\n    if (selectedRange[1]) {\n        return date > selectedRange[0] && date <= selectedRange[1];\n    }\n    if (hoveredDate) {\n        return date > selectedRange[0] && date <= hoveredDate;\n    }\n    return false;\n}\n\nfunction canSwitchMode(mode, minMode) {\n    return minMode ? mode >= minMode : true;\n}\n\nconst height$1 = 4;\nconst width$1 = 3;\nconst shift$1 = { month: 1 };\nfunction formatMonthsCalendar(viewDate, formatOptions) {\n    const initialDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.startOf)(viewDate, 'year');\n    const matrixOptions = { width: width$1, height: height$1, initialDate, shift: shift$1 };\n    const monthMatrix = createMatrix(matrixOptions, date => ({\n        date,\n        label: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(date, formatOptions.monthLabel, formatOptions.locale)\n    }));\n    return {\n        months: monthMatrix,\n        monthTitle: '',\n        yearTitle: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(viewDate, formatOptions.yearTitle, formatOptions.locale),\n        hideRightArrow: false,\n        hideLeftArrow: false,\n        disableRightArrow: false,\n        disableLeftArrow: false\n    };\n}\n\nfunction flagMonthsCalendar(monthCalendar, options) {\n    monthCalendar.months.forEach((months, rowIndex) => {\n        months.forEach((month, monthIndex) => {\n            let isSelected;\n            const isHovered = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameMonth)(month.date, options.hoveredMonth);\n            const isDisabled = options.isDisabled ||\n                isDisabledDate(month.date, options.datesDisabled) ||\n                isEnabledDate(month.date, options.datesEnabled, 'month') ||\n                isMonthDisabled(month.date, options.minDate, options.maxDate);\n            if (!options.selectedDate && options.selectedRange) {\n                isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameMonth)(month.date, options.selectedRange[0]);\n                if (!isSelected) {\n                    isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameMonth)(month.date, options.selectedRange[1]);\n                }\n            }\n            else {\n                isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameMonth)(month.date, options.selectedDate);\n            }\n            const newMonth = Object.assign(/*{},*/ month, {\n                isHovered,\n                isDisabled,\n                isSelected\n            });\n            if (month.isHovered !== newMonth.isHovered ||\n                month.isDisabled !== newMonth.isDisabled ||\n                month.isSelected !== newMonth.isSelected) {\n                monthCalendar.months[rowIndex][monthIndex] = newMonth;\n            }\n        });\n    });\n    // todo: add check for linked calendars\n    monthCalendar.hideLeftArrow =\n        !!options.monthIndex && options.monthIndex > 0 && options.monthIndex !== options.displayMonths;\n    monthCalendar.hideRightArrow =\n        (!!options.monthIndex || options.monthIndex === 0)\n            && (!!options.displayMonths || options.displayMonths === 0)\n            && options.monthIndex < options.displayMonths\n            && options.monthIndex + 1 !== options.displayMonths;\n    monthCalendar.disableLeftArrow = isYearDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(monthCalendar.months[0][0].date, { year: -1 }), options.minDate, options.maxDate);\n    monthCalendar.disableRightArrow = isYearDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(monthCalendar.months[0][0].date, { year: 1 }), options.minDate, options.maxDate);\n    return monthCalendar;\n}\n\nconst height = 4;\nconst width = 4;\nconst yearsPerCalendar = height * width;\nconst initialYearShift = (Math.floor(yearsPerCalendar / 2) - 1) * -1;\nconst shift = { year: 1 };\nfunction formatYearsCalendar(viewDate, formatOptions, previousInitialDate) {\n    const initialDate = calculateInitialDate(viewDate, previousInitialDate);\n    const matrixOptions = { width, height, initialDate, shift };\n    const yearsMatrix = createMatrix(matrixOptions, date => ({\n        date,\n        label: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(date, formatOptions.yearLabel, formatOptions.locale)\n    }));\n    const yearTitle = formatYearRangeTitle(yearsMatrix, formatOptions);\n    return {\n        years: yearsMatrix,\n        monthTitle: '',\n        yearTitle,\n        hideLeftArrow: false,\n        hideRightArrow: false,\n        disableLeftArrow: false,\n        disableRightArrow: false\n    };\n}\nfunction calculateInitialDate(viewDate, previousInitialDate) {\n    if (previousInitialDate\n        && viewDate.getFullYear() >= previousInitialDate.getFullYear()\n        && viewDate.getFullYear() < previousInitialDate.getFullYear() + yearsPerCalendar) {\n        return previousInitialDate;\n    }\n    return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { year: initialYearShift });\n}\nfunction formatYearRangeTitle(yearsMatrix, formatOptions) {\n    const from = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(yearsMatrix[0][0].date, formatOptions.yearTitle, formatOptions.locale);\n    const to = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(yearsMatrix[height - 1][width - 1].date, formatOptions.yearTitle, formatOptions.locale);\n    return `${from} - ${to}`;\n}\n\nfunction flagYearsCalendar(yearsCalendar, options) {\n    yearsCalendar.years.forEach((years, rowIndex) => {\n        years.forEach((year, yearIndex) => {\n            let isSelected;\n            const isHovered = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameYear)(year.date, options.hoveredYear);\n            const isDisabled = options.isDisabled ||\n                isDisabledDate(year.date, options.datesDisabled, 'year') ||\n                isEnabledDate(year.date, options.datesEnabled, 'year') ||\n                isYearDisabled(year.date, options.minDate, options.maxDate);\n            if (!options.selectedDate && options.selectedRange) {\n                isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameYear)(year.date, options.selectedRange[0]);\n                if (!isSelected) {\n                    isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameYear)(year.date, options.selectedRange[1]);\n                }\n            }\n            else {\n                isSelected = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameYear)(year.date, options.selectedDate);\n            }\n            const newMonth = Object.assign(/*{},*/ year, { isHovered, isDisabled, isSelected });\n            if (year.isHovered !== newMonth.isHovered ||\n                year.isDisabled !== newMonth.isDisabled ||\n                year.isSelected !== newMonth.isSelected) {\n                yearsCalendar.years[rowIndex][yearIndex] = newMonth;\n            }\n        });\n    });\n    // todo: add check for linked calendars\n    yearsCalendar.hideLeftArrow =\n        !!options.yearIndex && options.yearIndex > 0 && options.yearIndex !== options.displayMonths;\n    yearsCalendar.hideRightArrow =\n        !!options.yearIndex && !!options.displayMonths &&\n            options.yearIndex < options.displayMonths &&\n            options.yearIndex + 1 !== options.displayMonths;\n    yearsCalendar.disableLeftArrow = isYearDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(yearsCalendar.years[0][0].date, { year: -1 }), options.minDate, options.maxDate);\n    const i = yearsCalendar.years.length - 1;\n    const j = yearsCalendar.years[i].length - 1;\n    yearsCalendar.disableRightArrow = isYearDisabled((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(yearsCalendar.years[i][j].date, { year: 1 }), options.minDate, options.maxDate);\n    return yearsCalendar;\n}\n\nfunction copyTime(sourceDate, time) {\n    if (!sourceDate || !isNaN(sourceDate.getTime())) {\n        return;\n    }\n    sourceDate.setHours(time.getHours());\n    sourceDate.setMinutes(time.getMinutes());\n    sourceDate.setSeconds(time.getSeconds());\n    sourceDate.setMilliseconds(time.getMilliseconds());\n}\n\nfunction bsDatepickerReducer(state = initialDatepickerState, action) {\n    switch (action.type) {\n        case BsDatepickerActions.CALCULATE: {\n            return calculateReducer(state);\n        }\n        case BsDatepickerActions.FORMAT: {\n            return formatReducer(state);\n        }\n        case BsDatepickerActions.FLAG: {\n            return flagReducer(state);\n        }\n        case BsDatepickerActions.NAVIGATE_OFFSET: {\n            return navigateOffsetReducer(state, action);\n        }\n        case BsDatepickerActions.NAVIGATE_TO: {\n            const payload = action.payload;\n            if (!state.view || !payload.unit) {\n                return state;\n            }\n            const date = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.setFullDate)(state.view.date, payload.unit);\n            let newState;\n            let mode;\n            if (canSwitchMode(payload.viewMode, state.minMode)) {\n                mode = payload.viewMode;\n                newState = { view: { date, mode } };\n            }\n            else {\n                mode = state.view.mode;\n                newState = { selectedDate: date, view: { date, mode } };\n            }\n            return Object.assign({}, state, newState);\n        }\n        case BsDatepickerActions.CHANGE_VIEWMODE: {\n            if (!canSwitchMode(action.payload, state.minMode) || !state.view) {\n                return state;\n            }\n            const date = state.view.date;\n            const mode = action.payload;\n            const newState = { view: { date, mode } };\n            return Object.assign({}, state, newState);\n        }\n        case BsDatepickerActions.HOVER: {\n            return Object.assign({}, state, { hoveredDate: action.payload });\n        }\n        case BsDatepickerActions.SELECT: {\n            if (!state.view) {\n                return state;\n            }\n            const newState = {\n                selectedDate: action.payload,\n                view: state.view\n            };\n            if (Array.isArray(state.selectedTime)) {\n                const _time = state.selectedTime[0];\n                if (newState.selectedDate && _time) {\n                    copyTime(newState.selectedDate, _time);\n                }\n            }\n            const mode = state.view.mode;\n            const _date = action.payload || state.view.date;\n            const date = getViewDate(_date, state.minDate, state.maxDate);\n            newState.view = { mode, date };\n            return Object.assign({}, state, newState);\n        }\n        case BsDatepickerActions.SELECT_TIME: {\n            const { date, index } = action.payload;\n            const selectedTime = state.selectedTime ? [...state.selectedTime] : [];\n            selectedTime[index] = date;\n            return Object.assign({}, state, { selectedTime });\n        }\n        case BsDatepickerActions.SET_OPTIONS: {\n            if (!state.view) {\n                return state;\n            }\n            const newState = action.payload;\n            // preserve view mode\n            const mode = newState.minMode ? newState.minMode : state.view.mode;\n            const _viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDateValid)(newState.value) && newState.value\n                || (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isArray)(newState.value) && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDateValid)(newState.value[0]) && newState.value[0]\n                || state.view.date;\n            const date = getViewDate(_viewDate, newState.minDate, newState.maxDate);\n            newState.view = { mode, date };\n            // update selected value\n            if (newState.value) {\n                // if new value is array we work with date range\n                if ((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isArray)(newState.value)) {\n                    newState.selectedRange = newState.value;\n                    newState.selectedTime = newState.value.map((i) => i);\n                }\n                // if new value is a date -> datepicker\n                if (newState.value instanceof Date) {\n                    newState.selectedDate = newState.value;\n                    newState.selectedTime = [newState.value];\n                }\n                // provided value is not supported :)\n                // need to report it somehow\n            }\n            return Object.assign({}, state, newState);\n        }\n        // date range picker\n        case BsDatepickerActions.SELECT_RANGE: {\n            if (!state.view) {\n                return state;\n            }\n            const newState = {\n                selectedRange: action.payload,\n                view: state.view\n            };\n            newState.selectedRange?.forEach((dte, index) => {\n                if (Array.isArray(state.selectedTime)) {\n                    const _time = state.selectedTime[index];\n                    if (_time) {\n                        copyTime(dte, _time);\n                    }\n                }\n            });\n            const mode = state.view.mode;\n            const _date = action.payload && action.payload[0] || state.view.date;\n            const date = getViewDate(_date, state.minDate, state.maxDate);\n            newState.view = { mode, date };\n            return Object.assign({}, state, newState);\n        }\n        case BsDatepickerActions.SET_MIN_DATE: {\n            return Object.assign({}, state, {\n                minDate: action.payload\n            });\n        }\n        case BsDatepickerActions.SET_MAX_DATE: {\n            return Object.assign({}, state, {\n                maxDate: action.payload\n            });\n        }\n        case BsDatepickerActions.SET_IS_DISABLED: {\n            return Object.assign({}, state, {\n                isDisabled: action.payload\n            });\n        }\n        case BsDatepickerActions.SET_DATE_CUSTOM_CLASSES: {\n            return Object.assign({}, state, {\n                dateCustomClasses: action.payload\n            });\n        }\n        case BsDatepickerActions.SET_DATE_TOOLTIP_TEXTS: {\n            return Object.assign({}, state, {\n                dateTooltipTexts: action.payload\n            });\n        }\n        default:\n            return state;\n    }\n}\nfunction calculateReducer(state) {\n    if (!state.view) {\n        return state;\n    }\n    // how many calendars\n    let displayMonths;\n    if (state.displayOneMonthRange &&\n        isDisplayOneMonth(state.view.date, state.minDate, state.maxDate)) {\n        displayMonths = 1;\n    }\n    else {\n        displayMonths = state.displayMonths || 1;\n    }\n    // use selected date on initial rendering if set\n    let viewDate = state.view.date;\n    if (state.view.mode === 'day' && state.monthViewOptions) {\n        if (state.showPreviousMonth && state.selectedRange && state.selectedRange.length === 0) {\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { month: -1 });\n        }\n        state.monthViewOptions.firstDayOfWeek = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getLocale)(state.locale).firstDayOfWeek();\n        let monthsModel = new Array(displayMonths);\n        for (let monthIndex = 0; monthIndex < displayMonths; monthIndex++) {\n            // todo: for unlinked calendars it will be harder\n            monthsModel[monthIndex] = calcDaysCalendar(viewDate, state.monthViewOptions);\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { month: 1 });\n        }\n        // Check if parameter enabled and check if it's not months navigation event\n        if (state.preventChangeToNextMonth && state.flaggedMonths && state.hoveredDate) {\n            const viewMonth = calcDaysCalendar(state.view.date, state.monthViewOptions);\n            // Check if viewed right month same as in flaggedMonths state, then override months model with flaggedMonths\n            if (state.flaggedMonths.length && state.flaggedMonths[1].month.getMonth() === viewMonth.month.getMonth()) {\n                monthsModel = state.flaggedMonths\n                    .map(item => {\n                    if (state.monthViewOptions) {\n                        return calcDaysCalendar(item.month, state.monthViewOptions);\n                    }\n                    return null;\n                })\n                    .filter(item => item !== null);\n            }\n        }\n        return Object.assign({}, state, { monthsModel });\n    }\n    if (state.view.mode === 'month') {\n        const monthsCalendar = new Array(displayMonths);\n        for (let calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {\n            // todo: for unlinked calendars it will be harder\n            monthsCalendar[calendarIndex] = formatMonthsCalendar(viewDate, getFormatOptions(state));\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { year: 1 });\n        }\n        return Object.assign({}, state, { monthsCalendar });\n    }\n    if (state.view.mode === 'year') {\n        const yearsCalendarModel = new Array(displayMonths);\n        for (let calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {\n            // todo: for unlinked calendars it will be harder\n            yearsCalendarModel[calendarIndex] = formatYearsCalendar(viewDate, getFormatOptions(state), state.minMode === 'year' ? getYearsCalendarInitialDate(state, calendarIndex) : undefined);\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { year: yearsPerCalendar });\n        }\n        return Object.assign({}, state, { yearsCalendarModel });\n    }\n    return state;\n}\nfunction formatReducer(state) {\n    if (!state.view) {\n        return state;\n    }\n    if (state.view.mode === 'day' && state.monthsModel) {\n        const formattedMonths = state.monthsModel.map((month, monthIndex) => formatDaysCalendar(month, getFormatOptions(state), monthIndex));\n        return Object.assign({}, state, { formattedMonths });\n    }\n    // how many calendars\n    const displayMonths = state.displayMonths || 1;\n    // check initial rendering\n    // use selected date on initial rendering if set\n    let viewDate = state.view.date;\n    if (state.view.mode === 'month') {\n        const monthsCalendar = new Array(displayMonths);\n        for (let calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {\n            // todo: for unlinked calendars it will be harder\n            monthsCalendar[calendarIndex] = formatMonthsCalendar(viewDate, getFormatOptions(state));\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { year: 1 });\n        }\n        return Object.assign({}, state, { monthsCalendar });\n    }\n    if (state.view.mode === 'year') {\n        const yearsCalendarModel = new Array(displayMonths);\n        for (let calendarIndex = 0; calendarIndex < displayMonths; calendarIndex++) {\n            // todo: for unlinked calendars it will be harder\n            yearsCalendarModel[calendarIndex] = formatYearsCalendar(viewDate, getFormatOptions(state));\n            viewDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(viewDate, { year: 16 });\n        }\n        return Object.assign({}, state, { yearsCalendarModel });\n    }\n    return state;\n}\nfunction flagReducer(state) {\n    if (!state.view) {\n        return state;\n    }\n    const displayMonths = isDisplayOneMonth(state.view.date, state.minDate, state.maxDate) ? 1 : state.displayMonths;\n    if (state.formattedMonths && state.view.mode === 'day') {\n        const flaggedMonths = state.formattedMonths.map((formattedMonth, monthIndex) => flagDaysCalendar(formattedMonth, {\n            isDisabled: state.isDisabled,\n            minDate: state.minDate,\n            maxDate: state.maxDate,\n            daysDisabled: state.daysDisabled,\n            datesDisabled: state.datesDisabled,\n            datesEnabled: state.datesEnabled,\n            hoveredDate: state.hoveredDate,\n            selectedDate: state.selectedDate,\n            selectedRange: state.selectedRange,\n            displayMonths,\n            dateCustomClasses: state.dateCustomClasses,\n            dateTooltipTexts: state.dateTooltipTexts,\n            monthIndex\n        }));\n        return Object.assign({}, state, { flaggedMonths });\n    }\n    if (state.view.mode === 'month' && state.monthsCalendar) {\n        const flaggedMonthsCalendar = state.monthsCalendar.map((formattedMonth, monthIndex) => flagMonthsCalendar(formattedMonth, {\n            isDisabled: state.isDisabled,\n            minDate: state.minDate,\n            maxDate: state.maxDate,\n            hoveredMonth: state.hoveredMonth,\n            selectedDate: state.selectedDate,\n            datesDisabled: state.datesDisabled,\n            datesEnabled: state.datesEnabled,\n            selectedRange: state.selectedRange,\n            displayMonths,\n            monthIndex\n        }));\n        return Object.assign({}, state, { flaggedMonthsCalendar });\n    }\n    if (state.view.mode === 'year' && state.yearsCalendarModel) {\n        const yearsCalendarFlagged = state.yearsCalendarModel.map((formattedMonth, yearIndex) => flagYearsCalendar(formattedMonth, {\n            isDisabled: state.isDisabled,\n            minDate: state.minDate,\n            maxDate: state.maxDate,\n            hoveredYear: state.hoveredYear,\n            selectedDate: state.selectedDate,\n            datesDisabled: state.datesDisabled,\n            datesEnabled: state.datesEnabled,\n            selectedRange: state.selectedRange,\n            displayMonths,\n            yearIndex\n        }));\n        return Object.assign({}, state, { yearsCalendarFlagged });\n    }\n    return state;\n}\nfunction navigateOffsetReducer(state, action) {\n    if (!state.view) {\n        return state;\n    }\n    const date = shiftViewDate(state, action);\n    if (!date) {\n        return state;\n    }\n    const newState = {\n        view: {\n            mode: state.view.mode,\n            date\n        }\n    };\n    return Object.assign({}, state, newState);\n}\nfunction shiftViewDate(state, action) {\n    if (!state.view) {\n        return undefined;\n    }\n    if (state.view.mode === 'year' && state.minMode === 'year') {\n        const initialDate = getYearsCalendarInitialDate(state, 0);\n        if (initialDate) {\n            const middleDate = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(initialDate, { year: -initialYearShift });\n            return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)(middleDate, action.payload);\n        }\n    }\n    return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.shiftDate)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.startOf)(state.view.date, 'month'), action.payload);\n}\nfunction getFormatOptions(state) {\n    return {\n        locale: state.locale,\n        monthTitle: state.monthTitle,\n        yearTitle: state.yearTitle,\n        dayLabel: state.dayLabel,\n        monthLabel: state.monthLabel,\n        yearLabel: state.yearLabel,\n        weekNumbers: state.weekNumbers\n    };\n}\n/**\n * if view date is provided (bsValue|ngModel) it should be shown\n * if view date is not provider:\n * if minDate>currentDate (default view value), show minDate\n * if maxDate<currentDate(default view value) show maxDate\n */\nfunction getViewDate(viewDate, minDate, maxDate) {\n    const _date = Array.isArray(viewDate) ? viewDate[0] : viewDate;\n    if (minDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)(minDate, _date, 'day')) {\n        return minDate;\n    }\n    if (maxDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)(maxDate, _date, 'day')) {\n        return maxDate;\n    }\n    return _date;\n}\nfunction isDisplayOneMonth(viewDate, minDate, maxDate) {\n    if (maxDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSame)(maxDate, viewDate, 'day')) {\n        return true;\n    }\n    return minDate && maxDate && minDate.getMonth() === maxDate.getMonth();\n}\n\nclass BsDatepickerStore extends ngx_bootstrap_mini_ngrx__WEBPACK_IMPORTED_MODULE_7__.MiniStore {\n    constructor() {\n        const _dispatcher = new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject({\n            type: '[datepicker] dispatcher init'\n        });\n        const state = new ngx_bootstrap_mini_ngrx__WEBPACK_IMPORTED_MODULE_7__.MiniState(initialDatepickerState, _dispatcher, bsDatepickerReducer);\n        super(_dispatcher, bsDatepickerReducer, state);\n    }\n}\nBsDatepickerStore.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerStore, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDatepickerStore.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerStore, providedIn: 'platform' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerStore, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{ providedIn: 'platform' }]\n        }], ctorParameters: function () { return []; } });\n\nclass BsCustomDatesViewComponent {\n    constructor() {\n        this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    }\n    selectFromRanges(range) {\n        this.onSelect.emit(range);\n    }\n}\nBsCustomDatesViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCustomDatesViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsCustomDatesViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsCustomDatesViewComponent, selector: \"bs-custom-date-view\", inputs: { ranges: \"ranges\", selectedRange: \"selectedRange\", customRangeLabel: \"customRangeLabel\" }, outputs: { onSelect: \"onSelect\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <div class=\"bs-datepicker-predefined-btns\">\n      <button *ngFor=\"let range of ranges\"\n        type=\"button\"\n        class=\"btn\"\n        (click)=\"selectFromRanges(range)\"\n        [class.selected]=\"range.value === selectedRange\">\n        {{ range.label }}\n      </button>\n    </div>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCustomDatesViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-custom-date-view',\n                    template: `\n    <div class=\"bs-datepicker-predefined-btns\">\n      <button *ngFor=\"let range of ranges\"\n        type=\"button\"\n        class=\"btn\"\n        (click)=\"selectFromRanges(range)\"\n        [class.selected]=\"range.value === selectedRange\">\n        {{ range.label }}\n      </button>\n    </div>\n  `,\n                    changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush\n                }]\n        }], propDecorators: { ranges: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], selectedRange: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], customRangeLabel: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onSelect: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\n/** *************** */\n// events\n/** *************** */\nvar BsNavigationDirection;\n(function (BsNavigationDirection) {\n    BsNavigationDirection[BsNavigationDirection[\"UP\"] = 0] = \"UP\";\n    BsNavigationDirection[BsNavigationDirection[\"DOWN\"] = 1] = \"DOWN\";\n})(BsNavigationDirection || (BsNavigationDirection = {}));\n\nclass BsCurrentDateViewComponent {\n}\nBsCurrentDateViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCurrentDateViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsCurrentDateViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsCurrentDateViewComponent, selector: \"bs-current-date\", inputs: { title: \"title\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `<div class=\"current-timedate\"><span>{{ title }}</span></div>`, isInline: true });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCurrentDateViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-current-date',\n                    template: `<div class=\"current-timedate\"><span>{{ title }}</span></div>`\n                }]\n        }], propDecorators: { title: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }] } });\n\nclass BsTimepickerViewComponent {\n    constructor() {\n        this.ampm = 'ok';\n        this.hours = 0;\n        this.minutes = 0;\n    }\n}\nBsTimepickerViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsTimepickerViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsTimepickerViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsTimepickerViewComponent, selector: \"bs-timepicker\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <div class=\"bs-timepicker-container\">\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <button class=\"switch-time-format\" type=\"button\">{{ ampm }}\n        <img\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\n          alt=\"\">\n      </button>\n    </div>\n  `, isInline: true });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsTimepickerViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-timepicker',\n                    template: `\n    <div class=\"bs-timepicker-container\">\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"hours\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <div class=\"bs-timepicker-controls\">\n        <button class=\"bs-decrease\" type=\"button\">-</button>\n        <input type=\"text\" [value]=\"minutes\" placeholder=\"00\">\n        <button class=\"bs-increase\" type=\"button\">+</button>\n      </div>\n      <button class=\"switch-time-format\" type=\"button\">{{ ampm }}\n        <img\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==\"\n          alt=\"\">\n      </button>\n    </div>\n  `\n                }]\n        }] });\n\nclass BsCalendarLayoutComponent {\n}\nBsCalendarLayoutComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCalendarLayoutComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsCalendarLayoutComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsCalendarLayoutComponent, selector: \"bs-calendar-layout\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <!-- current date, will be added in nearest releases -->\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\n\n    <!--navigation-->\n    <div class=\"bs-datepicker-head\">\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\n    </div>\n\n    <div class=\"bs-datepicker-body\">\n      <ng-content></ng-content>\n    </div>\n\n    <!--timepicker-->\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"component\", type: BsCurrentDateViewComponent, selector: \"bs-current-date\", inputs: [\"title\"] }, { kind: \"component\", type: BsTimepickerViewComponent, selector: \"bs-timepicker\" }] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsCalendarLayoutComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-calendar-layout',\n                    template: `\n    <!-- current date, will be added in nearest releases -->\n    <bs-current-date title=\"hey there\" *ngIf=\"false\"></bs-current-date>\n\n    <!--navigation-->\n    <div class=\"bs-datepicker-head\">\n      <ng-content select=\"bs-datepicker-navigation-view\"></ng-content>\n    </div>\n\n    <div class=\"bs-datepicker-body\">\n      <ng-content></ng-content>\n    </div>\n\n    <!--timepicker-->\n    <bs-timepicker *ngIf=\"false\"></bs-timepicker>\n  `\n                }]\n        }] });\n\nclass BsDatepickerDayDecoratorComponent {\n    constructor(_config, _elRef, _renderer) {\n        this._config = _config;\n        this._elRef = _elRef;\n        this._renderer = _renderer;\n        this.day = { date: new Date(), label: '' };\n    }\n    ngOnInit() {\n        if (this.day?.isToday && this._config && this._config.customTodayClass) {\n            this._renderer.addClass(this._elRef.nativeElement, this._config.customTodayClass);\n        }\n        if (typeof this.day?.customClasses === 'string') {\n            this.day?.customClasses.split(' ')\n                .filter((className) => className)\n                .forEach((className) => {\n                this._renderer.addClass(this._elRef.nativeElement, className);\n            });\n        }\n    }\n}\nBsDatepickerDayDecoratorComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerDayDecoratorComponent, deps: [{ token: BsDatepickerConfig }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDatepickerDayDecoratorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerDayDecoratorComponent, selector: \"[bsDatepickerDayDecorator]\", inputs: { day: \"day\" }, host: { properties: { \"class.disabled\": \"day.isDisabled\", \"class.is-highlighted\": \"day.isHovered\", \"class.is-other-month\": \"day.isOtherMonth\", \"class.is-active-other-month\": \"day.isOtherMonthHovered\", \"class.in-range\": \"day.isInRange\", \"class.select-start\": \"day.isSelectionStart\", \"class.select-end\": \"day.isSelectionEnd\", \"class.selected\": \"day.isSelected\" } }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `{{ day && day.label || '' }}`, isInline: true, changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerDayDecoratorComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: '[bsDatepickerDayDecorator]',\n                    changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,\n                    host: {\n                        '[class.disabled]': 'day.isDisabled',\n                        '[class.is-highlighted]': 'day.isHovered',\n                        '[class.is-other-month]': 'day.isOtherMonth',\n                        '[class.is-active-other-month]': 'day.isOtherMonthHovered',\n                        '[class.in-range]': 'day.isInRange',\n                        '[class.select-start]': 'day.isSelectionStart',\n                        '[class.select-end]': 'day.isSelectionEnd',\n                        '[class.selected]': 'day.isSelected'\n                    },\n                    template: `{{ day && day.label || '' }}`\n                }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerConfig }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }]; }, propDecorators: { day: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }] } });\n\nclass BsDatepickerNavigationViewComponent {\n    constructor() {\n        this.isDisabled = false;\n        this.onNavigate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onViewMode = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    }\n    navTo(down) {\n        this.onNavigate.emit(down ? BsNavigationDirection.DOWN : BsNavigationDirection.UP);\n    }\n    view(viewMode) {\n        if (this.isDisabled) {\n            return;\n        }\n        this.onViewMode.emit(viewMode);\n    }\n}\nBsDatepickerNavigationViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerNavigationViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDatepickerNavigationViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerNavigationViewComponent, selector: \"bs-datepicker-navigation-view\", inputs: { calendar: \"calendar\", isDisabled: \"isDisabled\" }, outputs: { onNavigate: \"onNavigate\", onViewMode: \"onViewMode\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <button class=\"previous\"\n            [disabled]=\"calendar.disableLeftArrow\"\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(true)\">\n      <span>&lsaquo;</span>\n    </button>\n\n    <ng-container *ngIf=\"calendar && calendar.monthTitle\">\n      &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n      <button class=\"current\"\n            type=\"button\"\n              (click)=\"view('month')\"\n              [disabled]=\"isDisabled\"\n      ><span>{{ calendar.monthTitle }}</span>\n      </button>\n    </ng-container>\n\n    &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n    <button\n      class=\"current\"\n      (click)=\"view('year')\"\n      type=\"button\"\n      [disabled]=\"isDisabled\"\n    >\n      <span>{{ calendar.yearTitle }}</span>\n    </button>\n\n    &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"next\"\n            [disabled]=\"calendar.disableRightArrow\"\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\n    </button>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerNavigationViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-datepicker-navigation-view',\n                    changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectionStrategy.OnPush,\n                    template: `\n    <button class=\"previous\"\n            [disabled]=\"calendar.disableLeftArrow\"\n            [style.visibility]=\"calendar.hideLeftArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(true)\">\n      <span>&lsaquo;</span>\n    </button>\n\n    <ng-container *ngIf=\"calendar && calendar.monthTitle\">\n      &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n      <button class=\"current\"\n            type=\"button\"\n              (click)=\"view('month')\"\n              [disabled]=\"isDisabled\"\n      ><span>{{ calendar.monthTitle }}</span>\n      </button>\n    </ng-container>\n\n    &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n    <button\n      class=\"current\"\n      (click)=\"view('year')\"\n      type=\"button\"\n      [disabled]=\"isDisabled\"\n    >\n      <span>{{ calendar.yearTitle }}</span>\n    </button>\n\n    &#8203;  <!-- zero-width space needed for correct alignment\n                  with preserveWhitespaces: false in Angular -->\n\n    <button class=\"next\"\n            [disabled]=\"calendar.disableRightArrow\"\n            [style.visibility]=\"calendar.hideRightArrow ? 'hidden' : 'visible'\"\n            type=\"button\"\n            (click)=\"navTo(false)\"><span>&rsaquo;</span>\n    </button>\n  `\n                }]\n        }], propDecorators: { calendar: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onNavigate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onViewMode: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\nclass BsDaysCalendarViewComponent {\n    constructor(_config) {\n        this._config = _config;\n        this.onNavigate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onViewMode = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onHover = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onHoverWeek = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.isiOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\n            (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1));\n        if (this._config.dateTooltipTexts && this._config.dateTooltipTexts.length > 0) {\n            this.isShowTooltip = true;\n        }\n    }\n    navigateTo(event) {\n        const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n        this.onNavigate.emit({ step: { month: step } });\n    }\n    changeViewMode(event) {\n        this.onViewMode.emit(event);\n    }\n    selectDay(event) {\n        this.onSelect.emit(event);\n    }\n    selectWeek(week) {\n        if (!this._config.selectWeek && !this._config.selectWeekDateRange) {\n            return;\n        }\n        if (week.days.length === 0) {\n            return;\n        }\n        if (this._config.selectWeek && week.days[0]\n            && !week.days[0].isDisabled\n            && this._config.selectFromOtherMonth) {\n            this.onSelect.emit(week.days[0]);\n            return;\n        }\n        const selectedDay = week.days.find((day) => {\n            return this._config.selectFromOtherMonth\n                ? !day.isDisabled\n                : !day.isOtherMonth && !day.isDisabled;\n        });\n        this.onSelect.emit(selectedDay);\n        if (this._config.selectWeekDateRange) {\n            const days = week.days.slice(0);\n            const lastDayOfRange = days.reverse().find((day) => {\n                return this._config.selectFromOtherMonth\n                    ? !day.isDisabled\n                    : !day.isOtherMonth && !day.isDisabled;\n            });\n            this.onSelect.emit(lastDayOfRange);\n        }\n    }\n    weekHoverHandler(cell, isHovered) {\n        if (!this._config.selectWeek && !this._config.selectWeekDateRange) {\n            return;\n        }\n        const hasActiveDays = cell.days.find((day) => {\n            return this._config.selectFromOtherMonth\n                ? !day.isDisabled\n                : !day.isOtherMonth && !day.isDisabled;\n        });\n        if (hasActiveDays) {\n            cell.isHovered = isHovered;\n            this.isWeekHovered = isHovered;\n            this.onHoverWeek.emit(cell);\n        }\n    }\n    hoverDay(cell, isHovered) {\n        if (this._config.selectFromOtherMonth && cell.isOtherMonth) {\n            cell.isOtherMonthHovered = isHovered;\n        }\n        if (this._config.dateTooltipTexts) {\n            cell.tooltipText = '';\n            this._config.dateTooltipTexts.forEach((dateData) => {\n                if ((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isSameDay)(dateData.date, cell.date)) {\n                    cell.tooltipText = dateData.tooltipText;\n                    return;\n                }\n            });\n        }\n        this.onHover.emit({ cell, isHovered });\n    }\n}\nBsDaysCalendarViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaysCalendarViewComponent, deps: [{ token: BsDatepickerConfig }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDaysCalendarViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaysCalendarViewComponent, selector: \"bs-days-calendar-view\", inputs: { calendar: \"calendar\", options: \"options\", isDisabled: \"isDisabled\" }, outputs: { onNavigate: \"onNavigate\", onViewMode: \"onViewMode\", onSelect: \"onSelect\", onHover: \"onHover\", onHoverWeek: \"onHoverWeek\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        [isDisabled]=\"!!isDisabled\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n      <!--days matrix-->\n      <table role=\"grid\" class=\"days weeks\">\n        <thead>\n        <tr>\n          <!--if show weeks-->\n          <th *ngIf=\"options && options.showWeekNumbers\"></th>\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\n          <td class=\"week\" [class.active-week]=\"isWeekHovered\"  *ngIf=\"options && options.showWeekNumbers\">\n            <span *ngIf=\"isiOS\" (click)=\"selectWeek(week)\">{{ calendar.weekNumbers[i] }}</span>\n            <span *ngIf=\"!isiOS\"\n                (click)=\"selectWeek(week)\"\n                (mouseenter)=\"weekHoverHandler(week, true)\"\n                (mouseleave)=\"weekHoverHandler(week, false)\">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\n\n            <!-- When we want to show tooltips for dates -->\n            <span *ngIf=\"!isiOS && isShowTooltip\" bsDatepickerDayDecorator\n                [day]=\"day\"\n                (click)=\"selectDay(day)\"\n                tooltip=\"{{day.tooltipText}}\"\n                (mouseenter)=\"hoverDay(day, true)\"\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 3</span>\n            <!-- When tooltips for dates are disabled -->\n            <span *ngIf=\"!isiOS && !isShowTooltip\" bsDatepickerDayDecorator\n                  [day]=\"day\"\n                  (click)=\"selectDay(day)\"\n                  (mouseenter)=\"hoverDay(day, true)\"\n                  (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 2</span>\n\n            <!-- For mobile iOS view, tooltips are not needed -->\n            <span *ngIf=\"isiOS\" bsDatepickerDayDecorator\n                  [day]=\"day\"\n                  (click)=\"selectDay(day)\">{{ day.label }} 1</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipDirective, selector: \"[tooltip], [tooltipHtml]\", inputs: [\"adaptivePosition\", \"tooltip\", \"placement\", \"triggers\", \"container\", \"containerClass\", \"boundariesElement\", \"isOpen\", \"isDisabled\", \"delay\", \"tooltipHtml\", \"tooltipPlacement\", \"tooltipIsOpen\", \"tooltipEnable\", \"tooltipAppendToBody\", \"tooltipAnimation\", \"tooltipClass\", \"tooltipContext\", \"tooltipPopupDelay\", \"tooltipFadeDuration\", \"tooltipTrigger\"], outputs: [\"tooltipChange\", \"onShown\", \"onHidden\", \"tooltipStateChanged\"], exportAs: [\"bs-tooltip\"] }, { kind: \"component\", type: BsCalendarLayoutComponent, selector: \"bs-calendar-layout\" }, { kind: \"component\", type: BsDatepickerDayDecoratorComponent, selector: \"[bsDatepickerDayDecorator]\", inputs: [\"day\"] }, { kind: \"component\", type: BsDatepickerNavigationViewComponent, selector: \"bs-datepicker-navigation-view\", inputs: [\"calendar\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\"] }] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaysCalendarViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-days-calendar-view',\n                    // changeDetection: ChangeDetectionStrategy.OnPush,\n                    template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        [isDisabled]=\"!!isDisabled\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n      <!--days matrix-->\n      <table role=\"grid\" class=\"days weeks\">\n        <thead>\n        <tr>\n          <!--if show weeks-->\n          <th *ngIf=\"options && options.showWeekNumbers\"></th>\n          <th *ngFor=\"let weekday of calendar.weekdays; let i = index\"\n              aria-label=\"weekday\">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor=\"let week of calendar.weeks; let i = index\">\n          <td class=\"week\" [class.active-week]=\"isWeekHovered\"  *ngIf=\"options && options.showWeekNumbers\">\n            <span *ngIf=\"isiOS\" (click)=\"selectWeek(week)\">{{ calendar.weekNumbers[i] }}</span>\n            <span *ngIf=\"!isiOS\"\n                (click)=\"selectWeek(week)\"\n                (mouseenter)=\"weekHoverHandler(week, true)\"\n                (mouseleave)=\"weekHoverHandler(week, false)\">{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor=\"let day of week.days\" role=\"gridcell\">\n\n            <!-- When we want to show tooltips for dates -->\n            <span *ngIf=\"!isiOS && isShowTooltip\" bsDatepickerDayDecorator\n                [day]=\"day\"\n                (click)=\"selectDay(day)\"\n                tooltip=\"{{day.tooltipText}}\"\n                (mouseenter)=\"hoverDay(day, true)\"\n                (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 3</span>\n            <!-- When tooltips for dates are disabled -->\n            <span *ngIf=\"!isiOS && !isShowTooltip\" bsDatepickerDayDecorator\n                  [day]=\"day\"\n                  (click)=\"selectDay(day)\"\n                  (mouseenter)=\"hoverDay(day, true)\"\n                  (mouseleave)=\"hoverDay(day, false)\">{{ day.label }} 2</span>\n\n            <!-- For mobile iOS view, tooltips are not needed -->\n            <span *ngIf=\"isiOS\" bsDatepickerDayDecorator\n                  [day]=\"day\"\n                  (click)=\"selectDay(day)\">{{ day.label }} 1</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  `\n                }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerConfig }]; }, propDecorators: { calendar: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], options: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onNavigate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onViewMode: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onSelect: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHover: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHoverWeek: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\nclass BsMonthCalendarViewComponent {\n    constructor() {\n        this.onNavigate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onViewMode = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onHover = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    }\n    navigateTo(event) {\n        const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n        this.onNavigate.emit({ step: { year: step } });\n    }\n    viewMonth(month) {\n        this.onSelect.emit(month);\n    }\n    hoverMonth(cell, isHovered) {\n        this.onHover.emit({ cell, isHovered });\n    }\n    changeViewMode(event) {\n        this.onViewMode.emit(event);\n    }\n}\nBsMonthCalendarViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsMonthCalendarViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsMonthCalendarViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsMonthCalendarViewComponent, selector: \"bs-month-calendar-view\", inputs: { calendar: \"calendar\" }, outputs: { onNavigate: \"onNavigate\", onViewMode: \"onViewMode\", onSelect: \"onSelect\", onHover: \"onHover\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"months\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar?.months\">\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\n              (click)=\"viewMonth(month)\"\n              (mouseenter)=\"hoverMonth(month, true)\"\n              (mouseleave)=\"hoverMonth(month, false)\"\n              [class.disabled]=\"month.isDisabled\"\n              [class.is-highlighted]=\"month.isHovered\">\n            <span [class.selected]=\"month.isSelected\">{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"component\", type: BsCalendarLayoutComponent, selector: \"bs-calendar-layout\" }, { kind: \"component\", type: BsDatepickerNavigationViewComponent, selector: \"bs-datepicker-navigation-view\", inputs: [\"calendar\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\"] }] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsMonthCalendarViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-month-calendar-view',\n                    template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"months\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar?.months\">\n          <td *ngFor=\"let month of row\" role=\"gridcell\"\n              (click)=\"viewMonth(month)\"\n              (mouseenter)=\"hoverMonth(month, true)\"\n              (mouseleave)=\"hoverMonth(month, false)\"\n              [class.disabled]=\"month.isDisabled\"\n              [class.is-highlighted]=\"month.isHovered\">\n            <span [class.selected]=\"month.isSelected\">{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `\n                }]\n        }], propDecorators: { calendar: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onNavigate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onViewMode: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onSelect: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHover: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\nclass BsYearsCalendarViewComponent {\n    constructor() {\n        this.onNavigate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onViewMode = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.onHover = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n    }\n    navigateTo(event) {\n        const step = BsNavigationDirection.DOWN === event ? -1 : 1;\n        this.onNavigate.emit({ step: { year: step * yearsPerCalendar } });\n    }\n    viewYear(year) {\n        this.onSelect.emit(year);\n    }\n    hoverYear(cell, isHovered) {\n        this.onHover.emit({ cell, isHovered });\n    }\n    changeViewMode(event) {\n        this.onViewMode.emit(event);\n    }\n}\nBsYearsCalendarViewComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsYearsCalendarViewComponent, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsYearsCalendarViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsYearsCalendarViewComponent, selector: \"bs-years-calendar-view\", inputs: { calendar: \"calendar\" }, outputs: { onNavigate: \"onNavigate\", onViewMode: \"onViewMode\", onSelect: \"onSelect\", onHover: \"onHover\" }, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"years\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar?.years\">\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\n              (click)=\"viewYear(year)\"\n              (mouseenter)=\"hoverYear(year, true)\"\n              (mouseleave)=\"hoverYear(year, false)\"\n              [class.disabled]=\"year.isDisabled\"\n              [class.is-highlighted]=\"year.isHovered\">\n            <span [class.selected]=\"year.isSelected\">{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `, isInline: true, dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"component\", type: BsCalendarLayoutComponent, selector: \"bs-calendar-layout\" }, { kind: \"component\", type: BsDatepickerNavigationViewComponent, selector: \"bs-datepicker-navigation-view\", inputs: [\"calendar\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\"] }] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsYearsCalendarViewComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{\n                    selector: 'bs-years-calendar-view',\n                    template: `\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]=\"calendar\"\n        (onNavigate)=\"navigateTo($event)\"\n        (onViewMode)=\"changeViewMode($event)\"\n      ></bs-datepicker-navigation-view>\n\n      <table role=\"grid\" class=\"years\">\n        <tbody>\n        <tr *ngFor=\"let row of calendar?.years\">\n          <td *ngFor=\"let year of row\" role=\"gridcell\"\n              (click)=\"viewYear(year)\"\n              (mouseenter)=\"hoverYear(year, true)\"\n              (mouseleave)=\"hoverYear(year, false)\"\n              [class.disabled]=\"year.isDisabled\"\n              [class.is-highlighted]=\"year.isHovered\">\n            <span [class.selected]=\"year.isSelected\">{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  `\n                }]\n        }], propDecorators: { calendar: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onNavigate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onViewMode: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onSelect: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHover: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\nclass BsDatepickerContainerComponent extends BsDatepickerAbstractComponent {\n    constructor(_renderer, _config, _store, _element, _actions, _effects, _positionService) {\n        super();\n        this._config = _config;\n        this._store = _store;\n        this._element = _element;\n        this._actions = _actions;\n        this._positionService = _positionService;\n        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.animationState = 'void';\n        this.isRangePicker = false;\n        this._subs = [];\n        this._effects = _effects;\n        _renderer.setStyle(_element.nativeElement, 'display', 'block');\n        _renderer.setStyle(_element.nativeElement, 'position', 'absolute');\n    }\n    set value(value) {\n        this._effects?.setValue(value);\n    }\n    get isDatePickerDisabled() {\n        return !!this._config.isDisabled;\n    }\n    get isDatepickerDisabled() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    get isDatepickerReadonly() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    ngOnInit() {\n        this._positionService.setOptions({\n            modifiers: {\n                flip: {\n                    enabled: this._config.adaptivePosition\n                },\n                preventOverflow: {\n                    enabled: this._config.adaptivePosition\n                }\n            },\n            allowedPositions: this._config.allowedPositions\n        });\n        this._positionService.event$?.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.take)(1))\n            .subscribe(() => {\n            this._positionService.disable();\n            if (this._config.isAnimated) {\n                this.animationState = this.isTopPosition ? 'animated-up' : 'animated-down';\n                return;\n            }\n            this.animationState = 'unanimated';\n        });\n        this.isOtherMonthsActive = this._config.selectFromOtherMonth;\n        this.containerClass = this._config.containerClass;\n        this.showTodayBtn = this._config.showTodayButton;\n        this.todayBtnLbl = this._config.todayButtonLabel;\n        this.todayPos = this._config.todayPosition;\n        this.showClearBtn = this._config.showClearButton;\n        this.clearBtnLbl = this._config.clearButtonLabel;\n        this.clearPos = this._config.clearPosition;\n        this.customRangeBtnLbl = this._config.customRangeButtonLabel;\n        this.withTimepicker = this._config.withTimepicker;\n        this._effects?.init(this._store)\n            // intial state options\n            .setOptions(this._config)\n            // data binding view --> model\n            .setBindings(this)\n            // set event handlers\n            .setEventHandlers(this)\n            .registerDatepickerSideEffects();\n        let currentDate;\n        // todo: move it somewhere else\n        // on selected date change\n        this._subs.push(this._store.select((state) => state.selectedDate).subscribe((date) => {\n            currentDate = date;\n            this.valueChange.emit(date);\n        }));\n        this._subs.push(this._store.select((state) => state.selectedTime).subscribe((time) => {\n            if (!time[0] || !(time[0] instanceof Date) || time[0] === currentDate) {\n                return;\n            }\n            this.valueChange.emit(time[0]);\n        }));\n        this._store.dispatch(this._actions.changeViewMode(this._config.startView));\n    }\n    ngAfterViewInit() {\n        this.selectedTimeSub.add(this.selectedTime?.subscribe((val) => {\n            if (Array.isArray(val) && val.length >= 1) {\n                this.startTimepicker?.writeValue(val[0]);\n            }\n        }));\n        this.startTimepicker?.registerOnChange((val) => {\n            this.timeSelectHandler(val, 0);\n        });\n    }\n    get isTopPosition() {\n        return this._element.nativeElement.classList.contains('top');\n    }\n    positionServiceEnable() {\n        this._positionService.enable();\n    }\n    timeSelectHandler(date, index) {\n        this._store.dispatch(this._actions.selectTime(date, index));\n    }\n    daySelectHandler(day) {\n        if (!day) {\n            return;\n        }\n        const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\n        if (isDisabled) {\n            return;\n        }\n        this._store.dispatch(this._actions.select(day.date));\n    }\n    monthSelectHandler(day) {\n        if (!day || day.isDisabled) {\n            return;\n        }\n        this._store.dispatch(this._actions.navigateTo({\n            unit: {\n                month: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getMonth)(day.date),\n                year: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getFullYear)(day.date)\n            },\n            viewMode: 'day'\n        }));\n    }\n    yearSelectHandler(day) {\n        if (!day || day.isDisabled) {\n            return;\n        }\n        this._store.dispatch(this._actions.navigateTo({\n            unit: {\n                year: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getFullYear)(day.date)\n            },\n            viewMode: 'month'\n        }));\n    }\n    setToday() {\n        this._store.dispatch(this._actions.select(new Date()));\n    }\n    clearDate() {\n        this._store.dispatch(this._actions.select(undefined));\n    }\n    ngOnDestroy() {\n        for (const sub of this._subs) {\n            sub.unsubscribe();\n        }\n        this.selectedTimeSub.unsubscribe();\n        this._effects?.destroy();\n    }\n}\nBsDatepickerContainerComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerContainerComponent, deps: [{ token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: BsDatepickerConfig }, { token: BsDatepickerStore }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: BsDatepickerActions }, { token: BsDatepickerEffects }, { token: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDatepickerContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerContainerComponent, selector: \"bs-datepicker-container\", host: { attributes: { \"role\": \"dialog\", \"aria-label\": \"calendar\" }, listeners: { \"click\": \"_stopPropagation($event)\" }, properties: { \"attr.disabled\": \"this.isDatepickerDisabled\", \"attr.readonly\": \"this.isDatepickerReadonly\" }, classAttribute: \"bottom\" }, providers: [BsDatepickerStore, BsDatepickerEffects], viewQueries: [{ propertyName: \"startTimepicker\", first: true, predicate: [\"startTP\"], descendants: true }], usesInheritance: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerComponent, selector: \"timepicker\", inputs: [\"hourStep\", \"minuteStep\", \"secondsStep\", \"readonlyInput\", \"disabled\", \"mousewheel\", \"arrowkeys\", \"showSpinners\", \"showMeridian\", \"showMinutes\", \"showSeconds\", \"meridians\", \"min\", \"max\", \"hoursPlaceholder\", \"minutesPlaceholder\", \"secondsPlaceholder\"], outputs: [\"isValid\", \"meridianChange\"] }, { kind: \"component\", type: BsCustomDatesViewComponent, selector: \"bs-custom-date-view\", inputs: [\"ranges\", \"selectedRange\", \"customRangeLabel\"], outputs: [\"onSelect\"] }, { kind: \"component\", type: BsDaysCalendarViewComponent, selector: \"bs-days-calendar-view\", inputs: [\"calendar\", \"options\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\", \"onHoverWeek\"] }, { kind: \"component\", type: BsMonthCalendarViewComponent, selector: \"bs-month-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"component\", type: BsYearsCalendarViewComponent, selector: \"bs-years-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"pipe\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, name: \"async\" }], animations: [datepickerAnimation] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerContainerComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{ selector: 'bs-datepicker-container', providers: [BsDatepickerStore, BsDatepickerEffects], host: {\n                        class: 'bottom',\n                        '(click)': '_stopPropagation($event)',\n                        role: 'dialog',\n                        'aria-label': 'calendar',\n                    }, animations: [datepickerAnimation], template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }]; }, propDecorators: { startTimepicker: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,\n                args: ['startTP']\n            }], isDatepickerDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.disabled']\n            }], isDatepickerReadonly: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }] } });\n\nlet previousDate$1;\nclass BsDatepickerDirective {\n    constructor(_config, _elementRef, _renderer, _viewContainerRef, cis) {\n        this._config = _config;\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        /**\n         * Placement of a datepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n         */\n        this.placement = 'bottom';\n        /**\n         * Specifies events that should trigger. Supports a space separated list of\n         * event names.\n         */\n        this.triggers = 'click';\n        /**\n         * Close datepicker on outside click\n         */\n        this.outsideClick = true;\n        /**\n         * A selector specifying the element the datepicker should be appended to.\n         */\n        this.container = 'body';\n        this.outsideEsc = true;\n        this.isDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        /**\n         * Indicates whether datepicker's content is enabled or not\n         */\n        this.isDisabled = false;\n        /**\n         * Emits when datepicker value has been changed\n         */\n        this.bsValueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this._subs = [];\n        this._dateInputFormat$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        // todo: assign only subset of fields\n        Object.assign(this, this._config);\n        this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);\n        this.onShown = this._datepicker.onShown;\n        this.onHidden = this._datepicker.onHidden;\n        this.isOpen$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(this.isOpen);\n    }\n    get readonlyValue() {\n        return this.isDisabled ? '' : null;\n    }\n    /**\n     * Returns whether or not the datepicker is currently being shown\n     */\n    get isOpen() {\n        return this._datepicker.isShown;\n    }\n    set isOpen(value) {\n        this.isOpen$.next(value);\n    }\n    /**\n     * Initial value of datepicker\n     */\n    set bsValue(value) {\n        if (this._bsValue && value && this._bsValue.getTime() === value.getTime()) {\n            return;\n        }\n        if (!this._bsValue && value && !this._config.withTimepicker) {\n            const now = new Date();\n            copyTime(value, now);\n        }\n        if (value && this.bsConfig?.initCurrentTime) {\n            value = setCurrentTimeOnDateSelect(value);\n        }\n        this.initPreviousValue();\n        this._bsValue = value;\n        this.bsValueChange.emit(value);\n    }\n    get dateInputFormat$() {\n        return this._dateInputFormat$;\n    }\n    ngOnInit() {\n        this._datepicker.listen({\n            outsideClick: this.outsideClick,\n            outsideEsc: this.outsideEsc,\n            triggers: this.triggers,\n            show: () => this.show()\n        });\n        this.setConfig();\n        this.initPreviousValue();\n    }\n    initPreviousValue() {\n        previousDate$1 = this._bsValue;\n    }\n    ngOnChanges(changes) {\n        if (changes[\"bsConfig\"]) {\n            if (changes[\"bsConfig\"].currentValue?.initCurrentTime && changes[\"bsConfig\"].currentValue?.initCurrentTime !== changes[\"bsConfig\"].previousValue?.initCurrentTime && this._bsValue) {\n                this.initPreviousValue();\n                this._bsValue = setCurrentTimeOnDateSelect(this._bsValue);\n                this.bsValueChange.emit(this._bsValue);\n            }\n            this.setConfig();\n            this._dateInputFormat$.next(this.bsConfig && this.bsConfig.dateInputFormat);\n        }\n        if (!this._datepickerRef || !this._datepickerRef.instance) {\n            return;\n        }\n        if (changes[\"minDate\"]) {\n            this._datepickerRef.instance.minDate = this.minDate;\n        }\n        if (changes[\"maxDate\"]) {\n            this._datepickerRef.instance.maxDate = this.maxDate;\n        }\n        if (changes[\"daysDisabled\"]) {\n            this._datepickerRef.instance.daysDisabled = this.daysDisabled;\n        }\n        if (changes[\"datesDisabled\"]) {\n            this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n        }\n        if (changes[\"datesEnabled\"]) {\n            this._datepickerRef.instance.datesEnabled = this.datesEnabled;\n        }\n        if (changes[\"isDisabled\"]) {\n            this._datepickerRef.instance.isDisabled = this.isDisabled;\n        }\n        if (changes[\"dateCustomClasses\"]) {\n            this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\n        }\n        if (changes[\"dateTooltipTexts\"]) {\n            this._datepickerRef.instance.dateTooltipTexts = this.dateTooltipTexts;\n        }\n    }\n    initSubscribes() {\n        // if date changes from external source (model -> view)\n        this._subs.push(this.bsValueChange.subscribe((value) => {\n            if (this._datepickerRef) {\n                this._datepickerRef.instance.value = value;\n            }\n        }));\n        // if date changes from picker (view -> model)\n        if (this._datepickerRef) {\n            this._subs.push(this._datepickerRef.instance.valueChange.subscribe((value) => {\n                this.initPreviousValue();\n                this.bsValue = value;\n                if (this.keepDatepickerModalOpened()) {\n                    return;\n                }\n                this.hide();\n            }));\n        }\n    }\n    keepDatepickerModalOpened() {\n        if (!previousDate$1 || !this.bsConfig?.keepDatepickerOpened || !this._config.withTimepicker) {\n            return false;\n        }\n        return this.isDateSame();\n    }\n    isDateSame() {\n        return (previousDate$1 instanceof Date\n            && (this._bsValue?.getDate() === previousDate$1?.getDate())\n            && (this._bsValue?.getMonth() === previousDate$1?.getMonth())\n            && (this._bsValue?.getFullYear() === previousDate$1?.getFullYear()));\n    }\n    ngAfterViewInit() {\n        this.isOpen$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(isOpen => isOpen !== this.isOpen), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.takeUntil)(this.isDestroy$))\n            .subscribe(() => this.toggle());\n    }\n    /**\n     * Opens an element’s datepicker. This is considered a “manual” triggering of\n     * the datepicker.\n     */\n    show() {\n        if (this._datepicker.isShown) {\n            return;\n        }\n        this.setConfig();\n        this._datepickerRef = this._datepicker\n            .provide({ provide: BsDatepickerConfig, useValue: this._config })\n            .attach(BsDatepickerContainerComponent)\n            .to(this.container)\n            .position({ attachment: this.placement })\n            .show({ placement: this.placement });\n        this.initSubscribes();\n    }\n    /**\n     * Closes an element’s datepicker. This is considered a “manual” triggering of\n     * the datepicker.\n     */\n    hide() {\n        if (this.isOpen) {\n            this._datepicker.hide();\n        }\n        for (const sub of this._subs) {\n            sub.unsubscribe();\n        }\n        if (this._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elementRef.nativeElement).focus();\n        }\n    }\n    /**\n     * Toggles an element’s datepicker. This is considered a “manual” triggering\n     * of the datepicker.\n     */\n    toggle() {\n        if (this.isOpen) {\n            return this.hide();\n        }\n        this.show();\n    }\n    /**\n     * Set config for datepicker\n     */\n    setConfig() {\n        this._config = Object.assign({}, this._config, this.bsConfig, {\n            value: checkBsValue(this._bsValue, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            isDisabled: this.isDisabled,\n            minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n            maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n            daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\n            dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\n            dateTooltipTexts: this.dateTooltipTexts || this.bsConfig && this.bsConfig.dateTooltipTexts,\n            datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\n            datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\n            minMode: this.minMode || this.bsConfig && this.bsConfig.minMode,\n            initCurrentTime: this.bsConfig?.initCurrentTime,\n            keepDatepickerOpened: this.bsConfig?.keepDatepickerOpened\n        });\n    }\n    unsubscribeSubscriptions() {\n        if (this._subs?.length) {\n            this._subs.map(sub => sub.unsubscribe());\n            this._subs.length = 0;\n        }\n    }\n    ngOnDestroy() {\n        this._datepicker.dispose();\n        this.isOpen$.next(false);\n        if (this.isDestroy$) {\n            this.isDestroy$.next(null);\n            this.isDestroy$.complete();\n        }\n        this.unsubscribeSubscriptions();\n    }\n}\nBsDatepickerDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerDirective, deps: [{ token: BsDatepickerConfig }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { token: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDatepickerDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerDirective, selector: \"[bsDatepicker]\", inputs: { placement: \"placement\", triggers: \"triggers\", outsideClick: \"outsideClick\", container: \"container\", outsideEsc: \"outsideEsc\", isDisabled: \"isDisabled\", minDate: \"minDate\", maxDate: \"maxDate\", minMode: \"minMode\", daysDisabled: \"daysDisabled\", datesDisabled: \"datesDisabled\", datesEnabled: \"datesEnabled\", dateCustomClasses: \"dateCustomClasses\", dateTooltipTexts: \"dateTooltipTexts\", isOpen: \"isOpen\", bsValue: \"bsValue\", bsConfig: \"bsConfig\" }, outputs: { onShown: \"onShown\", onHidden: \"onHidden\", bsValueChange: \"bsValueChange\" }, host: { properties: { \"attr.readonly\": \"this.readonlyValue\" } }, exportAs: [\"bsDatepicker\"], usesOnChanges: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: '[bsDatepicker]',\n                    exportAs: 'bsDatepicker'\n                }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerConfig }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { type: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }]; }, propDecorators: { placement: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], triggers: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], outsideClick: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], container: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], outsideEsc: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onShown: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHidden: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], minDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], maxDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], minMode: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], daysDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesEnabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateCustomClasses: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateTooltipTexts: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsValueChange: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], readonlyValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }], isOpen: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsConfig: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }] } });\n\nclass BsDatepickerInlineConfig extends BsDatepickerConfig {\n}\nBsDatepickerInlineConfig.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineConfig, deps: null, target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDatepickerInlineConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineConfig, providedIn: 'root' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineConfig, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass BsDatepickerInlineContainerComponent extends BsDatepickerContainerComponent {\n    constructor(_renderer, _config, _store, _element, _actions, _effects, _positioningService) {\n        super(_renderer, _config, _store, _element, _actions, _effects, _positioningService);\n        _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');\n        _renderer.setStyle(_element.nativeElement, 'position', 'static');\n    }\n    get disabledValue() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    get readonlyValue() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n}\nBsDatepickerInlineContainerComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineContainerComponent, deps: [{ token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: BsDatepickerConfig }, { token: BsDatepickerStore }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: BsDatepickerActions }, { token: BsDatepickerEffects }, { token: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDatepickerInlineContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerInlineContainerComponent, selector: \"bs-datepicker-inline-container\", host: { listeners: { \"click\": \"_stopPropagation($event)\" }, properties: { \"attr.disabled\": \"this.disabledValue\", \"attr.readonly\": \"this.readonlyValue\" } }, providers: [BsDatepickerStore, BsDatepickerEffects], usesInheritance: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerComponent, selector: \"timepicker\", inputs: [\"hourStep\", \"minuteStep\", \"secondsStep\", \"readonlyInput\", \"disabled\", \"mousewheel\", \"arrowkeys\", \"showSpinners\", \"showMeridian\", \"showMinutes\", \"showSeconds\", \"meridians\", \"min\", \"max\", \"hoursPlaceholder\", \"minutesPlaceholder\", \"secondsPlaceholder\"], outputs: [\"isValid\", \"meridianChange\"] }, { kind: \"component\", type: BsCustomDatesViewComponent, selector: \"bs-custom-date-view\", inputs: [\"ranges\", \"selectedRange\", \"customRangeLabel\"], outputs: [\"onSelect\"] }, { kind: \"component\", type: BsDaysCalendarViewComponent, selector: \"bs-days-calendar-view\", inputs: [\"calendar\", \"options\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\", \"onHoverWeek\"] }, { kind: \"component\", type: BsMonthCalendarViewComponent, selector: \"bs-month-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"component\", type: BsYearsCalendarViewComponent, selector: \"bs-years-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"pipe\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, name: \"async\" }], animations: [datepickerAnimation] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineContainerComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{ selector: 'bs-datepicker-inline-container', providers: [BsDatepickerStore, BsDatepickerEffects], host: {\n                        '(click)': '_stopPropagation($event)'\n                    }, animations: [datepickerAnimation], template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }]; }, propDecorators: { disabledValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.disabled']\n            }], readonlyValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }] } });\n\nclass BsDatepickerInlineDirective {\n    constructor(_config, _elementRef, _renderer, _viewContainerRef, cis) {\n        this._config = _config;\n        this._elementRef = _elementRef;\n        /**\n         * Indicates whether datepicker is enabled or not\n         */\n        this.isDisabled = false;\n        /**\n         * Emits when datepicker value has been changed\n         */\n        this.bsValueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this._subs = [];\n        // todo: assign only subset of fields\n        Object.assign(this, this._config);\n        this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);\n    }\n    /**\n     * Initial value of datepicker\n     */\n    set bsValue(value) {\n        if (this._bsValue === value) {\n            return;\n        }\n        if (!this._bsValue && value && !this._config.withTimepicker) {\n            const now = new Date();\n            copyTime(value, now);\n        }\n        if (value && this.bsConfig?.initCurrentTime) {\n            value = setCurrentTimeOnDateSelect(value);\n        }\n        this._bsValue = value;\n        this.bsValueChange.emit(value);\n    }\n    ngOnInit() {\n        this.setConfig();\n        this.initSubscribes();\n    }\n    initSubscribes() {\n        this.unsubscribeSubscriptions();\n        this._subs.push(this.bsValueChange.subscribe((value) => {\n            if (this._datepickerRef) {\n                this._datepickerRef.instance.value = value;\n            }\n        }));\n        if (this._datepickerRef) {\n            this._subs.push(this._datepickerRef.instance.valueChange.subscribe((value) => {\n                this.bsValue = value;\n            }));\n        }\n    }\n    unsubscribeSubscriptions() {\n        if (this._subs?.length) {\n            this._subs.map(sub => sub.unsubscribe());\n            this._subs.length = 0;\n        }\n    }\n    ngOnChanges(changes) {\n        if (changes[\"bsConfig\"]) {\n            if (changes[\"bsConfig\"].currentValue?.initCurrentTime && changes[\"bsConfig\"].currentValue?.initCurrentTime !== changes[\"bsConfig\"].previousValue?.initCurrentTime && this._bsValue) {\n                this._bsValue = setCurrentTimeOnDateSelect(this._bsValue);\n                this.bsValueChange.emit(this._bsValue);\n            }\n        }\n        if (!this._datepickerRef || !this._datepickerRef.instance) {\n            return;\n        }\n        if (changes[\"minDate\"]) {\n            this._datepickerRef.instance.minDate = this.minDate;\n        }\n        if (changes[\"maxDate\"]) {\n            this._datepickerRef.instance.maxDate = this.maxDate;\n        }\n        if (changes[\"datesDisabled\"]) {\n            this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n        }\n        if (changes[\"datesEnabled\"]) {\n            this._datepickerRef.instance.datesEnabled = this.datesEnabled;\n            this._datepickerRef.instance.value = this._bsValue;\n        }\n        if (changes[\"isDisabled\"]) {\n            this._datepickerRef.instance.isDisabled = this.isDisabled;\n        }\n        if (changes[\"dateCustomClasses\"]) {\n            this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\n        }\n        if (changes[\"dateTooltipTexts\"]) {\n            this._datepickerRef.instance.dateTooltipTexts = this.dateTooltipTexts;\n        }\n        this.setConfig();\n    }\n    /**\n     * Set config for datepicker\n     */\n    setConfig() {\n        if (this._datepicker) {\n            this._datepicker.hide();\n        }\n        this._config = Object.assign({}, this._config, this.bsConfig, {\n            value: checkBsValue(this._bsValue, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            isDisabled: this.isDisabled,\n            minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n            maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n            dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\n            dateTooltipTexts: this.dateTooltipTexts || this.bsConfig && this.bsConfig.dateTooltipTexts,\n            datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\n            datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\n            initCurrentTime: this.bsConfig?.initCurrentTime\n        });\n        this._datepickerRef = this._datepicker\n            .provide({ provide: BsDatepickerConfig, useValue: this._config })\n            .attach(BsDatepickerInlineContainerComponent)\n            .to(this._elementRef)\n            .show();\n        this.initSubscribes();\n    }\n    ngOnDestroy() {\n        this._datepicker.dispose();\n        this.unsubscribeSubscriptions();\n    }\n}\nBsDatepickerInlineDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineDirective, deps: [{ token: BsDatepickerInlineConfig }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { token: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDatepickerInlineDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerInlineDirective, selector: \"bs-datepicker-inline\", inputs: { bsConfig: \"bsConfig\", isDisabled: \"isDisabled\", minDate: \"minDate\", maxDate: \"maxDate\", dateCustomClasses: \"dateCustomClasses\", dateTooltipTexts: \"dateTooltipTexts\", datesEnabled: \"datesEnabled\", datesDisabled: \"datesDisabled\", bsValue: \"bsValue\" }, outputs: { bsValueChange: \"bsValueChange\" }, exportAs: [\"bsDatepickerInline\"], usesOnChanges: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInlineDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: 'bs-datepicker-inline',\n                    exportAs: 'bsDatepickerInline'\n                }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerInlineConfig }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { type: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }]; }, propDecorators: { bsConfig: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], minDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], maxDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateCustomClasses: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateTooltipTexts: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesEnabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsValueChange: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], bsValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }] } });\n\nclass BsDaterangepickerInlineConfig extends BsDatepickerConfig {\n    constructor() {\n        super(...arguments);\n        // DatepickerRenderOptions\n        this.displayMonths = 2;\n        /** turn on/off animation */\n        this.isAnimated = false;\n    }\n}\nBsDaterangepickerInlineConfig.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineConfig, deps: null, target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDaterangepickerInlineConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineConfig, providedIn: 'root' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineConfig, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass BsDaterangepickerContainerComponent extends BsDatepickerAbstractComponent {\n    constructor(_renderer, _config, _store, _element, _actions, _effects, _positionService) {\n        super();\n        this._config = _config;\n        this._store = _store;\n        this._element = _element;\n        this._actions = _actions;\n        this._positionService = _positionService;\n        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this.animationState = 'void';\n        this._rangeStack = [];\n        this.chosenRange = [];\n        this._subs = [];\n        this.isRangePicker = true;\n        this._effects = _effects;\n        this.customRanges = this._config.ranges || [];\n        this.customRangeBtnLbl = this._config.customRangeButtonLabel;\n        _renderer.setStyle(_element.nativeElement, 'display', 'block');\n        _renderer.setStyle(_element.nativeElement, 'position', 'absolute');\n    }\n    set value(value) {\n        this._effects?.setRangeValue(value);\n    }\n    get isDatePickerDisabled() {\n        return !!this._config.isDisabled;\n    }\n    get isDatepickerDisabled() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    get isDatepickerReadonly() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    ngOnInit() {\n        this._positionService.setOptions({\n            modifiers: {\n                flip: {\n                    enabled: this._config.adaptivePosition\n                },\n                preventOverflow: {\n                    enabled: this._config.adaptivePosition\n                }\n            },\n            allowedPositions: this._config.allowedPositions\n        });\n        this._positionService.event$?.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.take)(1))\n            .subscribe(() => {\n            this._positionService.disable();\n            if (this._config.isAnimated) {\n                this.animationState = this.isTopPosition ? 'animated-up' : 'animated-down';\n                return;\n            }\n            this.animationState = 'unanimated';\n        });\n        this.containerClass = this._config.containerClass;\n        this.isOtherMonthsActive = this._config.selectFromOtherMonth;\n        this.withTimepicker = this._config.withTimepicker;\n        this._effects?.init(this._store)\n            // intial state options\n            // todo: fix this, split configs\n            .setOptions(this._config)\n            // data binding view --> model\n            .setBindings(this)\n            // set event handlers\n            .setEventHandlers(this)\n            .registerDatepickerSideEffects();\n        let currentDate;\n        // todo: move it somewhere else\n        // on selected date change\n        this._subs.push(this._store\n            .select(state => state.selectedRange)\n            .subscribe(dateRange => {\n            currentDate = dateRange;\n            this.valueChange.emit(dateRange);\n            this.chosenRange = dateRange || [];\n        }));\n        this._subs.push(this._store\n            .select(state => state.selectedTime)\n            .subscribe((time) => {\n            if ((!time[0] || !time[1]) ||\n                (!(time[0] instanceof Date) || !(time[1] instanceof Date)) ||\n                (currentDate && (time[0] === currentDate[0] && time[1] === currentDate[1]))) {\n                return;\n            }\n            this.valueChange.emit(time);\n            this.chosenRange = time || [];\n        }));\n    }\n    ngAfterViewInit() {\n        this.selectedTimeSub.add(this.selectedTime?.subscribe((val) => {\n            if (Array.isArray(val) && val.length >= 2) {\n                this.startTimepicker?.writeValue(val[0]);\n                this.endTimepicker?.writeValue(val[1]);\n            }\n        }));\n        this.startTimepicker?.registerOnChange((val) => {\n            this.timeSelectHandler(val, 0);\n        });\n        this.endTimepicker?.registerOnChange((val) => {\n            this.timeSelectHandler(val, 1);\n        });\n    }\n    get isTopPosition() {\n        return this._element.nativeElement.classList.contains('top');\n    }\n    positionServiceEnable() {\n        this._positionService.enable();\n    }\n    timeSelectHandler(date, index) {\n        this._store.dispatch(this._actions.selectTime(date, index));\n    }\n    daySelectHandler(day) {\n        if (!day) {\n            return;\n        }\n        const isDisabled = this.isOtherMonthsActive ? day.isDisabled : (day.isOtherMonth || day.isDisabled);\n        if (isDisabled) {\n            return;\n        }\n        this.rangesProcessing(day);\n    }\n    monthSelectHandler(day) {\n        if (!day || day.isDisabled) {\n            return;\n        }\n        day.isSelected = true;\n        if (this._config.minMode !== 'month') {\n            if (day.isDisabled) {\n                return;\n            }\n            this._store.dispatch(this._actions.navigateTo({\n                unit: {\n                    month: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getMonth)(day.date),\n                    year: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getFullYear)(day.date)\n                },\n                viewMode: 'day'\n            }));\n            return;\n        }\n        this.rangesProcessing(day);\n    }\n    yearSelectHandler(day) {\n        if (!day || day.isDisabled) {\n            return;\n        }\n        day.isSelected = true;\n        if (this._config.minMode !== 'year') {\n            if (day.isDisabled) {\n                return;\n            }\n            this._store.dispatch(this._actions.navigateTo({\n                unit: {\n                    year: (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getFullYear)(day.date)\n                },\n                viewMode: 'month'\n            }));\n            return;\n        }\n        this.rangesProcessing(day);\n    }\n    rangesProcessing(day) {\n        // if only one date is already selected\n        // and user clicks on previous date\n        // start selection from new date\n        // but if new date is after initial one\n        // than finish selection\n        if (this._rangeStack.length === 1) {\n            this._rangeStack =\n                day.date >= this._rangeStack[0]\n                    ? [this._rangeStack[0], day.date]\n                    : [day.date];\n        }\n        if (this._config.maxDateRange) {\n            this.setMaxDateRangeOnCalendar(day.date);\n        }\n        if (this._rangeStack.length === 0) {\n            this._rangeStack = [day.date];\n            if (this._config.maxDateRange) {\n                this.setMaxDateRangeOnCalendar(day.date);\n            }\n        }\n        this._store.dispatch(this._actions.selectRange(this._rangeStack));\n        if (this._rangeStack.length === 2) {\n            this._rangeStack = [];\n        }\n    }\n    ngOnDestroy() {\n        for (const sub of this._subs) {\n            sub.unsubscribe();\n        }\n        this.selectedTimeSub.unsubscribe();\n        this._effects?.destroy();\n    }\n    setRangeOnCalendar(dates) {\n        if (dates) {\n            this._rangeStack = dates.value instanceof Date ? [dates.value] : dates.value;\n        }\n        this._store.dispatch(this._actions.selectRange(this._rangeStack));\n    }\n    setMaxDateRangeOnCalendar(currentSelection) {\n        let maxDateRange = new Date(currentSelection);\n        if (this._config.maxDate) {\n            const maxDateValueInMilliseconds = this._config.maxDate.getTime();\n            const maxDateRangeInMilliseconds = currentSelection.getTime() + ((this._config.maxDateRange || 0) * dayInMilliseconds);\n            maxDateRange = maxDateRangeInMilliseconds > maxDateValueInMilliseconds ?\n                new Date(this._config.maxDate) :\n                new Date(maxDateRangeInMilliseconds);\n        }\n        else {\n            maxDateRange.setDate(currentSelection.getDate() + (this._config.maxDateRange || 0));\n        }\n        this._effects?.setMaxDate(maxDateRange);\n    }\n}\nBsDaterangepickerContainerComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerContainerComponent, deps: [{ token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: BsDatepickerConfig }, { token: BsDatepickerStore }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: BsDatepickerActions }, { token: BsDatepickerEffects }, { token: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDaterangepickerContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaterangepickerContainerComponent, selector: \"bs-daterangepicker-container\", host: { attributes: { \"role\": \"dialog\", \"aria-label\": \"calendar\" }, listeners: { \"click\": \"_stopPropagation($event)\" }, properties: { \"attr.disabled\": \"this.isDatepickerDisabled\", \"attr.readonly\": \"this.isDatepickerReadonly\" }, classAttribute: \"bottom\" }, providers: [BsDatepickerStore, BsDatepickerEffects], viewQueries: [{ propertyName: \"startTimepicker\", first: true, predicate: [\"startTP\"], descendants: true }, { propertyName: \"endTimepicker\", first: true, predicate: [\"endTP\"], descendants: true }], usesInheritance: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerComponent, selector: \"timepicker\", inputs: [\"hourStep\", \"minuteStep\", \"secondsStep\", \"readonlyInput\", \"disabled\", \"mousewheel\", \"arrowkeys\", \"showSpinners\", \"showMeridian\", \"showMinutes\", \"showSeconds\", \"meridians\", \"min\", \"max\", \"hoursPlaceholder\", \"minutesPlaceholder\", \"secondsPlaceholder\"], outputs: [\"isValid\", \"meridianChange\"] }, { kind: \"component\", type: BsCustomDatesViewComponent, selector: \"bs-custom-date-view\", inputs: [\"ranges\", \"selectedRange\", \"customRangeLabel\"], outputs: [\"onSelect\"] }, { kind: \"component\", type: BsDaysCalendarViewComponent, selector: \"bs-days-calendar-view\", inputs: [\"calendar\", \"options\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\", \"onHoverWeek\"] }, { kind: \"component\", type: BsMonthCalendarViewComponent, selector: \"bs-month-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"component\", type: BsYearsCalendarViewComponent, selector: \"bs-years-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"pipe\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, name: \"async\" }], animations: [datepickerAnimation] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerContainerComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{ selector: 'bs-daterangepicker-container', providers: [BsDatepickerStore, BsDatepickerEffects], host: {\n                        class: 'bottom',\n                        '(click)': '_stopPropagation($event)',\n                        role: 'dialog',\n                        'aria-label': 'calendar'\n                    }, animations: [datepickerAnimation], template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }]; }, propDecorators: { startTimepicker: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,\n                args: ['startTP']\n            }], endTimepicker: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewChild,\n                args: ['endTP']\n            }], isDatepickerDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.disabled']\n            }], isDatepickerReadonly: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }] } });\n\nclass BsDaterangepickerInlineContainerComponent extends BsDaterangepickerContainerComponent {\n    constructor(_renderer, _config, _store, _element, _actions, _effects, _positioningService) {\n        super(_renderer, _config, _store, _element, _actions, _effects, _positioningService);\n        _renderer.setStyle(_element.nativeElement, 'display', 'inline-block');\n        _renderer.setStyle(_element.nativeElement, 'position', 'static');\n    }\n    get disabledValue() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n    get readonlyValue() {\n        return this.isDatePickerDisabled ? '' : null;\n    }\n}\nBsDaterangepickerInlineContainerComponent.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineContainerComponent, deps: [{ token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: BsDatepickerConfig }, { token: BsDatepickerStore }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: BsDatepickerActions }, { token: BsDatepickerEffects }, { token: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Component });\nBsDaterangepickerInlineContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareComponent\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaterangepickerInlineContainerComponent, selector: \"bs-daterangepicker-inline-container\", host: { listeners: { \"click\": \"_stopPropagation($event)\" }, properties: { \"attr.disabled\": \"this.disabledValue\", \"attr.readonly\": \"this.readonlyValue\" } }, providers: [BsDatepickerStore, BsDatepickerEffects], usesInheritance: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\", dependencies: [{ kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitch, selector: \"[ngSwitch]\", inputs: [\"ngSwitch\"] }, { kind: \"directive\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgSwitchCase, selector: \"[ngSwitchCase]\", inputs: [\"ngSwitchCase\"] }, { kind: \"component\", type: ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerComponent, selector: \"timepicker\", inputs: [\"hourStep\", \"minuteStep\", \"secondsStep\", \"readonlyInput\", \"disabled\", \"mousewheel\", \"arrowkeys\", \"showSpinners\", \"showMeridian\", \"showMinutes\", \"showSeconds\", \"meridians\", \"min\", \"max\", \"hoursPlaceholder\", \"minutesPlaceholder\", \"secondsPlaceholder\"], outputs: [\"isValid\", \"meridianChange\"] }, { kind: \"component\", type: BsCustomDatesViewComponent, selector: \"bs-custom-date-view\", inputs: [\"ranges\", \"selectedRange\", \"customRangeLabel\"], outputs: [\"onSelect\"] }, { kind: \"component\", type: BsDaysCalendarViewComponent, selector: \"bs-days-calendar-view\", inputs: [\"calendar\", \"options\", \"isDisabled\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\", \"onHoverWeek\"] }, { kind: \"component\", type: BsMonthCalendarViewComponent, selector: \"bs-month-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"component\", type: BsYearsCalendarViewComponent, selector: \"bs-years-calendar-view\", inputs: [\"calendar\"], outputs: [\"onNavigate\", \"onViewMode\", \"onSelect\", \"onHover\"] }, { kind: \"pipe\", type: _angular_common__WEBPACK_IMPORTED_MODULE_8__.AsyncPipe, name: \"async\" }], animations: [datepickerAnimation] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineContainerComponent, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Component,\n            args: [{ selector: 'bs-daterangepicker-inline-container', providers: [BsDatepickerStore, BsDatepickerEffects], host: {\n                        '(click)': '_stopPropagation($event)'\n                    }, animations: [datepickerAnimation], template: \"<!-- days calendar view mode -->\\n<div class=\\\"bs-datepicker\\\" [ngClass]=\\\"containerClass\\\" *ngIf=\\\"viewMode | async\\\">\\n  <div class=\\\"bs-datepicker-container\\\"\\n    [@datepickerAnimation]=\\\"animationState\\\"\\n    (@datepickerAnimation.done)=\\\"positionServiceEnable()\\\">\\n    <!--calendars-->\\n    <div class=\\\"bs-calendar-container\\\" [ngSwitch]=\\\"viewMode | async\\\" role=\\\"application\\\">\\n      <!--days calendar-->\\n      <ng-container *ngSwitchCase=\\\"'day'\\\">\\n        <div class=\\\"bs-media-container\\\">\\n          <bs-days-calendar-view\\n            *ngFor=\\\"let calendar of daysCalendar$ | async\\\"\\n            [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n            [calendar]=\\\"calendar\\\"\\n            [isDisabled]=\\\"isDatePickerDisabled\\\"\\n            [options]=\\\"options$ | async\\\"\\n            (onNavigate)=\\\"navigateTo($event)\\\"\\n            (onViewMode)=\\\"setViewMode($event)\\\"\\n            (onHover)=\\\"dayHoverHandler($event)\\\"\\n            (onHoverWeek)=\\\"weekHoverHandler($event)\\\"\\n            (onSelect)=\\\"daySelectHandler($event)\\\">\\n          </bs-days-calendar-view>\\n        </div>\\n        <div *ngIf=\\\"withTimepicker\\\" class=\\\"bs-timepicker-in-datepicker-container\\\">\\n          <timepicker #startTP [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n          <timepicker #endTP *ngIf=\\\"isRangePicker\\\" [disabled]=\\\"isDatePickerDisabled\\\"></timepicker>\\n        </div>\\n      </ng-container>\\n\\n      <!--months calendar-->\\n      <div *ngSwitchCase=\\\"'month'\\\" class=\\\"bs-media-container\\\">\\n        <bs-month-calendar-view\\n          *ngFor=\\\"let calendar of monthsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"monthHoverHandler($event)\\\"\\n          (onSelect)=\\\"monthSelectHandler($event)\\\">\\n        </bs-month-calendar-view>\\n      </div>\\n\\n      <!--years calendar-->\\n      <div *ngSwitchCase=\\\"'year'\\\" class=\\\"bs-media-container\\\">\\n        <bs-years-calendar-view\\n          *ngFor=\\\"let calendar of yearsCalendar | async\\\"\\n          [class.bs-datepicker-multiple]=\\\"multipleCalendars\\\"\\n          [calendar]=\\\"calendar\\\"\\n          (onNavigate)=\\\"navigateTo($event)\\\"\\n          (onViewMode)=\\\"setViewMode($event)\\\"\\n          (onHover)=\\\"yearHoverHandler($event)\\\"\\n          (onSelect)=\\\"yearSelectHandler($event)\\\">\\n        </bs-years-calendar-view>\\n      </div>\\n    </div>\\n\\n    <!--applycancel buttons-->\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"false\\\">\\n      <button class=\\\"btn btn-success\\\" type=\\\"button\\\">Apply</button>\\n      <button class=\\\"btn btn-default\\\" type=\\\"button\\\">Cancel</button>\\n    </div>\\n\\n    <div class=\\\"bs-datepicker-buttons\\\" *ngIf=\\\"showTodayBtn || showClearBtn\\\">\\n      <div class=\\\"btn-today-wrapper\\\"\\n           [class.today-left]=\\\"todayPos === 'left'\\\"\\n           [class.today-right]=\\\"todayPos === 'right'\\\"\\n           [class.today-center]=\\\"todayPos === 'center'\\\"\\n           *ngIf=\\\"showTodayBtn\\\">\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"setToday()\\\">{{todayBtnLbl}}</button>\\n      </div>\\n\\n        <div class=\\\"btn-clear-wrapper\\\"\\n        [class.clear-left]=\\\"clearPos === 'left'\\\"\\n        [class.clear-right]=\\\"clearPos === 'right'\\\"\\n        [class.clear-center]=\\\"clearPos === 'center'\\\"\\n        *ngIf=\\\"showClearBtn\\\">\\n          <button class=\\\"btn btn-success\\\" (click)=\\\"clearDate()\\\">{{clearBtnLbl}}</button>\\n        </div>\\n    </div>\\n\\n  </div>\\n\\n  <!--custom dates or date ranges picker-->\\n  <div class=\\\"bs-datepicker-custom-range\\\" *ngIf=\\\"customRanges && customRanges.length > 0\\\">\\n    <bs-custom-date-view\\n      [selectedRange]=\\\"chosenRange\\\"\\n      [ranges]=\\\"customRanges\\\"\\n      [customRangeLabel]=\\\"customRangeBtnLbl\\\"\\n      (onSelect)=\\\"setRangeOnCalendar($event)\\\">\\n    </bs-custom-date-view>\\n  </div>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: BsDatepickerConfig }, { type: BsDatepickerStore }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: BsDatepickerActions }, { type: BsDatepickerEffects }, { type: ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService }]; }, propDecorators: { disabledValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.disabled']\n            }], readonlyValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }] } });\n\nclass BsDaterangepickerInlineDirective {\n    constructor(_config, _elementRef, _renderer, _viewContainerRef, cis) {\n        this._config = _config;\n        this._elementRef = _elementRef;\n        /**\n         * Indicates whether datepicker is enabled or not\n         */\n        this.isDisabled = false;\n        /**\n         * Emits when daterangepicker value has been changed\n         */\n        this.bsValueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this._subs = [];\n        // todo: assign only subset of fields\n        Object.assign(this, this._config);\n        this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);\n    }\n    /**\n     * Initial value of datepicker\n     */\n    set bsValue(value) {\n        if (this._bsValue === value) {\n            return;\n        }\n        if (value && this.bsConfig?.initCurrentTime) {\n            value = setDateRangesCurrentTimeOnDateSelect(value);\n        }\n        this._bsValue = value;\n        this.bsValueChange.emit(value);\n    }\n    ngOnInit() {\n        this.setConfig();\n        this.initSubscribes();\n    }\n    ngOnChanges(changes) {\n        if (changes[\"bsConfig\"]) {\n            if (changes[\"bsConfig\"].currentValue.initCurrentTime && changes[\"bsConfig\"].currentValue.initCurrentTime !== changes[\"bsConfig\"].previousValue.initCurrentTime && this._bsValue) {\n                this._bsValue = setDateRangesCurrentTimeOnDateSelect(this._bsValue);\n                this.bsValueChange.emit(this._bsValue);\n            }\n        }\n        if (!this._datepickerRef || !this._datepickerRef.instance) {\n            return;\n        }\n        if (changes[\"minDate\"]) {\n            this._datepickerRef.instance.minDate = this.minDate;\n        }\n        if (changes[\"maxDate\"]) {\n            this._datepickerRef.instance.maxDate = this.maxDate;\n        }\n        if (changes[\"datesEnabled\"]) {\n            this._datepickerRef.instance.datesEnabled = this.datesEnabled;\n            this._datepickerRef.instance.value = this._bsValue;\n        }\n        if (changes[\"datesDisabled\"]) {\n            this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n        }\n        if (changes[\"daysDisabled\"]) {\n            this._datepickerRef.instance.daysDisabled = this.daysDisabled;\n        }\n        if (changes[\"isDisabled\"]) {\n            this._datepickerRef.instance.isDisabled = this.isDisabled;\n        }\n        if (changes[\"dateCustomClasses\"]) {\n            this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\n        }\n        this.setConfig();\n    }\n    /**\n     * Set config for datepicker\n     */\n    setConfig() {\n        if (this._datepicker) {\n            this._datepicker.hide();\n        }\n        this._config = Object.assign({}, this._config, this.bsConfig, {\n            value: checkBsValue(this._bsValue, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            isDisabled: this.isDisabled,\n            minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n            maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n            daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\n            dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\n            datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\n            datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\n            ranges: checkRangesWithMaxDate(this.bsConfig && this.bsConfig.ranges, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            maxDateRange: this.bsConfig && this.bsConfig.maxDateRange,\n            initCurrentTime: this.bsConfig?.initCurrentTime\n        });\n        this._datepickerRef = this._datepicker\n            .provide({ provide: BsDatepickerConfig, useValue: this._config })\n            .attach(BsDaterangepickerInlineContainerComponent)\n            .to(this._elementRef)\n            .show();\n        this.initSubscribes();\n    }\n    initSubscribes() {\n        this.unsubscribeSubscriptions();\n        // if date changes from external source (model -> view)\n        this._subs.push(this.bsValueChange.subscribe((value) => {\n            if (this._datepickerRef) {\n                this._datepickerRef.instance.value = value;\n            }\n        }));\n        // if date changes from picker (view -> model)\n        if (this._datepickerRef) {\n            this._subs.push(this._datepickerRef.instance.valueChange\n                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)((range) => range && range[0] && !!range[1]))\n                .subscribe((value) => {\n                this.bsValue = value;\n            }));\n        }\n    }\n    unsubscribeSubscriptions() {\n        if (this._subs?.length) {\n            this._subs.map(sub => sub.unsubscribe());\n            this._subs.length = 0;\n        }\n    }\n    ngOnDestroy() {\n        this._datepicker.dispose();\n        this.unsubscribeSubscriptions();\n    }\n}\nBsDaterangepickerInlineDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineDirective, deps: [{ token: BsDaterangepickerInlineConfig }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { token: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDaterangepickerInlineDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaterangepickerInlineDirective, selector: \"bs-daterangepicker-inline\", inputs: { bsValue: \"bsValue\", bsConfig: \"bsConfig\", isDisabled: \"isDisabled\", minDate: \"minDate\", maxDate: \"maxDate\", dateCustomClasses: \"dateCustomClasses\", daysDisabled: \"daysDisabled\", datesDisabled: \"datesDisabled\", datesEnabled: \"datesEnabled\" }, outputs: { bsValueChange: \"bsValueChange\" }, exportAs: [\"bsDaterangepickerInline\"], usesOnChanges: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInlineDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: 'bs-daterangepicker-inline',\n                    exportAs: 'bsDaterangepickerInline'\n                }]\n        }], ctorParameters: function () { return [{ type: BsDaterangepickerInlineConfig }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { type: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }]; }, propDecorators: { bsValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsConfig: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], minDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], maxDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateCustomClasses: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], daysDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesEnabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsValueChange: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }] } });\n\nconst BS_DATEPICKER_VALUE_ACCESSOR = {\n    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NG_VALUE_ACCESSOR,\n    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => BsDatepickerInputDirective),\n    multi: true\n};\nconst BS_DATEPICKER_VALIDATOR = {\n    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NG_VALIDATORS,\n    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => BsDatepickerInputDirective),\n    multi: true\n};\nclass BsDatepickerInputDirective {\n    constructor(_picker, _localeService, _renderer, _elRef, changeDetection) {\n        this._picker = _picker;\n        this._localeService = _localeService;\n        this._renderer = _renderer;\n        this._elRef = _elRef;\n        this.changeDetection = changeDetection;\n        this._onChange = Function.prototype;\n        this._onTouched = Function.prototype;\n        this._validatorChange = Function.prototype;\n        this._subs = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subscription();\n    }\n    ngOnInit() {\n        const setBsValue = (value) => {\n            this._setInputValue(value);\n            if (this._value !== value) {\n                this._value = value;\n                this._onChange(value);\n                this._onTouched();\n            }\n            this.changeDetection.markForCheck();\n        };\n        // if value set via [bsValue] it will not get into value change\n        if (this._picker._bsValue) {\n            setBsValue(this._picker._bsValue);\n        }\n        // update input value on datepicker value update\n        this._subs.add(this._picker.bsValueChange.subscribe(setBsValue));\n        // update input value on locale change\n        this._subs.add(this._localeService.localeChange.subscribe(() => {\n            this._setInputValue(this._value);\n        }));\n        this._subs.add(this._picker.dateInputFormat$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.distinctUntilChanged)()).subscribe(() => {\n            this._setInputValue(this._value);\n        }));\n    }\n    ngOnDestroy() {\n        this._subs.unsubscribe();\n    }\n    onKeydownEvent(event) {\n        if (event.keyCode === 13 || event.code === 'Enter') {\n            this.hide();\n        }\n    }\n    _setInputValue(value) {\n        const initialDate = !value ? ''\n            : (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\n        this._renderer.setProperty(this._elRef.nativeElement, 'value', initialDate);\n    }\n    onChange(event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.writeValue(event.target.value);\n        this._onChange(this._value);\n        if (this._picker._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elRef.nativeElement).focus();\n        }\n        this._onTouched();\n    }\n    validate(c) {\n        const _value = c.value;\n        if (_value === null || _value === undefined || _value === '') {\n            return null;\n        }\n        if ((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDate)(_value)) {\n            const _isDateValid = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDateValid)(_value);\n            if (!_isDateValid) {\n                return { bsDate: { invalid: _value } };\n            }\n            if (this._picker && this._picker.minDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)(_value, this._picker.minDate, 'date')) {\n                this.writeValue(this._picker.minDate);\n                return { bsDate: { minDate: this._picker.minDate } };\n            }\n            if (this._picker && this._picker.maxDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)(_value, this._picker.maxDate, 'date')) {\n                this.writeValue(this._picker.maxDate);\n                return { bsDate: { maxDate: this._picker.maxDate } };\n            }\n        }\n        return null;\n    }\n    registerOnValidatorChange(fn) {\n        this._validatorChange = fn;\n    }\n    writeValue(value) {\n        if (!value) {\n            this._value = void 0;\n        }\n        else {\n            const _localeKey = this._localeService.currentLocale;\n            const _locale = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getLocale)(_localeKey);\n            if (!_locale) {\n                throw new Error(`Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`);\n            }\n            this._value = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.parseDate)(value, this._picker._config.dateInputFormat, this._localeService.currentLocale);\n            if (this._picker._config.useUtc) {\n                this._value = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.utcAsLocal)(this._value);\n            }\n        }\n        this._picker.bsValue = this._value;\n    }\n    setDisabledState(isDisabled) {\n        this._picker.isDisabled = isDisabled;\n        if (isDisabled) {\n            this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\n            return;\n        }\n        this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\n    }\n    registerOnChange(fn) {\n        this._onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    onBlur() {\n        this._onTouched();\n    }\n    hide() {\n        this._picker.hide();\n        this._renderer.selectRootElement(this._elRef.nativeElement).blur();\n        if (this._picker._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elRef.nativeElement).focus();\n        }\n    }\n}\nBsDatepickerInputDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInputDirective, deps: [{ token: BsDatepickerDirective, host: true }, { token: BsLocaleService }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDatepickerInputDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDatepickerInputDirective, selector: \"input[bsDatepicker]\", host: { listeners: { \"change\": \"onChange($event)\", \"keyup.esc\": \"hide()\", \"keydown\": \"onKeydownEvent($event)\", \"blur\": \"onBlur()\" } }, providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR], ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerInputDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: `input[bsDatepicker]`,\n                    // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n                    host: {\n                        '(change)': 'onChange($event)',\n                        '(keyup.esc)': 'hide()',\n                        '(keydown)': 'onKeydownEvent($event)',\n                        '(blur)': 'onBlur()'\n                    },\n                    providers: [BS_DATEPICKER_VALUE_ACCESSOR, BS_DATEPICKER_VALIDATOR]\n                }]\n        }], ctorParameters: function () { return [{ type: BsDatepickerDirective, decorators: [{\n                    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Host\n                }] }, { type: BsLocaleService }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef }]; } });\n\nclass BsDaterangepickerConfig extends BsDatepickerConfig {\n    constructor() {\n        super(...arguments);\n        // DatepickerRenderOptions\n        this.displayMonths = 2;\n    }\n}\nBsDaterangepickerConfig.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerConfig, deps: null, target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Injectable });\nBsDaterangepickerConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjectable\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerConfig, providedIn: 'root' });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerConfig, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nlet previousDate;\nclass BsDaterangepickerDirective {\n    constructor(_config, _elementRef, _renderer, _viewContainerRef, cis) {\n        this._config = _config;\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        /**\n         * Placement of a daterangepicker. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n         */\n        this.placement = 'bottom';\n        /**\n         * Specifies events that should trigger. Supports a space separated list of\n         * event names.\n         */\n        this.triggers = 'click';\n        /**\n         * Close daterangepicker on outside click\n         */\n        this.outsideClick = true;\n        /**\n         * A selector specifying the element the daterangepicker should be appended to.\n         */\n        this.container = 'body';\n        this.outsideEsc = true;\n        this.isDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        /**\n         * Indicates whether daterangepicker's content is enabled or not\n         */\n        this.isDisabled = false;\n        /**\n         * Emits when daterangepicker value has been changed\n         */\n        this.bsValueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();\n        this._subs = [];\n        this._rangeInputFormat$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        this._datepicker = cis.createLoader(_elementRef, _viewContainerRef, _renderer);\n        Object.assign(this, _config);\n        this.onShown = this._datepicker.onShown;\n        this.onHidden = this._datepicker.onHidden;\n        this.isOpen$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.BehaviorSubject(this.isOpen);\n    }\n    /**\n     * Returns whether or not the daterangepicker is currently being shown\n     */\n    get isOpen() {\n        return this._datepicker.isShown;\n    }\n    set isOpen(value) {\n        this.isOpen$.next(value);\n    }\n    /**\n     * Initial value of daterangepicker\n     */\n    set bsValue(value) {\n        if (this._bsValue === value) {\n            return;\n        }\n        if (value && this.bsConfig?.initCurrentTime) {\n            value = setDateRangesCurrentTimeOnDateSelect(value);\n        }\n        this.initPreviousValue();\n        this._bsValue = value;\n        this.bsValueChange.emit(value);\n    }\n    get isDatepickerReadonly() {\n        return this.isDisabled ? '' : null;\n    }\n    get rangeInputFormat$() {\n        return this._rangeInputFormat$;\n    }\n    ngOnInit() {\n        this.isDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subject();\n        this._datepicker.listen({\n            outsideClick: this.outsideClick,\n            outsideEsc: this.outsideEsc,\n            triggers: this.triggers,\n            show: () => this.show()\n        });\n        this.initPreviousValue();\n        this.setConfig();\n    }\n    ngOnChanges(changes) {\n        if (changes[\"bsConfig\"]) {\n            if (changes[\"bsConfig\"].currentValue?.initCurrentTime && changes[\"bsConfig\"].currentValue?.initCurrentTime !== changes[\"bsConfig\"].previousValue?.initCurrentTime && this._bsValue) {\n                this.initPreviousValue();\n                this._bsValue = setDateRangesCurrentTimeOnDateSelect(this._bsValue);\n                this.bsValueChange.emit(this._bsValue);\n            }\n            this.setConfig();\n            this._rangeInputFormat$.next(changes[\"bsConfig\"].currentValue && changes[\"bsConfig\"].currentValue.rangeInputFormat);\n        }\n        if (!this._datepickerRef || !this._datepickerRef.instance) {\n            return;\n        }\n        if (changes[\"minDate\"]) {\n            this._datepickerRef.instance.minDate = this.minDate;\n        }\n        if (changes[\"maxDate\"]) {\n            this._datepickerRef.instance.maxDate = this.maxDate;\n        }\n        if (changes[\"datesDisabled\"]) {\n            this._datepickerRef.instance.datesDisabled = this.datesDisabled;\n        }\n        if (changes[\"datesEnabled\"]) {\n            this._datepickerRef.instance.datesEnabled = this.datesEnabled;\n        }\n        if (changes[\"daysDisabled\"]) {\n            this._datepickerRef.instance.daysDisabled = this.daysDisabled;\n        }\n        if (changes[\"isDisabled\"]) {\n            this._datepickerRef.instance.isDisabled = this.isDisabled;\n        }\n        if (changes[\"dateCustomClasses\"]) {\n            this._datepickerRef.instance.dateCustomClasses = this.dateCustomClasses;\n        }\n    }\n    ngAfterViewInit() {\n        this.isOpen$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)(isOpen => isOpen !== this.isOpen), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.takeUntil)(this.isDestroy$))\n            .subscribe(() => this.toggle());\n    }\n    /**\n     * Opens an element’s datepicker. This is considered a “manual” triggering of\n     * the datepicker.\n     */\n    show() {\n        if (this._datepicker.isShown) {\n            return;\n        }\n        this.setConfig();\n        this._datepickerRef = this._datepicker\n            .provide({ provide: BsDatepickerConfig, useValue: this._config })\n            .attach(BsDaterangepickerContainerComponent)\n            .to(this.container)\n            .position({ attachment: this.placement })\n            .show({ placement: this.placement });\n        this.initSubscribes();\n    }\n    initSubscribes() {\n        // if date changes from external source (model -> view)\n        this._subs.push(this.bsValueChange.subscribe((value) => {\n            if (this._datepickerRef) {\n                this._datepickerRef.instance.value = value;\n            }\n        }));\n        // if date changes from picker (view -> model)\n        if (this._datepickerRef) {\n            this._subs.push(this._datepickerRef.instance.valueChange\n                .pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.filter)((range) => range && range[0] && !!range[1]))\n                .subscribe((value) => {\n                this.initPreviousValue();\n                this.bsValue = value;\n                if (this.keepDatepickerModalOpened()) {\n                    return;\n                }\n                this.hide();\n            }));\n        }\n    }\n    initPreviousValue() {\n        previousDate = this._bsValue;\n    }\n    keepDatepickerModalOpened() {\n        if (!previousDate || !this.bsConfig?.keepDatepickerOpened || !this._config.withTimepicker) {\n            return false;\n        }\n        return this.isDateSame();\n    }\n    isDateSame() {\n        return ((this._bsValue?.[0]?.getDate() === previousDate?.[0]?.getDate())\n            && (this._bsValue?.[0]?.getMonth() === previousDate?.[0]?.getMonth())\n            && (this._bsValue?.[0]?.getFullYear() === previousDate?.[0]?.getFullYear())\n            && (this._bsValue?.[1]?.getDate() === previousDate?.[1]?.getDate())\n            && (this._bsValue?.[1]?.getMonth() === previousDate?.[1]?.getMonth())\n            && (this._bsValue?.[1]?.getFullYear() === previousDate?.[1]?.getFullYear()));\n    }\n    /**\n     * Set config for daterangepicker\n     */\n    setConfig() {\n        this._config = Object.assign({}, this._config, this.bsConfig, {\n            value: checkBsValue(this._bsValue, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            isDisabled: this.isDisabled,\n            minDate: this.minDate || this.bsConfig && this.bsConfig.minDate,\n            maxDate: this.maxDate || this.bsConfig && this.bsConfig.maxDate,\n            daysDisabled: this.daysDisabled || this.bsConfig && this.bsConfig.daysDisabled,\n            dateCustomClasses: this.dateCustomClasses || this.bsConfig && this.bsConfig.dateCustomClasses,\n            datesDisabled: this.datesDisabled || this.bsConfig && this.bsConfig.datesDisabled,\n            datesEnabled: this.datesEnabled || this.bsConfig && this.bsConfig.datesEnabled,\n            ranges: checkRangesWithMaxDate(this.bsConfig && this.bsConfig.ranges, this.maxDate || this.bsConfig && this.bsConfig.maxDate),\n            maxDateRange: this.bsConfig && this.bsConfig.maxDateRange,\n            initCurrentTime: this.bsConfig?.initCurrentTime,\n            keepDatepickerOpened: this.bsConfig?.keepDatepickerOpened\n        });\n    }\n    /**\n     * Closes an element’s datepicker. This is considered a “manual” triggering of\n     * the datepicker.\n     */\n    hide() {\n        if (this.isOpen) {\n            this._datepicker.hide();\n        }\n        for (const sub of this._subs) {\n            sub.unsubscribe();\n        }\n        if (this._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elementRef.nativeElement).focus();\n        }\n    }\n    /**\n     * Toggles an element’s datepicker. This is considered a “manual” triggering\n     * of the datepicker.\n     */\n    toggle() {\n        if (this.isOpen) {\n            return this.hide();\n        }\n        this.show();\n    }\n    unsubscribeSubscriptions() {\n        if (this._subs?.length) {\n            this._subs.map(sub => sub.unsubscribe());\n            this._subs.length = 0;\n        }\n    }\n    ngOnDestroy() {\n        this._datepicker.dispose();\n        this.isOpen$.next(false);\n        if (this.isDestroy$) {\n            this.isDestroy$.next(null);\n            this.isDestroy$.complete();\n        }\n        this.unsubscribeSubscriptions();\n    }\n}\nBsDaterangepickerDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerDirective, deps: [{ token: BsDaterangepickerConfig }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { token: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDaterangepickerDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaterangepickerDirective, selector: \"[bsDaterangepicker]\", inputs: { placement: \"placement\", triggers: \"triggers\", outsideClick: \"outsideClick\", container: \"container\", outsideEsc: \"outsideEsc\", isOpen: \"isOpen\", bsValue: \"bsValue\", bsConfig: \"bsConfig\", isDisabled: \"isDisabled\", minDate: \"minDate\", maxDate: \"maxDate\", dateCustomClasses: \"dateCustomClasses\", daysDisabled: \"daysDisabled\", datesDisabled: \"datesDisabled\", datesEnabled: \"datesEnabled\" }, outputs: { onShown: \"onShown\", onHidden: \"onHidden\", bsValueChange: \"bsValueChange\" }, host: { properties: { \"attr.readonly\": \"this.isDatepickerReadonly\" } }, exportAs: [\"bsDaterangepicker\"], usesOnChanges: true, ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: '[bsDaterangepicker]',\n                    exportAs: 'bsDaterangepicker'\n                }]\n        }], ctorParameters: function () { return [{ type: BsDaterangepickerConfig }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ViewContainerRef }, { type: ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory }]; }, propDecorators: { placement: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], triggers: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], outsideClick: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], container: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], outsideEsc: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isOpen: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], onShown: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], onHidden: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], bsValue: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsConfig: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], isDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], minDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], maxDate: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], dateCustomClasses: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], daysDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesDisabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], datesEnabled: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Input\n            }], bsValueChange: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Output\n            }], isDatepickerReadonly: [{\n                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.HostBinding,\n                args: ['attr.readonly']\n            }] } });\n\nconst BS_DATERANGEPICKER_VALUE_ACCESSOR = {\n    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NG_VALUE_ACCESSOR,\n    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => BsDaterangepickerInputDirective),\n    multi: true\n};\nconst BS_DATERANGEPICKER_VALIDATOR = {\n    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_11__.NG_VALIDATORS,\n    useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(() => BsDaterangepickerInputDirective),\n    multi: true\n};\nclass BsDaterangepickerInputDirective {\n    constructor(_picker, _localeService, _renderer, _elRef, changeDetection) {\n        this._picker = _picker;\n        this._localeService = _localeService;\n        this._renderer = _renderer;\n        this._elRef = _elRef;\n        this.changeDetection = changeDetection;\n        this._onChange = Function.prototype;\n        this._onTouched = Function.prototype;\n        this._validatorChange = Function.prototype;\n        this._subs = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Subscription();\n    }\n    ngOnInit() {\n        const setBsValue = (value) => {\n            this._setInputValue(value);\n            if (this._value !== value) {\n                this._value = value;\n                this._onChange(value);\n                this._onTouched();\n            }\n            this.changeDetection.markForCheck();\n        };\n        // if value set via [bsValue] it will not get into value change\n        if (this._picker._bsValue) {\n            setBsValue(this._picker._bsValue);\n        }\n        // update input value on datepicker value update\n        this._subs.add(this._picker.bsValueChange.subscribe((value) => {\n            this._setInputValue(value);\n            if (this._value !== value) {\n                this._value = value;\n                this._onChange(value);\n                this._onTouched();\n            }\n            this.changeDetection.markForCheck();\n        }));\n        // update input value on locale change\n        this._subs.add(this._localeService.localeChange.subscribe(() => {\n            this._setInputValue(this._value);\n        }));\n        this._subs.add(\n        // update input value on format change\n        this._picker.rangeInputFormat$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.distinctUntilChanged)()).subscribe(() => {\n            this._setInputValue(this._value);\n        }));\n    }\n    ngOnDestroy() {\n        this._subs.unsubscribe();\n    }\n    onKeydownEvent(event) {\n        if (event.keyCode === 13 || event.code === 'Enter') {\n            this.hide();\n        }\n    }\n    _setInputValue(date) {\n        let range = '';\n        if (date) {\n            const start = !date[0] ? ''\n                : (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(date[0], this._picker._config.rangeInputFormat, this._localeService.currentLocale);\n            const end = !date[1] ? ''\n                : (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.formatDate)(date[1], this._picker._config.rangeInputFormat, this._localeService.currentLocale);\n            range = (start && end) ? start + this._picker._config.rangeSeparator + end : '';\n        }\n        this._renderer.setProperty(this._elRef.nativeElement, 'value', range);\n    }\n    onChange(event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.writeValue(event.target.value);\n        this._onChange(this._value);\n        if (this._picker._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elRef.nativeElement).focus();\n        }\n        this._onTouched();\n    }\n    validate(c) {\n        let _value = c.value;\n        const errors = [];\n        if (_value === null || _value === undefined || !(0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isArray)(_value)) {\n            return null;\n        }\n        _value = _value.slice().sort((a, b) => a.getTime() - b.getTime());\n        const _isFirstDateValid = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDateValid)(_value[0]);\n        const _isSecondDateValid = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isDateValid)(_value[1]);\n        if (!_isFirstDateValid) {\n            return { bsDate: { invalid: _value[0] } };\n        }\n        if (!_isSecondDateValid) {\n            return { bsDate: { invalid: _value[1] } };\n        }\n        if (this._picker && this._picker.minDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isBefore)(_value[0], this._picker.minDate, 'date')) {\n            _value[0] = this._picker.minDate;\n            errors.push({ bsDate: { minDate: this._picker.minDate } });\n        }\n        if (this._picker && this._picker.maxDate && (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.isAfter)(_value[1], this._picker.maxDate, 'date')) {\n            _value[1] = this._picker.maxDate;\n            errors.push({ bsDate: { maxDate: this._picker.maxDate } });\n        }\n        if (errors.length > 0) {\n            this.writeValue(_value);\n            return errors;\n        }\n        return null;\n    }\n    registerOnValidatorChange(fn) {\n        this._validatorChange = fn;\n    }\n    writeValue(value) {\n        if (!value) {\n            this._value = void 0;\n        }\n        else {\n            const _localeKey = this._localeService.currentLocale;\n            const _locale = (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.getLocale)(_localeKey);\n            if (!_locale) {\n                throw new Error(`Locale \"${_localeKey}\" is not defined, please add it with \"defineLocale(...)\"`);\n            }\n            let _input = [];\n            if (typeof value === 'string') {\n                const trimmedSeparator = this._picker._config.rangeSeparator.trim();\n                if (value.replace(/[^-]/g, '').length > 1) {\n                    _input = value.split(this._picker._config.rangeSeparator);\n                }\n                else {\n                    _input = value\n                        .split(trimmedSeparator.length > 0 ? trimmedSeparator : this._picker._config.rangeSeparator)\n                        .map(_val => _val.trim());\n                }\n            }\n            if (Array.isArray(value)) {\n                _input = value;\n            }\n            this._value = _input\n                .map((_val) => {\n                if (this._picker._config.useUtc) {\n                    return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.utcAsLocal)((0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.parseDate)(_val, this._picker._config.rangeInputFormat, this._localeService.currentLocale));\n                }\n                return (0,ngx_bootstrap_chronos__WEBPACK_IMPORTED_MODULE_2__.parseDate)(_val, this._picker._config.rangeInputFormat, this._localeService.currentLocale);\n            })\n                .map((date) => (isNaN(date.valueOf()) ? void 0 : date));\n        }\n        this._picker.bsValue = this._value;\n    }\n    setDisabledState(isDisabled) {\n        this._picker.isDisabled = isDisabled;\n        if (isDisabled) {\n            this._renderer.setAttribute(this._elRef.nativeElement, 'disabled', 'disabled');\n            return;\n        }\n        this._renderer.removeAttribute(this._elRef.nativeElement, 'disabled');\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    registerOnChange(fn) {\n        this._onChange = fn;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    onBlur() {\n        this._onTouched();\n    }\n    hide() {\n        this._picker.hide();\n        this._renderer.selectRootElement(this._elRef.nativeElement).blur();\n        if (this._picker._config.returnFocusToInput) {\n            this._renderer.selectRootElement(this._elRef.nativeElement).focus();\n        }\n    }\n}\nBsDaterangepickerInputDirective.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInputDirective, deps: [{ token: BsDaterangepickerDirective, host: true }, { token: BsLocaleService }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { token: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef }], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].Directive });\nBsDaterangepickerInputDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareDirective\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", type: BsDaterangepickerInputDirective, selector: \"input[bsDaterangepicker]\", host: { listeners: { \"change\": \"onChange($event)\", \"keyup.esc\": \"hide()\", \"keydown\": \"onKeydownEvent($event)\", \"blur\": \"onBlur()\" } }, providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR], ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))) });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDaterangepickerInputDirective, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Directive,\n            args: [{\n                    selector: `input[bsDaterangepicker]`,\n                    // eslint-disable-next-line @angular-eslint/no-host-metadata-property\n                    host: {\n                        '(change)': 'onChange($event)',\n                        '(keyup.esc)': 'hide()',\n                        '(keydown)': 'onKeydownEvent($event)',\n                        '(blur)': 'onBlur()'\n                    },\n                    providers: [BS_DATERANGEPICKER_VALUE_ACCESSOR, BS_DATERANGEPICKER_VALIDATOR]\n                }]\n        }], ctorParameters: function () { return [{ type: BsDaterangepickerDirective, decorators: [{\n                    type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Host\n                }] }, { type: BsLocaleService }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.Renderer2 }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ElementRef }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.ChangeDetectorRef }]; } });\n\nclass BsDatepickerModule {\n    static forRoot() {\n        return {\n            ngModule: BsDatepickerModule,\n            providers: [\n                ngx_bootstrap_component_loader__WEBPACK_IMPORTED_MODULE_10__.ComponentLoaderFactory,\n                ngx_bootstrap_positioning__WEBPACK_IMPORTED_MODULE_3__.PositioningService,\n                BsDatepickerStore,\n                BsDatepickerActions,\n                BsDatepickerEffects,\n                BsLocaleService,\n                ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerActions\n            ]\n        };\n    }\n}\nBsDatepickerModule.ɵfac = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareFactory\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerModule, deps: [], target: _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵFactoryTarget\"].NgModule });\nBsDatepickerModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareNgModule\"]({ minVersion: \"14.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerModule, declarations: [BsCalendarLayoutComponent,\n        BsCurrentDateViewComponent,\n        BsCustomDatesViewComponent,\n        BsDatepickerDayDecoratorComponent,\n        BsDatepickerNavigationViewComponent,\n        BsDaysCalendarViewComponent,\n        BsMonthCalendarViewComponent,\n        BsTimepickerViewComponent,\n        BsYearsCalendarViewComponent,\n        BsDatepickerContainerComponent,\n        BsDatepickerDirective,\n        BsDatepickerInlineContainerComponent,\n        BsDatepickerInlineDirective,\n        BsDatepickerInputDirective,\n        BsDaterangepickerContainerComponent,\n        BsDaterangepickerDirective,\n        BsDaterangepickerInlineContainerComponent,\n        BsDaterangepickerInlineDirective,\n        BsDaterangepickerInputDirective], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipModule, ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerModule], exports: [BsDatepickerContainerComponent,\n        BsDatepickerDirective,\n        BsDatepickerInlineContainerComponent,\n        BsDatepickerInlineDirective,\n        BsDatepickerInputDirective,\n        BsDaterangepickerContainerComponent,\n        BsDaterangepickerDirective,\n        BsDaterangepickerInlineContainerComponent,\n        BsDaterangepickerInlineDirective,\n        BsDaterangepickerInputDirective] });\nBsDatepickerModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareInjector\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerModule, imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipModule, ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerModule] });\n_angular_core__WEBPACK_IMPORTED_MODULE_0__[\"ɵɵngDeclareClassMetadata\"]({ minVersion: \"12.0.0\", version: \"15.0.3\", ngImport: /*#__PURE__*/ (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_angular_core__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_angular_core__WEBPACK_IMPORTED_MODULE_0__, 2))), type: BsDatepickerModule, decorators: [{\n            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__.NgModule,\n            args: [{\n                    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, ngx_bootstrap_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipModule, ngx_bootstrap_timepicker__WEBPACK_IMPORTED_MODULE_4__.TimepickerModule],\n                    declarations: [\n                        BsCalendarLayoutComponent,\n                        BsCurrentDateViewComponent,\n                        BsCustomDatesViewComponent,\n                        BsDatepickerDayDecoratorComponent,\n                        BsDatepickerNavigationViewComponent,\n                        BsDaysCalendarViewComponent,\n                        BsMonthCalendarViewComponent,\n                        BsTimepickerViewComponent,\n                        BsYearsCalendarViewComponent,\n                        BsDatepickerContainerComponent,\n                        BsDatepickerDirective,\n                        BsDatepickerInlineContainerComponent,\n                        BsDatepickerInlineDirective,\n                        BsDatepickerInputDirective,\n                        BsDaterangepickerContainerComponent,\n                        BsDaterangepickerDirective,\n                        BsDaterangepickerInlineContainerComponent,\n                        BsDaterangepickerInlineDirective,\n                        BsDaterangepickerInputDirective\n                    ],\n                    exports: [\n                        BsDatepickerContainerComponent,\n                        BsDatepickerDirective,\n                        BsDatepickerInlineContainerComponent,\n                        BsDatepickerInlineDirective,\n                        BsDatepickerInputDirective,\n                        BsDaterangepickerContainerComponent,\n                        BsDaterangepickerDirective,\n                        BsDaterangepickerInlineContainerComponent,\n                        BsDaterangepickerInlineDirective,\n                        BsDaterangepickerInputDirective\n                    ]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\n//# sourceMappingURL=ngx-bootstrap-datepicker.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmd4LWJvb3RzdHJhcC9kYXRlcGlja2VyL2Zlc20yMDIwL25neC1ib290c3RyYXAtZGF0ZXBpY2tlci5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2N1bXVsb2NpdHktYXNzZXQtb3ZlcnZpZXctd2lkZ2V0Ly4vbm9kZV9tb2R1bGVzL25neC1ib290c3RyYXAvZGF0ZXBpY2tlci9mZXNtMjAyMC9uZ3gtYm9vdHN0cmFwLWRhdGVwaWNrZXIubWpzPzYwNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaTAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBJbmplY3RhYmxlLCBFdmVudEVtaXR0ZXIsIENvbXBvbmVudCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgSG9zdEJpbmRpbmcsIERpcmVjdGl2ZSwgZm9yd2FyZFJlZiwgSG9zdCwgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGZpbHRlciwgbWFwLCB0YWtlLCB0YWtlVW50aWwsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgaXNGaXJzdERheU9mV2VlaywgZ2V0RGF5LCBzaGlmdERhdGUsIGlzQmVmb3JlLCBlbmRPZiwgaXNBZnRlciwgc3RhcnRPZiwgaXNBcnJheSwgaXNTYW1lLCBnZXRGaXJzdERheU9mTW9udGgsIGZvcm1hdERhdGUsIGdldExvY2FsZSwgaXNTYW1lTW9udGgsIGlzU2FtZURheSwgaXNEaXNhYmxlZERheSwgaXNTYW1lWWVhciwgaXNEYXRlVmFsaWQsIHNldEZ1bGxEYXRlLCBnZXRNb250aCwgZ2V0RnVsbFllYXIsIGlzRGF0ZSwgcGFyc2VEYXRlLCB1dGNBc0xvY2FsIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9jaHJvbm9zJztcbmltcG9ydCAqIGFzIGk1IGZyb20gJ25neC1ib290c3RyYXAvcG9zaXRpb25pbmcnO1xuaW1wb3J0IHsgUG9zaXRpb25pbmdTZXJ2aWNlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9wb3NpdGlvbmluZyc7XG5pbXBvcnQgKiBhcyBpNyBmcm9tICduZ3gtYm9vdHN0cmFwL3RpbWVwaWNrZXInO1xuaW1wb3J0IHsgVGltZXBpY2tlckFjdGlvbnMsIFRpbWVwaWNrZXJNb2R1bGUgfSBmcm9tICduZ3gtYm9vdHN0cmFwL3RpbWVwaWNrZXInO1xuaW1wb3J0IHsgdHJpZ2dlciwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCBhbmltYXRlIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIEJlaGF2aW9yU3ViamVjdCwgY29tYmluZUxhdGVzdCwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTWluaVN0b3JlLCBNaW5pU3RhdGUgfSBmcm9tICduZ3gtYm9vdHN0cmFwL21pbmktbmdyeCc7XG5pbXBvcnQgKiBhcyBpNiBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCAqIGFzIGkzIGZyb20gJ25neC1ib290c3RyYXAvdG9vbHRpcCc7XG5pbXBvcnQgeyBUb29sdGlwTW9kdWxlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC90b29sdGlwJztcbmltcG9ydCAqIGFzIGkyIGZyb20gJ25neC1ib290c3RyYXAvY29tcG9uZW50LWxvYWRlcic7XG5pbXBvcnQgeyBDb21wb25lbnRMb2FkZXJGYWN0b3J5IH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9jb21wb25lbnQtbG9hZGVyJztcbmltcG9ydCB7IE5HX1ZBTFVFX0FDQ0VTU09SLCBOR19WQUxJREFUT1JTIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG4vKipcbiAqIEZvciBkYXRlIHJhbmdlIHBpY2tlciB0aGVyZSBhcmUgYEJzRGF0ZXJhbmdlcGlja2VyQ29uZmlnYCB3aGljaCBpbmhlcml0cyBhbGwgcHJvcGVydGllcyxcbiAqIGV4Y2VwdCBgZGlzcGxheU1vbnRoc2AsIGZvciByYW5nZSBwaWNrZXIgaXQgZGVmYXVsdCB0byBgMmBcbiAqL1xuY2xhc3MgQnNEYXRlcGlja2VyQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIHNldHMgdXNlIGFkYXB0aXZlIHBvc2l0aW9uICovXG4gICAgICAgIHRoaXMuYWRhcHRpdmVQb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgICAvKiogc2V0cyB1c2UgVVRDIGRhdGUgdGltZSBmb3JtYXQgKi9cbiAgICAgICAgdGhpcy51c2VVdGMgPSBmYWxzZTtcbiAgICAgICAgLyoqIHR1cm4gb24vb2ZmIGFuaW1hdGlvbiAqL1xuICAgICAgICB0aGlzLmlzQW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aWV3IHRoYXQgdGhlIGRhdGVwaWNrZXIgc2hvdWxkIHN0YXJ0IGluXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0VmlldyA9ICdkYXknO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgcmV0dXJucyBmb2N1cyB0byB0aGUgZGF0ZXBpY2tlciAvIGRhdGVyYW5nZXBpY2tlciBpbnB1dCBhZnRlciBkYXRlIHNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXR1cm5Gb2N1c1RvSW5wdXQgPSBmYWxzZTtcbiAgICAgICAgLyoqIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIGFwcGxpZWQgdG8gZGF0ZXBpY2tlciBjb250YWluZXIsXG4gICAgICAgICAqIHVzdWFsbHkgdXNlZCB0byBzZXQgY29sb3IgdGhlbWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGFpbmVyQ2xhc3MgPSAndGhlbWUtZ3JlZW4nO1xuICAgICAgICAvLyBEYXRlcGlja2VyUmVuZGVyT3B0aW9uc1xuICAgICAgICB0aGlzLmRpc3BsYXlNb250aHMgPSAxO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsb3dzIHRvIGhpZGUgd2VlayBudW1iZXJzIGluIGRhdGVwaWNrZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvd1dlZWtOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kYXRlSW5wdXRGb3JtYXQgPSAnTCc7XG4gICAgICAgIC8vIHJhbmdlIHBpY2tlclxuICAgICAgICB0aGlzLnJhbmdlU2VwYXJhdG9yID0gJyAtICc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRlIGZvcm1hdCBmb3IgZGF0ZSByYW5nZSBpbnB1dCBmaWVsZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYW5nZUlucHV0Rm9ybWF0ID0gJ0wnO1xuICAgICAgICAvLyBEYXRlcGlja2VyRm9ybWF0T3B0aW9uc1xuICAgICAgICB0aGlzLm1vbnRoVGl0bGUgPSAnTU1NTSc7XG4gICAgICAgIHRoaXMueWVhclRpdGxlID0gJ1lZWVknO1xuICAgICAgICB0aGlzLmRheUxhYmVsID0gJ0QnO1xuICAgICAgICB0aGlzLm1vbnRoTGFiZWwgPSAnTU1NTSc7XG4gICAgICAgIHRoaXMueWVhckxhYmVsID0gJ1lZWVknO1xuICAgICAgICB0aGlzLndlZWtOdW1iZXJzID0gJ3cnO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3MgJ3RvZGF5JyBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvd1RvZGF5QnV0dG9uID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93cyBjbGVhciBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hvd0NsZWFyQnV0dG9uID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb3NpdGlvbmluZyBvZiAndG9kYXknIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b2RheVBvc2l0aW9uID0gJ2NlbnRlcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb3NpdGlvbmluZyBvZiAnY2xlYXInIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhclBvc2l0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhYmVsIGZvciAndG9kYXknIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b2RheUJ1dHRvbkxhYmVsID0gJ1RvZGF5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhYmVsIGZvciAnY2xlYXInIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckJ1dHRvbkxhYmVsID0gJ0NsZWFyJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExhYmVsIGZvciAnY3VzdG9tIHJhbmdlJyBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VzdG9tUmFuZ2VCdXR0b25MYWJlbCA9ICdDdXN0b20gUmFuZ2UnO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3MgdGltZXBpY2tlciB1bmRlciBkYXRlcGlja2VyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpdGhUaW1lcGlja2VyID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYWxsb3dlZCBwb3NpdGlvbnMgb2YgY29udGFpbmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbGxvd2VkUG9zaXRpb25zID0gWyd0b3AnLCAnYm90dG9tJ107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcnVsZSBmb3IgZGF0ZXBpY2tlciBjbG9zaW5nLiBJZiB2YWx1ZSBpcyB0cnVlIGRhdGVwaWNrZXIgY2xvc2VzIG9ubHkgaWYgZGF0ZSBpcyBjaGFuZ2VkLCBpZiB1c2VyIGNoYW5nZXMgb25seSB0aW1lIGRhdGVwaWNrZXIgZG9lc24ndCBjbG9zZS4gSXQgaXMgYXZhaWxhYmxlIG9ubHkgaWYgcHJvcGVydHkgd2l0aFRpbWVwaWNrZXIgaXMgc2V0IHRydWVcbiAgICAgICAgICogKi9cbiAgICAgICAgdGhpcy5rZWVwRGF0ZXBpY2tlck9wZW5lZCA9IGZhbHNlO1xuICAgIH1cbn1cbkJzRGF0ZXBpY2tlckNvbmZpZy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJDb25maWcsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVwaWNrZXJDb25maWcuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckNvbmZpZywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckNvbmZpZywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY29uc3QgREFURVBJQ0tFUl9BTklNQVRJT05fVElNSU5HID0gJzIyMG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpJztcbmNvbnN0IGRhdGVwaWNrZXJBbmltYXRpb24gPSB0cmlnZ2VyKCdkYXRlcGlja2VyQW5pbWF0aW9uJywgW1xuICAgIHN0YXRlKCdhbmltYXRlZC1kb3duJywgc3R5bGUoeyBoZWlnaHQ6ICcqJywgb3ZlcmZsb3c6ICdoaWRkZW4nIH0pKSxcbiAgICB0cmFuc2l0aW9uKCcqID0+IGFuaW1hdGVkLWRvd24nLCBbXG4gICAgICAgIHN0eWxlKHsgaGVpZ2h0OiAwLCBvdmVyZmxvdzogJ2hpZGRlbicgfSksXG4gICAgICAgIGFuaW1hdGUoREFURVBJQ0tFUl9BTklNQVRJT05fVElNSU5HKVxuICAgIF0pLFxuICAgIHN0YXRlKCdhbmltYXRlZC11cCcsIHN0eWxlKHsgaGVpZ2h0OiAnKicsIG92ZXJmbG93OiAnaGlkZGVuJyB9KSksXG4gICAgdHJhbnNpdGlvbignKiA9PiBhbmltYXRlZC11cCcsIFtcbiAgICAgICAgc3R5bGUoeyBoZWlnaHQ6ICcqJywgb3ZlcmZsb3c6ICdoaWRkZW4nIH0pLFxuICAgICAgICBhbmltYXRlKERBVEVQSUNLRVJfQU5JTUFUSU9OX1RJTUlORylcbiAgICBdKSxcbiAgICB0cmFuc2l0aW9uKCcqID0+IHVuYW5pbWF0ZWQnLCBhbmltYXRlKCcwcycpKVxuXSk7XG5cbmNsYXNzIEJzRGF0ZXBpY2tlckFic3RyYWN0Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJDbGFzcyA9ICcnO1xuICAgICAgICB0aGlzLmN1c3RvbVJhbmdlcyA9IFtdO1xuICAgICAgICB0aGlzLmNob3NlblJhbmdlID0gW107XG4gICAgICAgIHRoaXMuX2RheXNDYWxlbmRhclN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRpbWVTdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgfVxuICAgIHNldCBtaW5EYXRlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2VmZmVjdHM/LnNldE1pbkRhdGUodmFsdWUpO1xuICAgIH1cbiAgICBzZXQgbWF4RGF0ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXRNYXhEYXRlKHZhbHVlKTtcbiAgICB9XG4gICAgc2V0IGRheXNEaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXREYXlzRGlzYWJsZWQodmFsdWUpO1xuICAgIH1cbiAgICBzZXQgZGF0ZXNEaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXREYXRlc0Rpc2FibGVkKHZhbHVlKTtcbiAgICB9XG4gICAgc2V0IGRhdGVzRW5hYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXREYXRlc0VuYWJsZWQodmFsdWUpO1xuICAgIH1cbiAgICBzZXQgaXNEaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXREaXNhYmxlZCh2YWx1ZSk7XG4gICAgfVxuICAgIHNldCBkYXRlQ3VzdG9tQ2xhc3Nlcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXREYXRlQ3VzdG9tQ2xhc3Nlcyh2YWx1ZSk7XG4gICAgfVxuICAgIHNldCBkYXRlVG9vbHRpcFRleHRzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2VmZmVjdHM/LnNldERhdGVUb29sdGlwVGV4dHModmFsdWUpO1xuICAgIH1cbiAgICBzZXQgZGF5c0NhbGVuZGFyJCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kYXlzQ2FsZW5kYXIkID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2RheXNDYWxlbmRhclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLl9kYXlzQ2FsZW5kYXJTdWIuYWRkKHRoaXMuX2RheXNDYWxlbmRhciQuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlwbGVDYWxlbmRhcnMgPSAhIXZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDE7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0IGRheXNDYWxlbmRhciQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXlzQ2FsZW5kYXIkO1xuICAgIH1cbiAgICAvLyB0b2RvOiB2YWxvcmtpbiBmaXhcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIHNldFZpZXdNb2RlKGV2ZW50KSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBuYXZpZ2F0ZVRvKGV2ZW50KSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBkYXlIb3ZlckhhbmRsZXIoZXZlbnQpIHsgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHdlZWtIb3ZlckhhbmRsZXIoZXZlbnQpIHsgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIG1vbnRoSG92ZXJIYW5kbGVyKGV2ZW50KSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB5ZWFySG92ZXJIYW5kbGVyKGV2ZW50KSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB0aW1lU2VsZWN0SGFuZGxlcihkYXRlLCBpbmRleCkgeyB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgZGF5U2VsZWN0SGFuZGxlcihkYXkpIHsgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIG1vbnRoU2VsZWN0SGFuZGxlcihldmVudCkgeyB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgeWVhclNlbGVjdEhhbmRsZXIoZXZlbnQpIHsgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHNldFJhbmdlT25DYWxlbmRhcihkYXRlcykgeyB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgc2V0VG9kYXkoKSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBjbGVhckRhdGUoKSB7IH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIF9zdG9wUHJvcGFnYXRpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxufVxuXG5jbGFzcyBCc0RhdGVwaWNrZXJBY3Rpb25zIHtcbiAgICBjYWxjdWxhdGUoKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMuQ0FMQ1VMQVRFIH07XG4gICAgfVxuICAgIGZvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5GT1JNQVQgfTtcbiAgICB9XG4gICAgZmxhZygpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5GTEFHIH07XG4gICAgfVxuICAgIHNlbGVjdChkYXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFTEVDVCxcbiAgICAgICAgICAgIHBheWxvYWQ6IGRhdGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2VsZWN0VGltZShkYXRlLCBpbmRleCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5TRUxFQ1RfVElNRSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHsgZGF0ZSwgaW5kZXggfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2hhbmdlVmlld01vZGUoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMuQ0hBTkdFX1ZJRVdNT0RFLFxuICAgICAgICAgICAgcGF5bG9hZDogZXZlbnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbmF2aWdhdGVUbyhldmVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5OQVZJR0FURV9UTyxcbiAgICAgICAgICAgIHBheWxvYWQ6IGV2ZW50XG4gICAgICAgIH07XG4gICAgfVxuICAgIG5hdmlnYXRlU3RlcChzdGVwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLk5BVklHQVRFX09GRlNFVCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHN0ZXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9PUFRJT05TLFxuICAgICAgICAgICAgcGF5bG9hZDogb3B0aW9uc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBkYXRlIHJhbmdlIHBpY2tlclxuICAgIHNlbGVjdFJhbmdlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFTEVDVF9SQU5HRSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGhvdmVyRGF5KGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLkhPVkVSLFxuICAgICAgICAgICAgcGF5bG9hZDogZXZlbnQuaXNIb3ZlcmVkID8gZXZlbnQuY2VsbC5kYXRlIDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtaW5EYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX01JTl9EQVRFLFxuICAgICAgICAgICAgcGF5bG9hZDogZGF0ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBtYXhEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX01BWF9EQVRFLFxuICAgICAgICAgICAgcGF5bG9hZDogZGF0ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBkYXlzRGlzYWJsZWQoZGF5cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfREFZU0RJU0FCTEVELFxuICAgICAgICAgICAgcGF5bG9hZDogZGF5c1xuICAgICAgICB9O1xuICAgIH1cbiAgICBkYXRlc0Rpc2FibGVkKGRhdGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9EQVRFU0RJU0FCTEVELFxuICAgICAgICAgICAgcGF5bG9hZDogZGF0ZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGF0ZXNFbmFibGVkKGRhdGVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9EQVRFU0VOQUJMRUQsXG4gICAgICAgICAgICBwYXlsb2FkOiBkYXRlc1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0Rpc2FibGVkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9JU19ESVNBQkxFRCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNldERhdGVDdXN0b21DbGFzc2VzKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9EQVRFX0NVU1RPTV9DTEFTU0VTLFxuICAgICAgICAgICAgcGF5bG9hZDogdmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0RGF0ZVRvb2x0aXBUZXh0cyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfREFURV9UT09MVElQX1RFWFRTLFxuICAgICAgICAgICAgcGF5bG9hZDogdmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0TG9jYWxlKGxvY2FsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfTE9DQUxFLFxuICAgICAgICAgICAgcGF5bG9hZDogbG9jYWxlXG4gICAgICAgIH07XG4gICAgfVxufVxuQnNEYXRlcGlja2VyQWN0aW9ucy5DQUxDVUxBVEUgPSAnW2RhdGVwaWNrZXJdIGNhbGN1bGF0ZSBkYXRlcyBtYXRyaXgnO1xuQnNEYXRlcGlja2VyQWN0aW9ucy5GT1JNQVQgPSAnW2RhdGVwaWNrZXJdIGZvcm1hdCBkYXRlcGlja2VyIHZhbHVlcyc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLkZMQUcgPSAnW2RhdGVwaWNrZXJdIHNldCBmbGFncyc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLlNFTEVDVCA9ICdbZGF0ZXBpY2tlcl0gc2VsZWN0IGRhdGUnO1xuQnNEYXRlcGlja2VyQWN0aW9ucy5OQVZJR0FURV9PRkZTRVQgPSAnW2RhdGVwaWNrZXJdIHNoaWZ0IHZpZXcgZGF0ZSc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLk5BVklHQVRFX1RPID0gJ1tkYXRlcGlja2VyXSBjaGFuZ2UgdmlldyBkYXRlJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX09QVElPTlMgPSAnW2RhdGVwaWNrZXJdIHVwZGF0ZSByZW5kZXIgb3B0aW9ucyc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLkhPVkVSID0gJ1tkYXRlcGlja2VyXSBob3ZlciBkYXRlJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuQ0hBTkdFX1ZJRVdNT0RFID0gJ1tkYXRlcGlja2VyXSBzd2l0Y2ggdmlldyBtb2RlJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX01JTl9EQVRFID0gJ1tkYXRlcGlja2VyXSBzZXQgbWluIGRhdGUnO1xuQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfTUFYX0RBVEUgPSAnW2RhdGVwaWNrZXJdIHNldCBtYXggZGF0ZSc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9EQVlTRElTQUJMRUQgPSAnW2RhdGVwaWNrZXJdIHNldCBkYXlzIGRpc2FibGVkJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX0RBVEVTRElTQUJMRUQgPSAnW2RhdGVwaWNrZXJdIHNldCBkYXRlcyBkaXNhYmxlZCc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9EQVRFU0VOQUJMRUQgPSAnW2RhdGVwaWNrZXJdIHNldCBkYXRlcyBlbmFibGVkJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX0lTX0RJU0FCTEVEID0gJ1tkYXRlcGlja2VyXSBzZXQgaXMgZGlzYWJsZWQnO1xuQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfREFURV9DVVNUT01fQ0xBU1NFUyA9ICdbZGF0ZXBpY2tlcl0gc2V0IGRhdGUgY3VzdG9tIGNsYXNzZXMnO1xuQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfREFURV9UT09MVElQX1RFWFRTID0gJ1tkYXRlcGlja2VyXSBzZXQgZGF0ZSB0b29sdGlwIHRleHRzJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX0xPQ0FMRSA9ICdbZGF0ZXBpY2tlcl0gc2V0IGRhdGVwaWNrZXIgbG9jYWxlJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VMRUNUX1RJTUUgPSAnW2RhdGVwaWNrZXJdIHNlbGVjdCB0aW1lJztcbkJzRGF0ZXBpY2tlckFjdGlvbnMuU0VMRUNUX1JBTkdFID0gJ1tkYXRlcmFuZ2VwaWNrZXJdIHNlbGVjdCBkYXRlcyByYW5nZSc7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVwaWNrZXJBY3Rpb25zLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zLCBwcm92aWRlZEluOiAncGxhdGZvcm0nIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3BsYXRmb3JtJyB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgQnNMb2NhbGVTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdExvY2FsZSA9ICdlbic7XG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ldyBCZWhhdmlvclN1YmplY3QodGhpcy5fZGVmYXVsdExvY2FsZSk7XG4gICAgICAgIHRoaXMuX2xvY2FsZUNoYW5nZSA9IHRoaXMuX2xvY2FsZS5hc09ic2VydmFibGUoKTtcbiAgICB9XG4gICAgZ2V0IGxvY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG4gICAgZ2V0IGxvY2FsZUNoYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZUNoYW5nZTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRMb2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgdXNlKGxvY2FsZSkge1xuICAgICAgICBpZiAobG9jYWxlID09PSB0aGlzLmN1cnJlbnRMb2NhbGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2NhbGUubmV4dChsb2NhbGUpO1xuICAgIH1cbn1cbkJzTG9jYWxlU2VydmljZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0xvY2FsZVNlcnZpY2UsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0xvY2FsZVNlcnZpY2UuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzTG9jYWxlU2VydmljZSwgcHJvdmlkZWRJbjogJ3BsYXRmb3JtJyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0xvY2FsZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3BsYXRmb3JtJyB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgQnNEYXRlcGlja2VyRWZmZWN0cyB7XG4gICAgY29uc3RydWN0b3IoX2FjdGlvbnMsIF9sb2NhbGVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuX2FjdGlvbnMgPSBfYWN0aW9ucztcbiAgICAgICAgdGhpcy5fbG9jYWxlU2VydmljZSA9IF9sb2NhbGVTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgfVxuICAgIGluaXQoX2JzRGF0ZXBpY2tlclN0b3JlKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlID0gX2JzRGF0ZXBpY2tlclN0b3JlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIHNldHRlcnMgKi9cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZWxlY3QodmFsdWUpKTtcbiAgICB9XG4gICAgc2V0UmFuZ2VWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZWxlY3RSYW5nZSh2YWx1ZSkpO1xuICAgIH1cbiAgICBzZXRNaW5EYXRlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLm1pbkRhdGUodmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNldE1heERhdGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMubWF4RGF0ZSh2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0RGF5c0Rpc2FibGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmRheXNEaXNhYmxlZCh2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0RGF0ZXNEaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5kYXRlc0Rpc2FibGVkKHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXREYXRlc0VuYWJsZWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuZGF0ZXNFbmFibGVkKHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5pc0Rpc2FibGVkKHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXREYXRlQ3VzdG9tQ2xhc3Nlcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZXREYXRlQ3VzdG9tQ2xhc3Nlcyh2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgc2V0RGF0ZVRvb2x0aXBUZXh0cyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZXREYXRlVG9vbHRpcFRleHRzKHZhbHVlKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiBTZXQgcmVuZGVyaW5nIG9wdGlvbnMgKi9cbiAgICBzZXRPcHRpb25zKF9jb25maWcpIHtcbiAgICAgICAgY29uc3QgX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgbG9jYWxlOiB0aGlzLl9sb2NhbGVTZXJ2aWNlLmN1cnJlbnRMb2NhbGUgfSwgX2NvbmZpZyk7XG4gICAgICAgIHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLnNldE9wdGlvbnMoX29wdGlvbnMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiB2aWV3IHRvIG1vZGUgYmluZGluZ3MgKi9cbiAgICBzZXRCaW5kaW5ncyhjb250YWluZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9yZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnNlbGVjdGVkVGltZSA9IHRoaXMuX3N0b3JlLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5zZWxlY3RlZFRpbWUpXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIodGltZXMgPT4gISF0aW1lcykpO1xuICAgICAgICBjb250YWluZXIuZGF5c0NhbGVuZGFyJCA9IHRoaXMuX3N0b3JlLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5mbGFnZ2VkTW9udGhzKVxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKG1vbnRocyA9PiAhIW1vbnRocykpO1xuICAgICAgICAvLyBtb250aCBjYWxlbmRhclxuICAgICAgICBjb250YWluZXIubW9udGhzQ2FsZW5kYXIgPSB0aGlzLl9zdG9yZS5zZWxlY3Qoc3RhdGUgPT4gc3RhdGUuZmxhZ2dlZE1vbnRoc0NhbGVuZGFyKVxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKG1vbnRocyA9PiAhIW1vbnRocykpO1xuICAgICAgICAvLyB5ZWFyIGNhbGVuZGFyXG4gICAgICAgIGNvbnRhaW5lci55ZWFyc0NhbGVuZGFyID0gdGhpcy5fc3RvcmUuc2VsZWN0KHN0YXRlID0+IHN0YXRlLnllYXJzQ2FsZW5kYXJGbGFnZ2VkKVxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKHllYXJzID0+ICEheWVhcnMpKTtcbiAgICAgICAgY29udGFpbmVyLnZpZXdNb2RlID0gdGhpcy5fc3RvcmUuc2VsZWN0KHN0YXRlID0+IHN0YXRlLnZpZXc/Lm1vZGUpO1xuICAgICAgICBjb250YWluZXIub3B0aW9ucyQgPSBjb21iaW5lTGF0ZXN0KFtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5zaG93V2Vla051bWJlcnMpLFxuICAgICAgICAgICAgdGhpcy5fc3RvcmUuc2VsZWN0KHN0YXRlID0+IHN0YXRlLmRpc3BsYXlNb250aHMpXG4gICAgICAgIF0pXG4gICAgICAgICAgICAucGlwZShtYXAoKGxhdGVzdCkgPT4gKHtcbiAgICAgICAgICAgIHNob3dXZWVrTnVtYmVyczogbGF0ZXN0WzBdLFxuICAgICAgICAgICAgZGlzcGxheU1vbnRoczogbGF0ZXN0WzFdXG4gICAgICAgIH0pKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogZXZlbnQgaGFuZGxlcnMgKi9cbiAgICBzZXRFdmVudEhhbmRsZXJzKGNvbnRhaW5lcikge1xuICAgICAgICBjb250YWluZXIuc2V0Vmlld01vZGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmNoYW5nZVZpZXdNb2RlKGV2ZW50KSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnRhaW5lci5uYXZpZ2F0ZVRvID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5uYXZpZ2F0ZVN0ZXAoZXZlbnQuc3RlcCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb250YWluZXIuZGF5SG92ZXJIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBfY2VsbCA9IGV2ZW50LmNlbGw7XG4gICAgICAgICAgICBpZiAoX2NlbGwuaXNPdGhlck1vbnRoIHx8IF9jZWxsLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5ob3ZlckRheShldmVudCkpO1xuICAgICAgICAgICAgX2NlbGwuaXNIb3ZlcmVkID0gZXZlbnQuaXNIb3ZlcmVkO1xuICAgICAgICB9O1xuICAgICAgICBjb250YWluZXIubW9udGhIb3ZlckhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50LmNlbGwuaXNIb3ZlcmVkID0gZXZlbnQuaXNIb3ZlcmVkO1xuICAgICAgICB9O1xuICAgICAgICBjb250YWluZXIueWVhckhvdmVySGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuY2VsbC5pc0hvdmVyZWQgPSBldmVudC5pc0hvdmVyZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWdpc3RlckRhdGVwaWNrZXJTaWRlRWZmZWN0cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdG9yZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX3N0b3JlLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS52aWV3KS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuY2FsY3VsYXRlKCkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIGZvcm1hdCBjYWxlbmRhciB2YWx1ZXMgb24gbW9udGggbW9kZWwgY2hhbmdlXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLl9zdG9yZVxuICAgICAgICAgICAgLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5tb250aHNNb2RlbClcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcihtb250aE1vZGVsID0+ICEhbW9udGhNb2RlbCkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmZvcm1hdCgpKSkpO1xuICAgICAgICAvLyBmbGFnIGRheSB2YWx1ZXNcbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX3N0b3JlXG4gICAgICAgICAgICAuc2VsZWN0KHN0YXRlID0+IHN0YXRlLmZvcm1hdHRlZE1vbnRocylcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcihtb250aCA9PiAhIW1vbnRoKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuZmxhZygpKSkpO1xuICAgICAgICAvLyBmbGFnIGRheSB2YWx1ZXNcbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX3N0b3JlXG4gICAgICAgICAgICAuc2VsZWN0KHN0YXRlID0+IHN0YXRlLnNlbGVjdGVkRGF0ZSlcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcihzZWxlY3RlZERhdGUgPT4gISFzZWxlY3RlZERhdGUpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLl9zdG9yZT8uZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5mbGFnKCkpKSk7XG4gICAgICAgIC8vIGZsYWcgZm9yIGRhdGUgcmFuZ2UgcGlja2VyXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLl9zdG9yZVxuICAgICAgICAgICAgLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5zZWxlY3RlZFJhbmdlKVxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKHNlbGVjdGVkUmFuZ2UgPT4gISFzZWxlY3RlZFJhbmdlKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuZmxhZygpKSkpO1xuICAgICAgICAvLyBtb250aHNDYWxlbmRhclxuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmVcbiAgICAgICAgICAgIC5zZWxlY3Qoc3RhdGUgPT4gc3RhdGUubW9udGhzQ2FsZW5kYXIpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmZsYWcoKSkpKTtcbiAgICAgICAgLy8geWVhcnMgY2FsZW5kYXJcbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX3N0b3JlXG4gICAgICAgICAgICAuc2VsZWN0KHN0YXRlID0+IHN0YXRlLnllYXJzQ2FsZW5kYXJNb2RlbClcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcihzdGF0ZSA9PiAhIXN0YXRlKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuZmxhZygpKSkpO1xuICAgICAgICAvLyBvbiBob3ZlclxuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmVcbiAgICAgICAgICAgIC5zZWxlY3Qoc3RhdGUgPT4gc3RhdGUuaG92ZXJlZERhdGUpXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoaG92ZXJlZERhdGUgPT4gISFob3ZlcmVkRGF0ZSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmZsYWcoKSkpKTtcbiAgICAgICAgLy8gZGF0ZSBjdXN0b20gY2xhc3Nlc1xuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmVcbiAgICAgICAgICAgIC5zZWxlY3Qoc3RhdGUgPT4gc3RhdGUuZGF0ZUN1c3RvbUNsYXNzZXMpXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoZGF0ZUN1c3RvbUNsYXNzZXMgPT4gISFkYXRlQ3VzdG9tQ2xhc3NlcykpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuX3N0b3JlPy5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmZsYWcoKSkpKTtcbiAgICAgICAgLy8gZGF0ZSB0b29sdGlwIHRleHRzXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLl9zdG9yZVxuICAgICAgICAgICAgLnNlbGVjdChzdGF0ZSA9PiBzdGF0ZS5kYXRlVG9vbHRpcFRleHRzKVxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKGRhdGVUb29sdGlwVGV4dHMgPT4gISFkYXRlVG9vbHRpcFRleHRzKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuZmxhZygpKSkpO1xuICAgICAgICAvLyBvbiBsb2NhbGUgY2hhbmdlXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLl9sb2NhbGVTZXJ2aWNlLmxvY2FsZUNoYW5nZVxuICAgICAgICAgICAgLnN1YnNjcmliZShsb2NhbGUgPT4gdGhpcy5fc3RvcmU/LmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuc2V0TG9jYWxlKGxvY2FsZSkpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLl9zdWJzKSB7XG4gICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkJzRGF0ZXBpY2tlckVmZmVjdHMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyRWZmZWN0cywgZGVwczogW3sgdG9rZW46IEJzRGF0ZXBpY2tlckFjdGlvbnMgfSwgeyB0b2tlbjogQnNMb2NhbGVTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVwaWNrZXJFZmZlY3RzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJFZmZlY3RzLCBwcm92aWRlZEluOiAncGxhdGZvcm0nIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckVmZmVjdHMsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3BsYXRmb3JtJyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMgfSwgeyB0eXBlOiBCc0xvY2FsZVNlcnZpY2UgfV07IH0gfSk7XG5cbmNvbnN0IGRlZmF1bHRNb250aE9wdGlvbnMgPSB7XG4gICAgd2lkdGg6IDcsXG4gICAgaGVpZ2h0OiA2XG59O1xuY29uc3QgZGF5SW5NaWxsaXNlY29uZHMgPSAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG5jbGFzcyBCc0RhdGVwaWNrZXJTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIERhdGVwaWNrZXJSZW5kZXJPcHRpb25zXG4gICAgICAgIHRoaXMuc2hvd1dlZWtOdW1iZXJzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhzID0gMTtcbiAgICB9XG59XG5jb25zdCBfaW5pdGlhbFZpZXcgPSB7IGRhdGU6IG5ldyBEYXRlKCksIG1vZGU6ICdkYXknIH07XG5jb25zdCBpbml0aWFsRGF0ZXBpY2tlclN0YXRlID0gT2JqZWN0LmFzc2lnbihuZXcgQnNEYXRlcGlja2VyQ29uZmlnKCksIHtcbiAgICBsb2NhbGU6ICdlbicsXG4gICAgdmlldzogX2luaXRpYWxWaWV3LFxuICAgIHNlbGVjdGVkUmFuZ2U6IFtdLFxuICAgIHNlbGVjdGVkVGltZTogW10sXG4gICAgbW9udGhWaWV3T3B0aW9uczogZGVmYXVsdE1vbnRoT3B0aW9uc1xufSk7XG5cbmZ1bmN0aW9uIGdldFN0YXJ0aW5nRGF5T2ZDYWxlbmRhcihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRmlyc3REYXlPZldlZWsoZGF0ZSwgb3B0aW9ucy5maXJzdERheU9mV2VlaykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIGNvbnN0IHdlZWtEYXkgPSBnZXREYXkoZGF0ZSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gY2FsY3VsYXRlRGF0ZU9mZnNldCh3ZWVrRGF5LCBvcHRpb25zLmZpcnN0RGF5T2ZXZWVrKTtcbiAgICByZXR1cm4gc2hpZnREYXRlKGRhdGUsIHsgZGF5OiAtb2Zmc2V0IH0pO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlRGF0ZU9mZnNldCh3ZWVrZGF5LCBzdGFydGluZ0RheU9mZnNldCkge1xuICAgIGNvbnN0IF9zdGFydGluZ0RheU9mZnNldCA9IE51bWJlcihzdGFydGluZ0RheU9mZnNldCk7XG4gICAgaWYgKGlzTmFOKF9zdGFydGluZ0RheU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChfc3RhcnRpbmdEYXlPZmZzZXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHdlZWtkYXk7XG4gICAgfVxuICAgIGNvbnN0IG9mZnNldCA9IHdlZWtkYXkgLSBfc3RhcnRpbmdEYXlPZmZzZXQgJSA3O1xuICAgIHJldHVybiBvZmZzZXQgPCAwID8gb2Zmc2V0ICsgNyA6IG9mZnNldDtcbn1cbmZ1bmN0aW9uIGlzTW9udGhEaXNhYmxlZChkYXRlLCBtaW4sIG1heCkge1xuICAgIGNvbnN0IG1pbkJvdW5kID0gbWluICYmIGlzQmVmb3JlKGVuZE9mKGRhdGUsICdtb250aCcpLCBtaW4sICdkYXknKTtcbiAgICBjb25zdCBtYXhCb3VuZCA9IG1heCAmJiBpc0FmdGVyKHN0YXJ0T2YoZGF0ZSwgJ21vbnRoJyksIG1heCwgJ2RheScpO1xuICAgIHJldHVybiBtaW5Cb3VuZCB8fCBtYXhCb3VuZCB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzWWVhckRpc2FibGVkKGRhdGUsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgbWluQm91bmQgPSBtaW4gJiYgaXNCZWZvcmUoZW5kT2YoZGF0ZSwgJ3llYXInKSwgbWluLCAnZGF5Jyk7XG4gICAgY29uc3QgbWF4Qm91bmQgPSBtYXggJiYgaXNBZnRlcihzdGFydE9mKGRhdGUsICd5ZWFyJyksIG1heCwgJ2RheScpO1xuICAgIHJldHVybiBtaW5Cb3VuZCB8fCBtYXhCb3VuZCB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzRGlzYWJsZWREYXRlKGRhdGUsIGRhdGVzRGlzYWJsZWQsIHVuaXQpIHtcbiAgICBpZiAoIWRhdGVzRGlzYWJsZWQgfHwgIWlzQXJyYXkoZGF0ZXNEaXNhYmxlZCkgfHwgIWRhdGVzRGlzYWJsZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVuaXQgJiYgdW5pdCA9PT0gJ3llYXInICYmICFkYXRlc0Rpc2FibGVkWzBdLmdldERhdGUoKSkge1xuICAgICAgICByZXR1cm4gZGF0ZXNEaXNhYmxlZC5zb21lKChkYXRlRGlzYWJsZWQpID0+IGlzU2FtZShkYXRlLCBkYXRlRGlzYWJsZWQsICd5ZWFyJykpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZXNEaXNhYmxlZC5zb21lKChkYXRlRGlzYWJsZWQpID0+IGlzU2FtZShkYXRlLCBkYXRlRGlzYWJsZWQsICdkYXRlJykpO1xufVxuZnVuY3Rpb24gaXNFbmFibGVkRGF0ZShkYXRlLCBkYXRlc0VuYWJsZWQsIHVuaXQpIHtcbiAgICBpZiAoIWRhdGVzRW5hYmxlZCB8fCAhaXNBcnJheShkYXRlc0VuYWJsZWQpIHx8ICFkYXRlc0VuYWJsZWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFkYXRlc0VuYWJsZWQuc29tZSgoZW5hYmxlZERhdGUpID0+IGlzU2FtZShkYXRlLCBlbmFibGVkRGF0ZSwgdW5pdCB8fCAnZGF0ZScpKTtcbn1cbmZ1bmN0aW9uIGdldFllYXJzQ2FsZW5kYXJJbml0aWFsRGF0ZShzdGF0ZSwgY2FsZW5kYXJJbmRleCA9IDApIHtcbiAgICBjb25zdCBtb2RlbCA9IHN0YXRlICYmIHN0YXRlLnllYXJzQ2FsZW5kYXJNb2RlbCAmJiBzdGF0ZS55ZWFyc0NhbGVuZGFyTW9kZWxbY2FsZW5kYXJJbmRleF07XG4gICAgcmV0dXJuIG1vZGVsPy55ZWFyc1swXSAmJiBtb2RlbC55ZWFyc1swXVswXSAmJiBtb2RlbC55ZWFyc1swXVswXS5kYXRlO1xufVxuZnVuY3Rpb24gY2hlY2tSYW5nZXNXaXRoTWF4RGF0ZShyYW5nZXMsIG1heERhdGUpIHtcbiAgICBpZiAoIXJhbmdlcylcbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICBpZiAoIW1heERhdGUpXG4gICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgaWYgKCFyYW5nZXMubGVuZ3RoICYmICFyYW5nZXNbMF0udmFsdWUpXG4gICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgcmFuZ2VzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKCFpdGVtIHx8ICFpdGVtLnZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICAgICAgaWYgKGl0ZW0udmFsdWUgaW5zdGFuY2VvZiBEYXRlKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICAgICAgaWYgKCEoaXRlbS52YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIGl0ZW0udmFsdWUubGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZXM7XG4gICAgICAgIGl0ZW0udmFsdWUgPSBjb21wYXJlRGF0ZVdpdGhNYXhEYXRlSGVscGVyKGl0ZW0udmFsdWUsIG1heERhdGUpO1xuICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgIH0pO1xuICAgIHJldHVybiByYW5nZXM7XG59XG5mdW5jdGlvbiBjaGVja0JzVmFsdWUoZGF0ZSwgbWF4RGF0ZSkge1xuICAgIGlmICghZGF0ZSlcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgaWYgKCFtYXhEYXRlKVxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICBpZiAoZGF0ZSBpbnN0YW5jZW9mIEFycmF5ICYmICFkYXRlLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKVxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICByZXR1cm4gY29tcGFyZURhdGVXaXRoTWF4RGF0ZUhlbHBlcihkYXRlLCBtYXhEYXRlKTtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVEYXRlV2l0aE1heERhdGVIZWxwZXIoZGF0ZSwgbWF4RGF0ZSkge1xuICAgIGlmIChkYXRlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgY29uc3QgZWRpdGVkVmFsdWVzID0gZGF0ZS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICBpZiAoaXNBZnRlcihpdGVtLCBtYXhEYXRlLCAnZGF0ZScpKVxuICAgICAgICAgICAgICAgIGl0ZW0gPSBtYXhEYXRlO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZWRpdGVkVmFsdWVzO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cbmZ1bmN0aW9uIHNldEN1cnJlbnRUaW1lT25EYXRlU2VsZWN0KHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiBzZXRDdXJyZW50VGltZUhlbHBlcih2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXREYXRlUmFuZ2VzQ3VycmVudFRpbWVPbkRhdGVTZWxlY3QodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlPy5sZW5ndGgpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB2YWx1ZS5tYXAoKGRhdGUpID0+IHtcbiAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0Q3VycmVudFRpbWVIZWxwZXIoZGF0ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudFRpbWVIZWxwZXIoZGF0ZSkge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgZGF0ZS5zZXRNaWxsaXNlY29uZHMobm93LmdldE1pbGxpc2Vjb25kcygpKTtcbiAgICBkYXRlLnNldFNlY29uZHMobm93LmdldFNlY29uZHMoKSk7XG4gICAgZGF0ZS5zZXRNaW51dGVzKG5vdy5nZXRNaW51dGVzKCkpO1xuICAgIGRhdGUuc2V0SG91cnMobm93LmdldEhvdXJzKCkpO1xuICAgIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXRyaXgob3B0aW9ucywgZm4pIHtcbiAgICBsZXQgcHJldlZhbHVlID0gb3B0aW9ucy5pbml0aWFsRGF0ZTtcbiAgICBjb25zdCBtYXRyaXggPSBuZXcgQXJyYXkob3B0aW9ucy5oZWlnaHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5oZWlnaHQ7IGkrKykge1xuICAgICAgICBtYXRyaXhbaV0gPSBuZXcgQXJyYXkob3B0aW9ucy53aWR0aCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3B0aW9ucy53aWR0aDsgaisrKSB7XG4gICAgICAgICAgICBtYXRyaXhbaV1bal0gPSBmbihwcmV2VmFsdWUpO1xuICAgICAgICAgICAgcHJldlZhbHVlID0gc2hpZnREYXRlKHByZXZWYWx1ZSwgb3B0aW9ucy5zaGlmdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdHJpeDtcbn1cblxuLy8gdXNlciBhbmQgbW9kZWwgaW5wdXQgc2hvdWxkIGhhbmRsZSBwYXJzaW5nIGFuZCB2YWxpZGF0aW5nIGlucHV0IHZhbHVlc1xuZnVuY3Rpb24gY2FsY0RheXNDYWxlbmRhcihzdGFydGluZ0RhdGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmaXJzdERheSA9IGdldEZpcnN0RGF5T2ZNb250aChzdGFydGluZ0RhdGUpO1xuICAgIGNvbnN0IGluaXRpYWxEYXRlID0gZ2V0U3RhcnRpbmdEYXlPZkNhbGVuZGFyKGZpcnN0RGF5LCBvcHRpb25zKTtcbiAgICAvLyB0b2RvIHRlc3RcbiAgICBjb25zdCBtYXRyaXhPcHRpb25zID0ge1xuICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCB8fCAwLFxuICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0IHx8IDAsXG4gICAgICAgIGluaXRpYWxEYXRlLFxuICAgICAgICBzaGlmdDogeyBkYXk6IDEgfVxuICAgIH07XG4gICAgY29uc3QgZGF5c01hdHJpeCA9IGNyZWF0ZU1hdHJpeChtYXRyaXhPcHRpb25zLCBkYXRlID0+IGRhdGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRheXNNYXRyaXgsXG4gICAgICAgIG1vbnRoOiBmaXJzdERheVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERheXNDYWxlbmRhcihkYXlzQ2FsZW5kYXIsIGZvcm1hdE9wdGlvbnMsIG1vbnRoSW5kZXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtb250aDogZGF5c0NhbGVuZGFyLm1vbnRoLFxuICAgICAgICBtb250aFRpdGxlOiBmb3JtYXREYXRlKGRheXNDYWxlbmRhci5tb250aCwgZm9ybWF0T3B0aW9ucy5tb250aFRpdGxlLCBmb3JtYXRPcHRpb25zLmxvY2FsZSksXG4gICAgICAgIHllYXJUaXRsZTogZm9ybWF0RGF0ZShkYXlzQ2FsZW5kYXIubW9udGgsIGZvcm1hdE9wdGlvbnMueWVhclRpdGxlLCBmb3JtYXRPcHRpb25zLmxvY2FsZSksXG4gICAgICAgIHdlZWtOdW1iZXJzOiBnZXRXZWVrTnVtYmVycyhkYXlzQ2FsZW5kYXIuZGF5c01hdHJpeCwgZm9ybWF0T3B0aW9ucy53ZWVrTnVtYmVycywgZm9ybWF0T3B0aW9ucy5sb2NhbGUpLFxuICAgICAgICB3ZWVrZGF5czogZ2V0U2hpZnRlZFdlZWtkYXlzKGZvcm1hdE9wdGlvbnMubG9jYWxlKSxcbiAgICAgICAgd2Vla3M6IGRheXNDYWxlbmRhci5kYXlzTWF0cml4Lm1hcCgod2Vlaywgd2Vla0luZGV4KSA9PiAoe1xuICAgICAgICAgICAgZGF5czogd2Vlay5tYXAoKGRhdGUsIGRheUluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0T3B0aW9ucy5kYXlMYWJlbCwgZm9ybWF0T3B0aW9ucy5sb2NhbGUpLFxuICAgICAgICAgICAgICAgIG1vbnRoSW5kZXgsXG4gICAgICAgICAgICAgICAgd2Vla0luZGV4LFxuICAgICAgICAgICAgICAgIGRheUluZGV4XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgfSkpLFxuICAgICAgICBoaWRlTGVmdEFycm93OiBmYWxzZSxcbiAgICAgICAgaGlkZVJpZ2h0QXJyb3c6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlTGVmdEFycm93OiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZVJpZ2h0QXJyb3c6IGZhbHNlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFdlZWtOdW1iZXJzKGRheXNNYXRyaXgsIGZvcm1hdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGRheXNNYXRyaXgubWFwKChkYXlzKSA9PiAoZGF5c1swXSA/IGZvcm1hdERhdGUoZGF5c1swXSwgZm9ybWF0LCBsb2NhbGUpIDogJycpKTtcbn1cbmZ1bmN0aW9uIGdldFNoaWZ0ZWRXZWVrZGF5cyhsb2NhbGUpIHtcbiAgICBjb25zdCBfbG9jYWxlID0gZ2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgY29uc3Qgd2Vla2RheXMgPSBfbG9jYWxlLndlZWtkYXlzU2hvcnQoKTtcbiAgICBjb25zdCBmaXJzdERheU9mV2VlayA9IF9sb2NhbGUuZmlyc3REYXlPZldlZWsoKTtcbiAgICByZXR1cm4gWy4uLndlZWtkYXlzLnNsaWNlKGZpcnN0RGF5T2ZXZWVrKSwgLi4ud2Vla2RheXMuc2xpY2UoMCwgZmlyc3REYXlPZldlZWspXTtcbn1cblxuZnVuY3Rpb24gZmxhZ0RheXNDYWxlbmRhcihmb3JtYXR0ZWRNb250aCwgb3B0aW9ucykge1xuICAgIGZvcm1hdHRlZE1vbnRoLndlZWtzLmZvckVhY2goKHdlZWspID0+IHtcbiAgICAgICAgd2Vlay5kYXlzLmZvckVhY2goKGRheSwgZGF5SW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIGRhdGVwaWNrZXJcbiAgICAgICAgICAgIGNvbnN0IGlzT3RoZXJNb250aCA9ICFpc1NhbWVNb250aChkYXkuZGF0ZSwgZm9ybWF0dGVkTW9udGgubW9udGgpO1xuICAgICAgICAgICAgY29uc3QgaXNIb3ZlcmVkID0gIWlzT3RoZXJNb250aCAmJiBpc1NhbWVEYXkoZGF5LmRhdGUsIG9wdGlvbnMuaG92ZXJlZERhdGUpO1xuICAgICAgICAgICAgLy8gZGF0ZSByYW5nZSBwaWNrZXJcbiAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0aW9uU3RhcnQgPSAhaXNPdGhlck1vbnRoICYmXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zZWxlY3RlZFJhbmdlICYmXG4gICAgICAgICAgICAgICAgaXNTYW1lRGF5KGRheS5kYXRlLCBvcHRpb25zLnNlbGVjdGVkUmFuZ2VbMF0pO1xuICAgICAgICAgICAgY29uc3QgaXNTZWxlY3Rpb25FbmQgPSAhaXNPdGhlck1vbnRoICYmXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zZWxlY3RlZFJhbmdlICYmXG4gICAgICAgICAgICAgICAgaXNTYW1lRGF5KGRheS5kYXRlLCBvcHRpb25zLnNlbGVjdGVkUmFuZ2VbMV0pO1xuICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9ICghaXNPdGhlck1vbnRoICYmIGlzU2FtZURheShkYXkuZGF0ZSwgb3B0aW9ucy5zZWxlY3RlZERhdGUpKSB8fFxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW9uU3RhcnQgfHxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5SYW5nZSA9ICFpc090aGVyTW9udGggJiZcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNlbGVjdGVkUmFuZ2UgJiZcbiAgICAgICAgICAgICAgICBpc0RhdGVJblJhbmdlKGRheS5kYXRlLCBvcHRpb25zLnNlbGVjdGVkUmFuZ2UsIG9wdGlvbnMuaG92ZXJlZERhdGUpO1xuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IG9wdGlvbnMuaXNEaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgIGlzQmVmb3JlKGRheS5kYXRlLCBvcHRpb25zLm1pbkRhdGUsICdkYXknKSB8fFxuICAgICAgICAgICAgICAgIGlzQWZ0ZXIoZGF5LmRhdGUsIG9wdGlvbnMubWF4RGF0ZSwgJ2RheScpIHx8XG4gICAgICAgICAgICAgICAgaXNEaXNhYmxlZERheShkYXkuZGF0ZSwgb3B0aW9ucy5kYXlzRGlzYWJsZWQpIHx8XG4gICAgICAgICAgICAgICAgaXNEaXNhYmxlZERhdGUoZGF5LmRhdGUsIG9wdGlvbnMuZGF0ZXNEaXNhYmxlZCkgfHxcbiAgICAgICAgICAgICAgICBpc0VuYWJsZWREYXRlKGRheS5kYXRlLCBvcHRpb25zLmRhdGVzRW5hYmxlZCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBpc1RvZGF5ID0gIWlzT3RoZXJNb250aCAmJiBpc1NhbWVEYXkoZGF5LmRhdGUsIGN1cnJlbnREYXRlKTtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNsYXNzZXMgPSBvcHRpb25zLmRhdGVDdXN0b21DbGFzc2VzICYmIG9wdGlvbnMuZGF0ZUN1c3RvbUNsYXNzZXNcbiAgICAgICAgICAgICAgICAubWFwKGRjYyA9PiBpc1NhbWVEYXkoZGF5LmRhdGUsIGRjYy5kYXRlKSA/IGRjYy5jbGFzc2VzIDogW10pXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgocHJldmlvdXNWYWx1ZSwgY3VycmVudFZhbHVlKSA9PiBwcmV2aW91c1ZhbHVlLmNvbmNhdChjdXJyZW50VmFsdWUpLCBbXSlcbiAgICAgICAgICAgICAgICAuam9pbignICcpXG4gICAgICAgICAgICAgICAgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwVGV4dCA9IG9wdGlvbnMuZGF0ZVRvb2x0aXBUZXh0cyAmJiBvcHRpb25zLmRhdGVUb29sdGlwVGV4dHNcbiAgICAgICAgICAgICAgICAubWFwKHR0ID0+IGlzU2FtZURheShkYXkuZGF0ZSwgdHQuZGF0ZSkgPyB0dC50b29sdGlwVGV4dCA6ICcnKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWUucHVzaChjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlO1xuICAgICAgICAgICAgfSwgW10pXG4gICAgICAgICAgICAgICAgLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgIHx8ICcnO1xuICAgICAgICAgICAgLy8gZGVjaWRlIHVwZGF0ZSBvciBub3RcbiAgICAgICAgICAgIGNvbnN0IG5ld0RheSA9IE9iamVjdC5hc3NpZ24oe30sIGRheSwge1xuICAgICAgICAgICAgICAgIGlzT3RoZXJNb250aCxcbiAgICAgICAgICAgICAgICBpc0hvdmVyZWQsXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW9uRW5kLFxuICAgICAgICAgICAgICAgIGlzSW5SYW5nZSxcbiAgICAgICAgICAgICAgICBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgIGlzVG9kYXksXG4gICAgICAgICAgICAgICAgY3VzdG9tQ2xhc3NlcyxcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZGF5LmlzT3RoZXJNb250aCAhPT0gbmV3RGF5LmlzT3RoZXJNb250aCB8fFxuICAgICAgICAgICAgICAgIGRheS5pc0hvdmVyZWQgIT09IG5ld0RheS5pc0hvdmVyZWQgfHxcbiAgICAgICAgICAgICAgICBkYXkuaXNTZWxlY3RlZCAhPT0gbmV3RGF5LmlzU2VsZWN0ZWQgfHxcbiAgICAgICAgICAgICAgICBkYXkuaXNTZWxlY3Rpb25TdGFydCAhPT0gbmV3RGF5LmlzU2VsZWN0aW9uU3RhcnQgfHxcbiAgICAgICAgICAgICAgICBkYXkuaXNTZWxlY3Rpb25FbmQgIT09IG5ld0RheS5pc1NlbGVjdGlvbkVuZCB8fFxuICAgICAgICAgICAgICAgIGRheS5pc0Rpc2FibGVkICE9PSBuZXdEYXkuaXNEaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgIGRheS5pc0luUmFuZ2UgIT09IG5ld0RheS5pc0luUmFuZ2UgfHxcbiAgICAgICAgICAgICAgICBkYXkuY3VzdG9tQ2xhc3NlcyAhPT0gbmV3RGF5LmN1c3RvbUNsYXNzZXMgfHxcbiAgICAgICAgICAgICAgICBkYXkudG9vbHRpcFRleHQgIT09IG5ld0RheS50b29sdGlwVGV4dCkge1xuICAgICAgICAgICAgICAgIHdlZWsuZGF5c1tkYXlJbmRleF0gPSBuZXdEYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIHRvZG86IGFkZCBjaGVjayBmb3IgbGlua2VkIGNhbGVuZGFyc1xuICAgIGZvcm1hdHRlZE1vbnRoLmhpZGVMZWZ0QXJyb3cgPVxuICAgICAgICBvcHRpb25zLmlzRGlzYWJsZWQgfHxcbiAgICAgICAgICAgICghIW9wdGlvbnMubW9udGhJbmRleCAmJiBvcHRpb25zLm1vbnRoSW5kZXggPiAwICYmIG9wdGlvbnMubW9udGhJbmRleCAhPT0gb3B0aW9ucy5kaXNwbGF5TW9udGhzKTtcbiAgICBmb3JtYXR0ZWRNb250aC5oaWRlUmlnaHRBcnJvdyA9XG4gICAgICAgIG9wdGlvbnMuaXNEaXNhYmxlZCB8fFxuICAgICAgICAgICAgKCghIW9wdGlvbnMubW9udGhJbmRleCB8fCBvcHRpb25zLm1vbnRoSW5kZXggPT09IDApICYmICEhb3B0aW9ucy5kaXNwbGF5TW9udGhzICYmIG9wdGlvbnMubW9udGhJbmRleCA8IG9wdGlvbnMuZGlzcGxheU1vbnRocyAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbnMubW9udGhJbmRleCArIDEgIT09IG9wdGlvbnMuZGlzcGxheU1vbnRocyk7XG4gICAgZm9ybWF0dGVkTW9udGguZGlzYWJsZUxlZnRBcnJvdyA9IGlzTW9udGhEaXNhYmxlZChzaGlmdERhdGUoZm9ybWF0dGVkTW9udGgubW9udGgsIHsgbW9udGg6IC0xIH0pLCBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSk7XG4gICAgZm9ybWF0dGVkTW9udGguZGlzYWJsZVJpZ2h0QXJyb3cgPSBpc01vbnRoRGlzYWJsZWQoc2hpZnREYXRlKGZvcm1hdHRlZE1vbnRoLm1vbnRoLCB7IG1vbnRoOiAxIH0pLCBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSk7XG4gICAgcmV0dXJuIGZvcm1hdHRlZE1vbnRoO1xufVxuZnVuY3Rpb24gaXNEYXRlSW5SYW5nZShkYXRlLCBzZWxlY3RlZFJhbmdlLCBob3ZlcmVkRGF0ZSkge1xuICAgIGlmICghZGF0ZSB8fCAhc2VsZWN0ZWRSYW5nZSB8fCAhc2VsZWN0ZWRSYW5nZVswXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzZWxlY3RlZFJhbmdlWzFdKSB7XG4gICAgICAgIHJldHVybiBkYXRlID4gc2VsZWN0ZWRSYW5nZVswXSAmJiBkYXRlIDw9IHNlbGVjdGVkUmFuZ2VbMV07XG4gICAgfVxuICAgIGlmIChob3ZlcmVkRGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZSA+IHNlbGVjdGVkUmFuZ2VbMF0gJiYgZGF0ZSA8PSBob3ZlcmVkRGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjYW5Td2l0Y2hNb2RlKG1vZGUsIG1pbk1vZGUpIHtcbiAgICByZXR1cm4gbWluTW9kZSA/IG1vZGUgPj0gbWluTW9kZSA6IHRydWU7XG59XG5cbmNvbnN0IGhlaWdodCQxID0gNDtcbmNvbnN0IHdpZHRoJDEgPSAzO1xuY29uc3Qgc2hpZnQkMSA9IHsgbW9udGg6IDEgfTtcbmZ1bmN0aW9uIGZvcm1hdE1vbnRoc0NhbGVuZGFyKHZpZXdEYXRlLCBmb3JtYXRPcHRpb25zKSB7XG4gICAgY29uc3QgaW5pdGlhbERhdGUgPSBzdGFydE9mKHZpZXdEYXRlLCAneWVhcicpO1xuICAgIGNvbnN0IG1hdHJpeE9wdGlvbnMgPSB7IHdpZHRoOiB3aWR0aCQxLCBoZWlnaHQ6IGhlaWdodCQxLCBpbml0aWFsRGF0ZSwgc2hpZnQ6IHNoaWZ0JDEgfTtcbiAgICBjb25zdCBtb250aE1hdHJpeCA9IGNyZWF0ZU1hdHJpeChtYXRyaXhPcHRpb25zLCBkYXRlID0+ICh7XG4gICAgICAgIGRhdGUsXG4gICAgICAgIGxhYmVsOiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdE9wdGlvbnMubW9udGhMYWJlbCwgZm9ybWF0T3B0aW9ucy5sb2NhbGUpXG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1vbnRoczogbW9udGhNYXRyaXgsXG4gICAgICAgIG1vbnRoVGl0bGU6ICcnLFxuICAgICAgICB5ZWFyVGl0bGU6IGZvcm1hdERhdGUodmlld0RhdGUsIGZvcm1hdE9wdGlvbnMueWVhclRpdGxlLCBmb3JtYXRPcHRpb25zLmxvY2FsZSksXG4gICAgICAgIGhpZGVSaWdodEFycm93OiBmYWxzZSxcbiAgICAgICAgaGlkZUxlZnRBcnJvdzogZmFsc2UsXG4gICAgICAgIGRpc2FibGVSaWdodEFycm93OiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZUxlZnRBcnJvdzogZmFsc2VcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmbGFnTW9udGhzQ2FsZW5kYXIobW9udGhDYWxlbmRhciwgb3B0aW9ucykge1xuICAgIG1vbnRoQ2FsZW5kYXIubW9udGhzLmZvckVhY2goKG1vbnRocywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgbW9udGhzLmZvckVhY2goKG1vbnRoLCBtb250aEluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNTZWxlY3RlZDtcbiAgICAgICAgICAgIGNvbnN0IGlzSG92ZXJlZCA9IGlzU2FtZU1vbnRoKG1vbnRoLmRhdGUsIG9wdGlvbnMuaG92ZXJlZE1vbnRoKTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBvcHRpb25zLmlzRGlzYWJsZWQgfHxcbiAgICAgICAgICAgICAgICBpc0Rpc2FibGVkRGF0ZShtb250aC5kYXRlLCBvcHRpb25zLmRhdGVzRGlzYWJsZWQpIHx8XG4gICAgICAgICAgICAgICAgaXNFbmFibGVkRGF0ZShtb250aC5kYXRlLCBvcHRpb25zLmRhdGVzRW5hYmxlZCwgJ21vbnRoJykgfHxcbiAgICAgICAgICAgICAgICBpc01vbnRoRGlzYWJsZWQobW9udGguZGF0ZSwgb3B0aW9ucy5taW5EYXRlLCBvcHRpb25zLm1heERhdGUpO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnNlbGVjdGVkRGF0ZSAmJiBvcHRpb25zLnNlbGVjdGVkUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gaXNTYW1lTW9udGgobW9udGguZGF0ZSwgb3B0aW9ucy5zZWxlY3RlZFJhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGlzU2FtZU1vbnRoKG1vbnRoLmRhdGUsIG9wdGlvbnMuc2VsZWN0ZWRSYW5nZVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGlzU2FtZU1vbnRoKG1vbnRoLmRhdGUsIG9wdGlvbnMuc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld01vbnRoID0gT2JqZWN0LmFzc2lnbigvKnt9LCovIG1vbnRoLCB7XG4gICAgICAgICAgICAgICAgaXNIb3ZlcmVkLFxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobW9udGguaXNIb3ZlcmVkICE9PSBuZXdNb250aC5pc0hvdmVyZWQgfHxcbiAgICAgICAgICAgICAgICBtb250aC5pc0Rpc2FibGVkICE9PSBuZXdNb250aC5pc0Rpc2FibGVkIHx8XG4gICAgICAgICAgICAgICAgbW9udGguaXNTZWxlY3RlZCAhPT0gbmV3TW9udGguaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIG1vbnRoQ2FsZW5kYXIubW9udGhzW3Jvd0luZGV4XVttb250aEluZGV4XSA9IG5ld01vbnRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyB0b2RvOiBhZGQgY2hlY2sgZm9yIGxpbmtlZCBjYWxlbmRhcnNcbiAgICBtb250aENhbGVuZGFyLmhpZGVMZWZ0QXJyb3cgPVxuICAgICAgICAhIW9wdGlvbnMubW9udGhJbmRleCAmJiBvcHRpb25zLm1vbnRoSW5kZXggPiAwICYmIG9wdGlvbnMubW9udGhJbmRleCAhPT0gb3B0aW9ucy5kaXNwbGF5TW9udGhzO1xuICAgIG1vbnRoQ2FsZW5kYXIuaGlkZVJpZ2h0QXJyb3cgPVxuICAgICAgICAoISFvcHRpb25zLm1vbnRoSW5kZXggfHwgb3B0aW9ucy5tb250aEluZGV4ID09PSAwKVxuICAgICAgICAgICAgJiYgKCEhb3B0aW9ucy5kaXNwbGF5TW9udGhzIHx8IG9wdGlvbnMuZGlzcGxheU1vbnRocyA9PT0gMClcbiAgICAgICAgICAgICYmIG9wdGlvbnMubW9udGhJbmRleCA8IG9wdGlvbnMuZGlzcGxheU1vbnRoc1xuICAgICAgICAgICAgJiYgb3B0aW9ucy5tb250aEluZGV4ICsgMSAhPT0gb3B0aW9ucy5kaXNwbGF5TW9udGhzO1xuICAgIG1vbnRoQ2FsZW5kYXIuZGlzYWJsZUxlZnRBcnJvdyA9IGlzWWVhckRpc2FibGVkKHNoaWZ0RGF0ZShtb250aENhbGVuZGFyLm1vbnRoc1swXVswXS5kYXRlLCB7IHllYXI6IC0xIH0pLCBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSk7XG4gICAgbW9udGhDYWxlbmRhci5kaXNhYmxlUmlnaHRBcnJvdyA9IGlzWWVhckRpc2FibGVkKHNoaWZ0RGF0ZShtb250aENhbGVuZGFyLm1vbnRoc1swXVswXS5kYXRlLCB7IHllYXI6IDEgfSksIG9wdGlvbnMubWluRGF0ZSwgb3B0aW9ucy5tYXhEYXRlKTtcbiAgICByZXR1cm4gbW9udGhDYWxlbmRhcjtcbn1cblxuY29uc3QgaGVpZ2h0ID0gNDtcbmNvbnN0IHdpZHRoID0gNDtcbmNvbnN0IHllYXJzUGVyQ2FsZW5kYXIgPSBoZWlnaHQgKiB3aWR0aDtcbmNvbnN0IGluaXRpYWxZZWFyU2hpZnQgPSAoTWF0aC5mbG9vcih5ZWFyc1BlckNhbGVuZGFyIC8gMikgLSAxKSAqIC0xO1xuY29uc3Qgc2hpZnQgPSB7IHllYXI6IDEgfTtcbmZ1bmN0aW9uIGZvcm1hdFllYXJzQ2FsZW5kYXIodmlld0RhdGUsIGZvcm1hdE9wdGlvbnMsIHByZXZpb3VzSW5pdGlhbERhdGUpIHtcbiAgICBjb25zdCBpbml0aWFsRGF0ZSA9IGNhbGN1bGF0ZUluaXRpYWxEYXRlKHZpZXdEYXRlLCBwcmV2aW91c0luaXRpYWxEYXRlKTtcbiAgICBjb25zdCBtYXRyaXhPcHRpb25zID0geyB3aWR0aCwgaGVpZ2h0LCBpbml0aWFsRGF0ZSwgc2hpZnQgfTtcbiAgICBjb25zdCB5ZWFyc01hdHJpeCA9IGNyZWF0ZU1hdHJpeChtYXRyaXhPcHRpb25zLCBkYXRlID0+ICh7XG4gICAgICAgIGRhdGUsXG4gICAgICAgIGxhYmVsOiBmb3JtYXREYXRlKGRhdGUsIGZvcm1hdE9wdGlvbnMueWVhckxhYmVsLCBmb3JtYXRPcHRpb25zLmxvY2FsZSlcbiAgICB9KSk7XG4gICAgY29uc3QgeWVhclRpdGxlID0gZm9ybWF0WWVhclJhbmdlVGl0bGUoeWVhcnNNYXRyaXgsIGZvcm1hdE9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHllYXJzOiB5ZWFyc01hdHJpeCxcbiAgICAgICAgbW9udGhUaXRsZTogJycsXG4gICAgICAgIHllYXJUaXRsZSxcbiAgICAgICAgaGlkZUxlZnRBcnJvdzogZmFsc2UsXG4gICAgICAgIGhpZGVSaWdodEFycm93OiBmYWxzZSxcbiAgICAgICAgZGlzYWJsZUxlZnRBcnJvdzogZmFsc2UsXG4gICAgICAgIGRpc2FibGVSaWdodEFycm93OiBmYWxzZVxuICAgIH07XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVJbml0aWFsRGF0ZSh2aWV3RGF0ZSwgcHJldmlvdXNJbml0aWFsRGF0ZSkge1xuICAgIGlmIChwcmV2aW91c0luaXRpYWxEYXRlXG4gICAgICAgICYmIHZpZXdEYXRlLmdldEZ1bGxZZWFyKCkgPj0gcHJldmlvdXNJbml0aWFsRGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgICYmIHZpZXdEYXRlLmdldEZ1bGxZZWFyKCkgPCBwcmV2aW91c0luaXRpYWxEYXRlLmdldEZ1bGxZZWFyKCkgKyB5ZWFyc1BlckNhbGVuZGFyKSB7XG4gICAgICAgIHJldHVybiBwcmV2aW91c0luaXRpYWxEYXRlO1xuICAgIH1cbiAgICByZXR1cm4gc2hpZnREYXRlKHZpZXdEYXRlLCB7IHllYXI6IGluaXRpYWxZZWFyU2hpZnQgfSk7XG59XG5mdW5jdGlvbiBmb3JtYXRZZWFyUmFuZ2VUaXRsZSh5ZWFyc01hdHJpeCwgZm9ybWF0T3B0aW9ucykge1xuICAgIGNvbnN0IGZyb20gPSBmb3JtYXREYXRlKHllYXJzTWF0cml4WzBdWzBdLmRhdGUsIGZvcm1hdE9wdGlvbnMueWVhclRpdGxlLCBmb3JtYXRPcHRpb25zLmxvY2FsZSk7XG4gICAgY29uc3QgdG8gPSBmb3JtYXREYXRlKHllYXJzTWF0cml4W2hlaWdodCAtIDFdW3dpZHRoIC0gMV0uZGF0ZSwgZm9ybWF0T3B0aW9ucy55ZWFyVGl0bGUsIGZvcm1hdE9wdGlvbnMubG9jYWxlKTtcbiAgICByZXR1cm4gYCR7ZnJvbX0gLSAke3RvfWA7XG59XG5cbmZ1bmN0aW9uIGZsYWdZZWFyc0NhbGVuZGFyKHllYXJzQ2FsZW5kYXIsIG9wdGlvbnMpIHtcbiAgICB5ZWFyc0NhbGVuZGFyLnllYXJzLmZvckVhY2goKHllYXJzLCByb3dJbmRleCkgPT4ge1xuICAgICAgICB5ZWFycy5mb3JFYWNoKCh5ZWFyLCB5ZWFySW5kZXgpID0+IHtcbiAgICAgICAgICAgIGxldCBpc1NlbGVjdGVkO1xuICAgICAgICAgICAgY29uc3QgaXNIb3ZlcmVkID0gaXNTYW1lWWVhcih5ZWFyLmRhdGUsIG9wdGlvbnMuaG92ZXJlZFllYXIpO1xuICAgICAgICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IG9wdGlvbnMuaXNEaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgIGlzRGlzYWJsZWREYXRlKHllYXIuZGF0ZSwgb3B0aW9ucy5kYXRlc0Rpc2FibGVkLCAneWVhcicpIHx8XG4gICAgICAgICAgICAgICAgaXNFbmFibGVkRGF0ZSh5ZWFyLmRhdGUsIG9wdGlvbnMuZGF0ZXNFbmFibGVkLCAneWVhcicpIHx8XG4gICAgICAgICAgICAgICAgaXNZZWFyRGlzYWJsZWQoeWVhci5kYXRlLCBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuc2VsZWN0ZWREYXRlICYmIG9wdGlvbnMuc2VsZWN0ZWRSYW5nZSkge1xuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBpc1NhbWVZZWFyKHllYXIuZGF0ZSwgb3B0aW9ucy5zZWxlY3RlZFJhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGlzU2FtZVllYXIoeWVhci5kYXRlLCBvcHRpb25zLnNlbGVjdGVkUmFuZ2VbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBpc1NhbWVZZWFyKHllYXIuZGF0ZSwgb3B0aW9ucy5zZWxlY3RlZERhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3TW9udGggPSBPYmplY3QuYXNzaWduKC8qe30sKi8geWVhciwgeyBpc0hvdmVyZWQsIGlzRGlzYWJsZWQsIGlzU2VsZWN0ZWQgfSk7XG4gICAgICAgICAgICBpZiAoeWVhci5pc0hvdmVyZWQgIT09IG5ld01vbnRoLmlzSG92ZXJlZCB8fFxuICAgICAgICAgICAgICAgIHllYXIuaXNEaXNhYmxlZCAhPT0gbmV3TW9udGguaXNEaXNhYmxlZCB8fFxuICAgICAgICAgICAgICAgIHllYXIuaXNTZWxlY3RlZCAhPT0gbmV3TW9udGguaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHllYXJzQ2FsZW5kYXIueWVhcnNbcm93SW5kZXhdW3llYXJJbmRleF0gPSBuZXdNb250aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gdG9kbzogYWRkIGNoZWNrIGZvciBsaW5rZWQgY2FsZW5kYXJzXG4gICAgeWVhcnNDYWxlbmRhci5oaWRlTGVmdEFycm93ID1cbiAgICAgICAgISFvcHRpb25zLnllYXJJbmRleCAmJiBvcHRpb25zLnllYXJJbmRleCA+IDAgJiYgb3B0aW9ucy55ZWFySW5kZXggIT09IG9wdGlvbnMuZGlzcGxheU1vbnRocztcbiAgICB5ZWFyc0NhbGVuZGFyLmhpZGVSaWdodEFycm93ID1cbiAgICAgICAgISFvcHRpb25zLnllYXJJbmRleCAmJiAhIW9wdGlvbnMuZGlzcGxheU1vbnRocyAmJlxuICAgICAgICAgICAgb3B0aW9ucy55ZWFySW5kZXggPCBvcHRpb25zLmRpc3BsYXlNb250aHMgJiZcbiAgICAgICAgICAgIG9wdGlvbnMueWVhckluZGV4ICsgMSAhPT0gb3B0aW9ucy5kaXNwbGF5TW9udGhzO1xuICAgIHllYXJzQ2FsZW5kYXIuZGlzYWJsZUxlZnRBcnJvdyA9IGlzWWVhckRpc2FibGVkKHNoaWZ0RGF0ZSh5ZWFyc0NhbGVuZGFyLnllYXJzWzBdWzBdLmRhdGUsIHsgeWVhcjogLTEgfSksIG9wdGlvbnMubWluRGF0ZSwgb3B0aW9ucy5tYXhEYXRlKTtcbiAgICBjb25zdCBpID0geWVhcnNDYWxlbmRhci55ZWFycy5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGogPSB5ZWFyc0NhbGVuZGFyLnllYXJzW2ldLmxlbmd0aCAtIDE7XG4gICAgeWVhcnNDYWxlbmRhci5kaXNhYmxlUmlnaHRBcnJvdyA9IGlzWWVhckRpc2FibGVkKHNoaWZ0RGF0ZSh5ZWFyc0NhbGVuZGFyLnllYXJzW2ldW2pdLmRhdGUsIHsgeWVhcjogMSB9KSwgb3B0aW9ucy5taW5EYXRlLCBvcHRpb25zLm1heERhdGUpO1xuICAgIHJldHVybiB5ZWFyc0NhbGVuZGFyO1xufVxuXG5mdW5jdGlvbiBjb3B5VGltZShzb3VyY2VEYXRlLCB0aW1lKSB7XG4gICAgaWYgKCFzb3VyY2VEYXRlIHx8ICFpc05hTihzb3VyY2VEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzb3VyY2VEYXRlLnNldEhvdXJzKHRpbWUuZ2V0SG91cnMoKSk7XG4gICAgc291cmNlRGF0ZS5zZXRNaW51dGVzKHRpbWUuZ2V0TWludXRlcygpKTtcbiAgICBzb3VyY2VEYXRlLnNldFNlY29uZHModGltZS5nZXRTZWNvbmRzKCkpO1xuICAgIHNvdXJjZURhdGUuc2V0TWlsbGlzZWNvbmRzKHRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xufVxuXG5mdW5jdGlvbiBic0RhdGVwaWNrZXJSZWR1Y2VyKHN0YXRlID0gaW5pdGlhbERhdGVwaWNrZXJTdGF0ZSwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuQ0FMQ1VMQVRFOiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUmVkdWNlcihzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBCc0RhdGVwaWNrZXJBY3Rpb25zLkZPUk1BVDoge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFJlZHVjZXIoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQnNEYXRlcGlja2VyQWN0aW9ucy5GTEFHOiB7XG4gICAgICAgICAgICByZXR1cm4gZmxhZ1JlZHVjZXIoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQnNEYXRlcGlja2VyQWN0aW9ucy5OQVZJR0FURV9PRkZTRVQ6IHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0ZU9mZnNldFJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBCc0RhdGVwaWNrZXJBY3Rpb25zLk5BVklHQVRFX1RPOiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLnZpZXcgfHwgIXBheWxvYWQudW5pdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBzZXRGdWxsRGF0ZShzdGF0ZS52aWV3LmRhdGUsIHBheWxvYWQudW5pdCk7XG4gICAgICAgICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICAgICAgICBsZXQgbW9kZTtcbiAgICAgICAgICAgIGlmIChjYW5Td2l0Y2hNb2RlKHBheWxvYWQudmlld01vZGUsIHN0YXRlLm1pbk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IHBheWxvYWQudmlld01vZGU7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB7IHZpZXc6IHsgZGF0ZSwgbW9kZSB9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gc3RhdGUudmlldy5tb2RlO1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlID0geyBzZWxlY3RlZERhdGU6IGRhdGUsIHZpZXc6IHsgZGF0ZSwgbW9kZSB9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5ld1N0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuQ0hBTkdFX1ZJRVdNT0RFOiB7XG4gICAgICAgICAgICBpZiAoIWNhblN3aXRjaE1vZGUoYWN0aW9uLnBheWxvYWQsIHN0YXRlLm1pbk1vZGUpIHx8ICFzdGF0ZS52aWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IHN0YXRlLnZpZXcuZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0geyB2aWV3OiB7IGRhdGUsIG1vZGUgfSB9O1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBCc0RhdGVwaWNrZXJBY3Rpb25zLkhPVkVSOiB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgaG92ZXJlZERhdGU6IGFjdGlvbi5wYXlsb2FkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQnNEYXRlcGlja2VyQWN0aW9ucy5TRUxFQ1Q6IHtcbiAgICAgICAgICAgIGlmICghc3RhdGUudmlldykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgdmlldzogc3RhdGUudmlld1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlLnNlbGVjdGVkVGltZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfdGltZSA9IHN0YXRlLnNlbGVjdGVkVGltZVswXTtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUuc2VsZWN0ZWREYXRlICYmIF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlUaW1lKG5ld1N0YXRlLnNlbGVjdGVkRGF0ZSwgX3RpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBzdGF0ZS52aWV3Lm1vZGU7XG4gICAgICAgICAgICBjb25zdCBfZGF0ZSA9IGFjdGlvbi5wYXlsb2FkIHx8IHN0YXRlLnZpZXcuZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXRWaWV3RGF0ZShfZGF0ZSwgc3RhdGUubWluRGF0ZSwgc3RhdGUubWF4RGF0ZSk7XG4gICAgICAgICAgICBuZXdTdGF0ZS52aWV3ID0geyBtb2RlLCBkYXRlIH07XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5ld1N0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VMRUNUX1RJTUU6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0ZSwgaW5kZXggfSA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRUaW1lID0gc3RhdGUuc2VsZWN0ZWRUaW1lID8gWy4uLnN0YXRlLnNlbGVjdGVkVGltZV0gOiBbXTtcbiAgICAgICAgICAgIHNlbGVjdGVkVGltZVtpbmRleF0gPSBkYXRlO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHNlbGVjdGVkVGltZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX09QVElPTlM6IHtcbiAgICAgICAgICAgIGlmICghc3RhdGUudmlldykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgICAgICAvLyBwcmVzZXJ2ZSB2aWV3IG1vZGVcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBuZXdTdGF0ZS5taW5Nb2RlID8gbmV3U3RhdGUubWluTW9kZSA6IHN0YXRlLnZpZXcubW9kZTtcbiAgICAgICAgICAgIGNvbnN0IF92aWV3RGF0ZSA9IGlzRGF0ZVZhbGlkKG5ld1N0YXRlLnZhbHVlKSAmJiBuZXdTdGF0ZS52YWx1ZVxuICAgICAgICAgICAgICAgIHx8IGlzQXJyYXkobmV3U3RhdGUudmFsdWUpICYmIGlzRGF0ZVZhbGlkKG5ld1N0YXRlLnZhbHVlWzBdKSAmJiBuZXdTdGF0ZS52YWx1ZVswXVxuICAgICAgICAgICAgICAgIHx8IHN0YXRlLnZpZXcuZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXRWaWV3RGF0ZShfdmlld0RhdGUsIG5ld1N0YXRlLm1pbkRhdGUsIG5ld1N0YXRlLm1heERhdGUpO1xuICAgICAgICAgICAgbmV3U3RhdGUudmlldyA9IHsgbW9kZSwgZGF0ZSB9O1xuICAgICAgICAgICAgLy8gdXBkYXRlIHNlbGVjdGVkIHZhbHVlXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBuZXcgdmFsdWUgaXMgYXJyYXkgd2Ugd29yayB3aXRoIGRhdGUgcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShuZXdTdGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUuc2VsZWN0ZWRSYW5nZSA9IG5ld1N0YXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZS5zZWxlY3RlZFRpbWUgPSBuZXdTdGF0ZS52YWx1ZS5tYXAoKGkpID0+IGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiBuZXcgdmFsdWUgaXMgYSBkYXRlIC0+IGRhdGVwaWNrZXJcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUudmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkRGF0ZSA9IG5ld1N0YXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZS5zZWxlY3RlZFRpbWUgPSBbbmV3U3RhdGUudmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBwcm92aWRlZCB2YWx1ZSBpcyBub3Qgc3VwcG9ydGVkIDopXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byByZXBvcnQgaXQgc29tZWhvd1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGF0ZSByYW5nZSBwaWNrZXJcbiAgICAgICAgY2FzZSBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFTEVDVF9SQU5HRToge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS52aWV3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSYW5nZTogYWN0aW9uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgdmlldzogc3RhdGUudmlld1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkUmFuZ2U/LmZvckVhY2goKGR0ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdGF0ZS5zZWxlY3RlZFRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IF90aW1lID0gc3RhdGUuc2VsZWN0ZWRUaW1lW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5VGltZShkdGUsIF90aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbW9kZSA9IHN0YXRlLnZpZXcubW9kZTtcbiAgICAgICAgICAgIGNvbnN0IF9kYXRlID0gYWN0aW9uLnBheWxvYWQgJiYgYWN0aW9uLnBheWxvYWRbMF0gfHwgc3RhdGUudmlldy5kYXRlO1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGdldFZpZXdEYXRlKF9kYXRlLCBzdGF0ZS5taW5EYXRlLCBzdGF0ZS5tYXhEYXRlKTtcbiAgICAgICAgICAgIG5ld1N0YXRlLnZpZXcgPSB7IG1vZGUsIGRhdGUgfTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgbmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfTUlOX0RBVEU6IHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgIG1pbkRhdGU6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX01BWF9EQVRFOiB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgICAgICBtYXhEYXRlOiBhY3Rpb24ucGF5bG9hZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBCc0RhdGVwaWNrZXJBY3Rpb25zLlNFVF9JU19ESVNBQkxFRDoge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgaXNEaXNhYmxlZDogYWN0aW9uLnBheWxvYWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQnNEYXRlcGlja2VyQWN0aW9ucy5TRVRfREFURV9DVVNUT01fQ0xBU1NFUzoge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgZGF0ZUN1c3RvbUNsYXNzZXM6IGFjdGlvbi5wYXlsb2FkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEJzRGF0ZXBpY2tlckFjdGlvbnMuU0VUX0RBVEVfVE9PTFRJUF9URVhUUzoge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICAgICAgICAgICAgZGF0ZVRvb2x0aXBUZXh0czogYWN0aW9uLnBheWxvYWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlUmVkdWNlcihzdGF0ZSkge1xuICAgIGlmICghc3RhdGUudmlldykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIC8vIGhvdyBtYW55IGNhbGVuZGFyc1xuICAgIGxldCBkaXNwbGF5TW9udGhzO1xuICAgIGlmIChzdGF0ZS5kaXNwbGF5T25lTW9udGhSYW5nZSAmJlxuICAgICAgICBpc0Rpc3BsYXlPbmVNb250aChzdGF0ZS52aWV3LmRhdGUsIHN0YXRlLm1pbkRhdGUsIHN0YXRlLm1heERhdGUpKSB7XG4gICAgICAgIGRpc3BsYXlNb250aHMgPSAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGlzcGxheU1vbnRocyA9IHN0YXRlLmRpc3BsYXlNb250aHMgfHwgMTtcbiAgICB9XG4gICAgLy8gdXNlIHNlbGVjdGVkIGRhdGUgb24gaW5pdGlhbCByZW5kZXJpbmcgaWYgc2V0XG4gICAgbGV0IHZpZXdEYXRlID0gc3RhdGUudmlldy5kYXRlO1xuICAgIGlmIChzdGF0ZS52aWV3Lm1vZGUgPT09ICdkYXknICYmIHN0YXRlLm1vbnRoVmlld09wdGlvbnMpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNob3dQcmV2aW91c01vbnRoICYmIHN0YXRlLnNlbGVjdGVkUmFuZ2UgJiYgc3RhdGUuc2VsZWN0ZWRSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZpZXdEYXRlID0gc2hpZnREYXRlKHZpZXdEYXRlLCB7IG1vbnRoOiAtMSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5tb250aFZpZXdPcHRpb25zLmZpcnN0RGF5T2ZXZWVrID0gZ2V0TG9jYWxlKHN0YXRlLmxvY2FsZSkuZmlyc3REYXlPZldlZWsoKTtcbiAgICAgICAgbGV0IG1vbnRoc01vZGVsID0gbmV3IEFycmF5KGRpc3BsYXlNb250aHMpO1xuICAgICAgICBmb3IgKGxldCBtb250aEluZGV4ID0gMDsgbW9udGhJbmRleCA8IGRpc3BsYXlNb250aHM7IG1vbnRoSW5kZXgrKykge1xuICAgICAgICAgICAgLy8gdG9kbzogZm9yIHVubGlua2VkIGNhbGVuZGFycyBpdCB3aWxsIGJlIGhhcmRlclxuICAgICAgICAgICAgbW9udGhzTW9kZWxbbW9udGhJbmRleF0gPSBjYWxjRGF5c0NhbGVuZGFyKHZpZXdEYXRlLCBzdGF0ZS5tb250aFZpZXdPcHRpb25zKTtcbiAgICAgICAgICAgIHZpZXdEYXRlID0gc2hpZnREYXRlKHZpZXdEYXRlLCB7IG1vbnRoOiAxIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHBhcmFtZXRlciBlbmFibGVkIGFuZCBjaGVjayBpZiBpdCdzIG5vdCBtb250aHMgbmF2aWdhdGlvbiBldmVudFxuICAgICAgICBpZiAoc3RhdGUucHJldmVudENoYW5nZVRvTmV4dE1vbnRoICYmIHN0YXRlLmZsYWdnZWRNb250aHMgJiYgc3RhdGUuaG92ZXJlZERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdNb250aCA9IGNhbGNEYXlzQ2FsZW5kYXIoc3RhdGUudmlldy5kYXRlLCBzdGF0ZS5tb250aFZpZXdPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHZpZXdlZCByaWdodCBtb250aCBzYW1lIGFzIGluIGZsYWdnZWRNb250aHMgc3RhdGUsIHRoZW4gb3ZlcnJpZGUgbW9udGhzIG1vZGVsIHdpdGggZmxhZ2dlZE1vbnRoc1xuICAgICAgICAgICAgaWYgKHN0YXRlLmZsYWdnZWRNb250aHMubGVuZ3RoICYmIHN0YXRlLmZsYWdnZWRNb250aHNbMV0ubW9udGguZ2V0TW9udGgoKSA9PT0gdmlld01vbnRoLm1vbnRoLmdldE1vbnRoKCkpIHtcbiAgICAgICAgICAgICAgICBtb250aHNNb2RlbCA9IHN0YXRlLmZsYWdnZWRNb250aHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLm1vbnRoVmlld09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxjRGF5c0NhbGVuZGFyKGl0ZW0ubW9udGgsIHN0YXRlLm1vbnRoVmlld09wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbW9udGhzTW9kZWwgfSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS52aWV3Lm1vZGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgY29uc3QgbW9udGhzQ2FsZW5kYXIgPSBuZXcgQXJyYXkoZGlzcGxheU1vbnRocyk7XG4gICAgICAgIGZvciAobGV0IGNhbGVuZGFySW5kZXggPSAwOyBjYWxlbmRhckluZGV4IDwgZGlzcGxheU1vbnRoczsgY2FsZW5kYXJJbmRleCsrKSB7XG4gICAgICAgICAgICAvLyB0b2RvOiBmb3IgdW5saW5rZWQgY2FsZW5kYXJzIGl0IHdpbGwgYmUgaGFyZGVyXG4gICAgICAgICAgICBtb250aHNDYWxlbmRhcltjYWxlbmRhckluZGV4XSA9IGZvcm1hdE1vbnRoc0NhbGVuZGFyKHZpZXdEYXRlLCBnZXRGb3JtYXRPcHRpb25zKHN0YXRlKSk7XG4gICAgICAgICAgICB2aWV3RGF0ZSA9IHNoaWZ0RGF0ZSh2aWV3RGF0ZSwgeyB5ZWFyOiAxIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBtb250aHNDYWxlbmRhciB9KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnZpZXcubW9kZSA9PT0gJ3llYXInKSB7XG4gICAgICAgIGNvbnN0IHllYXJzQ2FsZW5kYXJNb2RlbCA9IG5ldyBBcnJheShkaXNwbGF5TW9udGhzKTtcbiAgICAgICAgZm9yIChsZXQgY2FsZW5kYXJJbmRleCA9IDA7IGNhbGVuZGFySW5kZXggPCBkaXNwbGF5TW9udGhzOyBjYWxlbmRhckluZGV4KyspIHtcbiAgICAgICAgICAgIC8vIHRvZG86IGZvciB1bmxpbmtlZCBjYWxlbmRhcnMgaXQgd2lsbCBiZSBoYXJkZXJcbiAgICAgICAgICAgIHllYXJzQ2FsZW5kYXJNb2RlbFtjYWxlbmRhckluZGV4XSA9IGZvcm1hdFllYXJzQ2FsZW5kYXIodmlld0RhdGUsIGdldEZvcm1hdE9wdGlvbnMoc3RhdGUpLCBzdGF0ZS5taW5Nb2RlID09PSAneWVhcicgPyBnZXRZZWFyc0NhbGVuZGFySW5pdGlhbERhdGUoc3RhdGUsIGNhbGVuZGFySW5kZXgpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZpZXdEYXRlID0gc2hpZnREYXRlKHZpZXdEYXRlLCB7IHllYXI6IHllYXJzUGVyQ2FsZW5kYXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHllYXJzQ2FsZW5kYXJNb2RlbCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gZm9ybWF0UmVkdWNlcihzdGF0ZSkge1xuICAgIGlmICghc3RhdGUudmlldykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChzdGF0ZS52aWV3Lm1vZGUgPT09ICdkYXknICYmIHN0YXRlLm1vbnRoc01vZGVsKSB7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZE1vbnRocyA9IHN0YXRlLm1vbnRoc01vZGVsLm1hcCgobW9udGgsIG1vbnRoSW5kZXgpID0+IGZvcm1hdERheXNDYWxlbmRhcihtb250aCwgZ2V0Rm9ybWF0T3B0aW9ucyhzdGF0ZSksIG1vbnRoSW5kZXgpKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IGZvcm1hdHRlZE1vbnRocyB9KTtcbiAgICB9XG4gICAgLy8gaG93IG1hbnkgY2FsZW5kYXJzXG4gICAgY29uc3QgZGlzcGxheU1vbnRocyA9IHN0YXRlLmRpc3BsYXlNb250aHMgfHwgMTtcbiAgICAvLyBjaGVjayBpbml0aWFsIHJlbmRlcmluZ1xuICAgIC8vIHVzZSBzZWxlY3RlZCBkYXRlIG9uIGluaXRpYWwgcmVuZGVyaW5nIGlmIHNldFxuICAgIGxldCB2aWV3RGF0ZSA9IHN0YXRlLnZpZXcuZGF0ZTtcbiAgICBpZiAoc3RhdGUudmlldy5tb2RlID09PSAnbW9udGgnKSB7XG4gICAgICAgIGNvbnN0IG1vbnRoc0NhbGVuZGFyID0gbmV3IEFycmF5KGRpc3BsYXlNb250aHMpO1xuICAgICAgICBmb3IgKGxldCBjYWxlbmRhckluZGV4ID0gMDsgY2FsZW5kYXJJbmRleCA8IGRpc3BsYXlNb250aHM7IGNhbGVuZGFySW5kZXgrKykge1xuICAgICAgICAgICAgLy8gdG9kbzogZm9yIHVubGlua2VkIGNhbGVuZGFycyBpdCB3aWxsIGJlIGhhcmRlclxuICAgICAgICAgICAgbW9udGhzQ2FsZW5kYXJbY2FsZW5kYXJJbmRleF0gPSBmb3JtYXRNb250aHNDYWxlbmRhcih2aWV3RGF0ZSwgZ2V0Rm9ybWF0T3B0aW9ucyhzdGF0ZSkpO1xuICAgICAgICAgICAgdmlld0RhdGUgPSBzaGlmdERhdGUodmlld0RhdGUsIHsgeWVhcjogMSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbW9udGhzQ2FsZW5kYXIgfSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS52aWV3Lm1vZGUgPT09ICd5ZWFyJykge1xuICAgICAgICBjb25zdCB5ZWFyc0NhbGVuZGFyTW9kZWwgPSBuZXcgQXJyYXkoZGlzcGxheU1vbnRocyk7XG4gICAgICAgIGZvciAobGV0IGNhbGVuZGFySW5kZXggPSAwOyBjYWxlbmRhckluZGV4IDwgZGlzcGxheU1vbnRoczsgY2FsZW5kYXJJbmRleCsrKSB7XG4gICAgICAgICAgICAvLyB0b2RvOiBmb3IgdW5saW5rZWQgY2FsZW5kYXJzIGl0IHdpbGwgYmUgaGFyZGVyXG4gICAgICAgICAgICB5ZWFyc0NhbGVuZGFyTW9kZWxbY2FsZW5kYXJJbmRleF0gPSBmb3JtYXRZZWFyc0NhbGVuZGFyKHZpZXdEYXRlLCBnZXRGb3JtYXRPcHRpb25zKHN0YXRlKSk7XG4gICAgICAgICAgICB2aWV3RGF0ZSA9IHNoaWZ0RGF0ZSh2aWV3RGF0ZSwgeyB5ZWFyOiAxNiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgeWVhcnNDYWxlbmRhck1vZGVsIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiBmbGFnUmVkdWNlcihzdGF0ZSkge1xuICAgIGlmICghc3RhdGUudmlldykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IGRpc3BsYXlNb250aHMgPSBpc0Rpc3BsYXlPbmVNb250aChzdGF0ZS52aWV3LmRhdGUsIHN0YXRlLm1pbkRhdGUsIHN0YXRlLm1heERhdGUpID8gMSA6IHN0YXRlLmRpc3BsYXlNb250aHM7XG4gICAgaWYgKHN0YXRlLmZvcm1hdHRlZE1vbnRocyAmJiBzdGF0ZS52aWV3Lm1vZGUgPT09ICdkYXknKSB7XG4gICAgICAgIGNvbnN0IGZsYWdnZWRNb250aHMgPSBzdGF0ZS5mb3JtYXR0ZWRNb250aHMubWFwKChmb3JtYXR0ZWRNb250aCwgbW9udGhJbmRleCkgPT4gZmxhZ0RheXNDYWxlbmRhcihmb3JtYXR0ZWRNb250aCwge1xuICAgICAgICAgICAgaXNEaXNhYmxlZDogc3RhdGUuaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIG1pbkRhdGU6IHN0YXRlLm1pbkRhdGUsXG4gICAgICAgICAgICBtYXhEYXRlOiBzdGF0ZS5tYXhEYXRlLFxuICAgICAgICAgICAgZGF5c0Rpc2FibGVkOiBzdGF0ZS5kYXlzRGlzYWJsZWQsXG4gICAgICAgICAgICBkYXRlc0Rpc2FibGVkOiBzdGF0ZS5kYXRlc0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZXNFbmFibGVkOiBzdGF0ZS5kYXRlc0VuYWJsZWQsXG4gICAgICAgICAgICBob3ZlcmVkRGF0ZTogc3RhdGUuaG92ZXJlZERhdGUsXG4gICAgICAgICAgICBzZWxlY3RlZERhdGU6IHN0YXRlLnNlbGVjdGVkRGF0ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkUmFuZ2U6IHN0YXRlLnNlbGVjdGVkUmFuZ2UsXG4gICAgICAgICAgICBkaXNwbGF5TW9udGhzLFxuICAgICAgICAgICAgZGF0ZUN1c3RvbUNsYXNzZXM6IHN0YXRlLmRhdGVDdXN0b21DbGFzc2VzLFxuICAgICAgICAgICAgZGF0ZVRvb2x0aXBUZXh0czogc3RhdGUuZGF0ZVRvb2x0aXBUZXh0cyxcbiAgICAgICAgICAgIG1vbnRoSW5kZXhcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgZmxhZ2dlZE1vbnRocyB9KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnZpZXcubW9kZSA9PT0gJ21vbnRoJyAmJiBzdGF0ZS5tb250aHNDYWxlbmRhcikge1xuICAgICAgICBjb25zdCBmbGFnZ2VkTW9udGhzQ2FsZW5kYXIgPSBzdGF0ZS5tb250aHNDYWxlbmRhci5tYXAoKGZvcm1hdHRlZE1vbnRoLCBtb250aEluZGV4KSA9PiBmbGFnTW9udGhzQ2FsZW5kYXIoZm9ybWF0dGVkTW9udGgsIHtcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IHN0YXRlLmlzRGlzYWJsZWQsXG4gICAgICAgICAgICBtaW5EYXRlOiBzdGF0ZS5taW5EYXRlLFxuICAgICAgICAgICAgbWF4RGF0ZTogc3RhdGUubWF4RGF0ZSxcbiAgICAgICAgICAgIGhvdmVyZWRNb250aDogc3RhdGUuaG92ZXJlZE1vbnRoLFxuICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBzdGF0ZS5zZWxlY3RlZERhdGUsXG4gICAgICAgICAgICBkYXRlc0Rpc2FibGVkOiBzdGF0ZS5kYXRlc0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZXNFbmFibGVkOiBzdGF0ZS5kYXRlc0VuYWJsZWQsXG4gICAgICAgICAgICBzZWxlY3RlZFJhbmdlOiBzdGF0ZS5zZWxlY3RlZFJhbmdlLFxuICAgICAgICAgICAgZGlzcGxheU1vbnRocyxcbiAgICAgICAgICAgIG1vbnRoSW5kZXhcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgZmxhZ2dlZE1vbnRoc0NhbGVuZGFyIH0pO1xuICAgIH1cbiAgICBpZiAoc3RhdGUudmlldy5tb2RlID09PSAneWVhcicgJiYgc3RhdGUueWVhcnNDYWxlbmRhck1vZGVsKSB7XG4gICAgICAgIGNvbnN0IHllYXJzQ2FsZW5kYXJGbGFnZ2VkID0gc3RhdGUueWVhcnNDYWxlbmRhck1vZGVsLm1hcCgoZm9ybWF0dGVkTW9udGgsIHllYXJJbmRleCkgPT4gZmxhZ1llYXJzQ2FsZW5kYXIoZm9ybWF0dGVkTW9udGgsIHtcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IHN0YXRlLmlzRGlzYWJsZWQsXG4gICAgICAgICAgICBtaW5EYXRlOiBzdGF0ZS5taW5EYXRlLFxuICAgICAgICAgICAgbWF4RGF0ZTogc3RhdGUubWF4RGF0ZSxcbiAgICAgICAgICAgIGhvdmVyZWRZZWFyOiBzdGF0ZS5ob3ZlcmVkWWVhcixcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0ZTogc3RhdGUuc2VsZWN0ZWREYXRlLFxuICAgICAgICAgICAgZGF0ZXNEaXNhYmxlZDogc3RhdGUuZGF0ZXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGRhdGVzRW5hYmxlZDogc3RhdGUuZGF0ZXNFbmFibGVkLFxuICAgICAgICAgICAgc2VsZWN0ZWRSYW5nZTogc3RhdGUuc2VsZWN0ZWRSYW5nZSxcbiAgICAgICAgICAgIGRpc3BsYXlNb250aHMsXG4gICAgICAgICAgICB5ZWFySW5kZXhcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgeWVhcnNDYWxlbmRhckZsYWdnZWQgfSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIG5hdmlnYXRlT2Zmc2V0UmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKCFzdGF0ZS52aWV3KSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3QgZGF0ZSA9IHNoaWZ0Vmlld0RhdGUoc3RhdGUsIGFjdGlvbik7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7XG4gICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAgIG1vZGU6IHN0YXRlLnZpZXcubW9kZSxcbiAgICAgICAgICAgIGRhdGVcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXdTdGF0ZSk7XG59XG5mdW5jdGlvbiBzaGlmdFZpZXdEYXRlKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoIXN0YXRlLnZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnZpZXcubW9kZSA9PT0gJ3llYXInICYmIHN0YXRlLm1pbk1vZGUgPT09ICd5ZWFyJykge1xuICAgICAgICBjb25zdCBpbml0aWFsRGF0ZSA9IGdldFllYXJzQ2FsZW5kYXJJbml0aWFsRGF0ZShzdGF0ZSwgMCk7XG4gICAgICAgIGlmIChpbml0aWFsRGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbWlkZGxlRGF0ZSA9IHNoaWZ0RGF0ZShpbml0aWFsRGF0ZSwgeyB5ZWFyOiAtaW5pdGlhbFllYXJTaGlmdCB9KTtcbiAgICAgICAgICAgIHJldHVybiBzaGlmdERhdGUobWlkZGxlRGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaGlmdERhdGUoc3RhcnRPZihzdGF0ZS52aWV3LmRhdGUsICdtb250aCcpLCBhY3Rpb24ucGF5bG9hZCk7XG59XG5mdW5jdGlvbiBnZXRGb3JtYXRPcHRpb25zKHN0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxlOiBzdGF0ZS5sb2NhbGUsXG4gICAgICAgIG1vbnRoVGl0bGU6IHN0YXRlLm1vbnRoVGl0bGUsXG4gICAgICAgIHllYXJUaXRsZTogc3RhdGUueWVhclRpdGxlLFxuICAgICAgICBkYXlMYWJlbDogc3RhdGUuZGF5TGFiZWwsXG4gICAgICAgIG1vbnRoTGFiZWw6IHN0YXRlLm1vbnRoTGFiZWwsXG4gICAgICAgIHllYXJMYWJlbDogc3RhdGUueWVhckxhYmVsLFxuICAgICAgICB3ZWVrTnVtYmVyczogc3RhdGUud2Vla051bWJlcnNcbiAgICB9O1xufVxuLyoqXG4gKiBpZiB2aWV3IGRhdGUgaXMgcHJvdmlkZWQgKGJzVmFsdWV8bmdNb2RlbCkgaXQgc2hvdWxkIGJlIHNob3duXG4gKiBpZiB2aWV3IGRhdGUgaXMgbm90IHByb3ZpZGVyOlxuICogaWYgbWluRGF0ZT5jdXJyZW50RGF0ZSAoZGVmYXVsdCB2aWV3IHZhbHVlKSwgc2hvdyBtaW5EYXRlXG4gKiBpZiBtYXhEYXRlPGN1cnJlbnREYXRlKGRlZmF1bHQgdmlldyB2YWx1ZSkgc2hvdyBtYXhEYXRlXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdEYXRlKHZpZXdEYXRlLCBtaW5EYXRlLCBtYXhEYXRlKSB7XG4gICAgY29uc3QgX2RhdGUgPSBBcnJheS5pc0FycmF5KHZpZXdEYXRlKSA/IHZpZXdEYXRlWzBdIDogdmlld0RhdGU7XG4gICAgaWYgKG1pbkRhdGUgJiYgaXNBZnRlcihtaW5EYXRlLCBfZGF0ZSwgJ2RheScpKSB7XG4gICAgICAgIHJldHVybiBtaW5EYXRlO1xuICAgIH1cbiAgICBpZiAobWF4RGF0ZSAmJiBpc0JlZm9yZShtYXhEYXRlLCBfZGF0ZSwgJ2RheScpKSB7XG4gICAgICAgIHJldHVybiBtYXhEYXRlO1xuICAgIH1cbiAgICByZXR1cm4gX2RhdGU7XG59XG5mdW5jdGlvbiBpc0Rpc3BsYXlPbmVNb250aCh2aWV3RGF0ZSwgbWluRGF0ZSwgbWF4RGF0ZSkge1xuICAgIGlmIChtYXhEYXRlICYmIGlzU2FtZShtYXhEYXRlLCB2aWV3RGF0ZSwgJ2RheScpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbWluRGF0ZSAmJiBtYXhEYXRlICYmIG1pbkRhdGUuZ2V0TW9udGgoKSA9PT0gbWF4RGF0ZS5nZXRNb250aCgpO1xufVxuXG5jbGFzcyBCc0RhdGVwaWNrZXJTdG9yZSBleHRlbmRzIE1pbmlTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IF9kaXNwYXRjaGVyID0gbmV3IEJlaGF2aW9yU3ViamVjdCh7XG4gICAgICAgICAgICB0eXBlOiAnW2RhdGVwaWNrZXJdIGRpc3BhdGNoZXIgaW5pdCdcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbmV3IE1pbmlTdGF0ZShpbml0aWFsRGF0ZXBpY2tlclN0YXRlLCBfZGlzcGF0Y2hlciwgYnNEYXRlcGlja2VyUmVkdWNlcik7XG4gICAgICAgIHN1cGVyKF9kaXNwYXRjaGVyLCBic0RhdGVwaWNrZXJSZWR1Y2VyLCBzdGF0ZSk7XG4gICAgfVxufVxuQnNEYXRlcGlja2VyU3RvcmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyU3RvcmUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVwaWNrZXJTdG9yZS7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyU3RvcmUsIHByb3ZpZGVkSW46ICdwbGF0Zm9ybScgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyU3RvcmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3sgcHJvdmlkZWRJbjogJ3BsYXRmb3JtJyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9IH0pO1xuXG5jbGFzcyBCc0N1c3RvbURhdGVzVmlld0NvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25TZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIHNlbGVjdEZyb21SYW5nZXMocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5vblNlbGVjdC5lbWl0KHJhbmdlKTtcbiAgICB9XG59XG5Cc0N1c3RvbURhdGVzVmlld0NvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0N1c3RvbURhdGVzVmlld0NvbXBvbmVudCwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1c3RvbS1kYXRlLXZpZXdcIiwgaW5wdXRzOiB7IHJhbmdlczogXCJyYW5nZXNcIiwgc2VsZWN0ZWRSYW5nZTogXCJzZWxlY3RlZFJhbmdlXCIsIGN1c3RvbVJhbmdlTGFiZWw6IFwiY3VzdG9tUmFuZ2VMYWJlbFwiIH0sIG91dHB1dHM6IHsgb25TZWxlY3Q6IFwib25TZWxlY3RcIiB9LCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgXG4gICAgPGRpdiBjbGFzcz1cImJzLWRhdGVwaWNrZXItcHJlZGVmaW5lZC1idG5zXCI+XG4gICAgICA8YnV0dG9uICpuZ0Zvcj1cImxldCByYW5nZSBvZiByYW5nZXNcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgY2xhc3M9XCJidG5cIlxuICAgICAgICAoY2xpY2spPVwic2VsZWN0RnJvbVJhbmdlcyhyYW5nZSlcIlxuICAgICAgICBbY2xhc3Muc2VsZWN0ZWRdPVwicmFuZ2UudmFsdWUgPT09IHNlbGVjdGVkUmFuZ2VcIj5cbiAgICAgICAge3sgcmFuZ2UubGFiZWwgfX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICBgLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ0Zvck9mLCBzZWxlY3RvcjogXCJbbmdGb3JdW25nRm9yT2ZdXCIsIGlucHV0czogW1wibmdGb3JPZlwiLCBcIm5nRm9yVHJhY2tCeVwiLCBcIm5nRm9yVGVtcGxhdGVcIl0gfV0sIGNoYW5nZURldGVjdGlvbjogaTAuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzQ3VzdG9tRGF0ZXNWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdicy1jdXN0b20tZGF0ZS12aWV3JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2IGNsYXNzPVwiYnMtZGF0ZXBpY2tlci1wcmVkZWZpbmVkLWJ0bnNcIj5cbiAgICAgIDxidXR0b24gKm5nRm9yPVwibGV0IHJhbmdlIG9mIHJhbmdlc1wiXG4gICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICBjbGFzcz1cImJ0blwiXG4gICAgICAgIChjbGljayk9XCJzZWxlY3RGcm9tUmFuZ2VzKHJhbmdlKVwiXG4gICAgICAgIFtjbGFzcy5zZWxlY3RlZF09XCJyYW5nZS52YWx1ZSA9PT0gc2VsZWN0ZWRSYW5nZVwiPlxuICAgICAgICB7eyByYW5nZS5sYWJlbCB9fVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIGAsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIHByb3BEZWNvcmF0b3JzOiB7IHJhbmdlczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHNlbGVjdGVkUmFuZ2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBjdXN0b21SYW5nZUxhYmVsOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb25TZWxlY3Q6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG4vKiogKioqKioqKioqKioqKioqICovXG4vLyBldmVudHNcbi8qKiAqKioqKioqKioqKioqKiogKi9cbnZhciBCc05hdmlnYXRpb25EaXJlY3Rpb247XG4oZnVuY3Rpb24gKEJzTmF2aWdhdGlvbkRpcmVjdGlvbikge1xuICAgIEJzTmF2aWdhdGlvbkRpcmVjdGlvbltCc05hdmlnYXRpb25EaXJlY3Rpb25bXCJVUFwiXSA9IDBdID0gXCJVUFwiO1xuICAgIEJzTmF2aWdhdGlvbkRpcmVjdGlvbltCc05hdmlnYXRpb25EaXJlY3Rpb25bXCJET1dOXCJdID0gMV0gPSBcIkRPV05cIjtcbn0pKEJzTmF2aWdhdGlvbkRpcmVjdGlvbiB8fCAoQnNOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge30pKTtcblxuY2xhc3MgQnNDdXJyZW50RGF0ZVZpZXdDb21wb25lbnQge1xufVxuQnNDdXJyZW50RGF0ZVZpZXdDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNDdXJyZW50RGF0ZVZpZXdDb21wb25lbnQsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkJzQ3VycmVudERhdGVWaWV3Q29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzQ3VycmVudERhdGVWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1jdXJyZW50LWRhdGVcIiwgaW5wdXRzOiB7IHRpdGxlOiBcInRpdGxlXCIgfSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJjdXJyZW50LXRpbWVkYXRlXCI+PHNwYW4+e3sgdGl0bGUgfX08L3NwYW4+PC9kaXY+YCwgaXNJbmxpbmU6IHRydWUgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNDdXJyZW50RGF0ZVZpZXdDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2JzLWN1cnJlbnQtZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cImN1cnJlbnQtdGltZWRhdGVcIj48c3Bhbj57eyB0aXRsZSB9fTwvc3Bhbj48L2Rpdj5gXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIHByb3BEZWNvcmF0b3JzOiB7IHRpdGxlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBCc1RpbWVwaWNrZXJWaWV3Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbXBtID0gJ29rJztcbiAgICAgICAgdGhpcy5ob3VycyA9IDA7XG4gICAgICAgIHRoaXMubWludXRlcyA9IDA7XG4gICAgfVxufVxuQnNUaW1lcGlja2VyVmlld0NvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc1RpbWVwaWNrZXJWaWV3Q29tcG9uZW50LCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5Cc1RpbWVwaWNrZXJWaWV3Q29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzVGltZXBpY2tlclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLXRpbWVwaWNrZXJcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgY2xhc3M9XCJicy10aW1lcGlja2VyLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImJzLXRpbWVwaWNrZXItY29udHJvbHNcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJzLWRlY3JlYXNlXCIgdHlwZT1cImJ1dHRvblwiPi08L2J1dHRvbj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgW3ZhbHVlXT1cImhvdXJzXCIgcGxhY2Vob2xkZXI9XCIwMFwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnMtaW5jcmVhc2VcIiB0eXBlPVwiYnV0dG9uXCI+KzwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYnMtdGltZXBpY2tlci1jb250cm9sc1wiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnMtZGVjcmVhc2VcIiB0eXBlPVwiYnV0dG9uXCI+LTwvYnV0dG9uPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBbdmFsdWVdPVwibWludXRlc1wiIHBsYWNlaG9sZGVyPVwiMDBcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJzLWluY3JlYXNlXCIgdHlwZT1cImJ1dHRvblwiPis8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cInN3aXRjaC10aW1lLWZvcm1hdFwiIHR5cGU9XCJidXR0b25cIj57eyBhbXBtIH19XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFzQUFBQUtDQVlBQUFCaThLU0RBQUFCU0VsRVFWUVlWM1hRUFV2RFVCUUc0SE51YWd0VnFjNktnb3VDdjZHSXVJbnRZQkxCOWhjSVFwTFN0Q0FJVjdEWW1wVGNSV2NYcVppbzNWd2MvVUNjL1FFcWZneUtHYnIwSTduUzFFaUhlcVl6UE8vaDVTRDBqYXhVWmptU0xDQitPRmIrVUZJTkZ3QVNBRUFkcHU5Z2FHWFZ5QUhIRlFCa0hwS0hjNmE5ZHpFQ3ZBRHlZOXNxbEFNc0s5VzBqenhEWHFleXRyM21oUWNreFNqaTI3VEpKNS9yUG1JcHdKSnEzSHJ0ZHVyaVlPdXJ2MWE0aTFwNUhuaGtHOU9GeW1pMFJlb08wNWNHd2IrYXl2NGR5c1Z5Z2plRm1zUDA1Zjh3cFpROGZzZHZmbXVZOXpqV1NOcVV0Z1lGVm5PVlJlSUxZb0JGemRRSTUvR0dGek5IaEdiZVpub3BER1UyOXNaYnNjZ2xkbUM5OXczNVZPQVRUeWNJTU1jQlhJZnBTVkd6WmhBNkM4aGgwMGNvbmxuNlZROVRHZ1YzMk9FQUtRQzREckJxN0NKd2QwZ2dSN1ZxL3JQcmZnQitDM3NHeXBZNURBQUFBQUJKUlU1RXJrSmdnZz09XCJcbiAgICAgICAgICBhbHQ9XCJcIj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICBgLCBpc0lubGluZTogdHJ1ZSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc1RpbWVwaWNrZXJWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdicy10aW1lcGlja2VyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2IGNsYXNzPVwiYnMtdGltZXBpY2tlci1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJicy10aW1lcGlja2VyLWNvbnRyb2xzXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJicy1kZWNyZWFzZVwiIHR5cGU9XCJidXR0b25cIj4tPC9idXR0b24+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIFt2YWx1ZV09XCJob3Vyc1wiIHBsYWNlaG9sZGVyPVwiMDBcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJzLWluY3JlYXNlXCIgdHlwZT1cImJ1dHRvblwiPis8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImJzLXRpbWVwaWNrZXItY29udHJvbHNcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJzLWRlY3JlYXNlXCIgdHlwZT1cImJ1dHRvblwiPi08L2J1dHRvbj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgW3ZhbHVlXT1cIm1pbnV0ZXNcIiBwbGFjZWhvbGRlcj1cIjAwXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJicy1pbmNyZWFzZVwiIHR5cGU9XCJidXR0b25cIj4rPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJzd2l0Y2gtdGltZS1mb3JtYXRcIiB0eXBlPVwiYnV0dG9uXCI+e3sgYW1wbSB9fVxuICAgICAgICA8aW1nXG4gICAgICAgICAgc3JjPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBc0FBQUFLQ0FZQUFBQmk4S1NEQUFBQlNFbEVRVlFZVjNYUVBVdkRVQlFHNEhOdWFndFZxYzZLZ291Q3Y2R0l1SW50WUJMQjloY0lRcExTdENBSVY3RFltcFRjUldjWHFaaW8zVndjL1VDYy9RRXFmZ3lLR2JyMEk3blMxRWlIZXFZelBPL2g1U0QwamF4VVpqbVNMQ0IrT0ZiK1VGSU5Gd0FTQUVBZHB1OWdhR1hWeUFISEZRQmtIcEtIYzZhOWR6RUN2QUR5WTlzcWxBTXNLOVcwanp4RFhxZXl0cjNtaFFja3hTamkyN1RKSjUvclBtSXB3SkpxM0hydGR1cmlZT3VydjFhNGkxcDVIbmhrRzlPRnltaTBSZW9PMDVjR3diK2F5djRkeXNWeWdqZUZtc1AwNWY4d3BaUThmc2R2Zm11WTl6aldTTnFVdGdZRlZuT1ZSZUlMWW9CRnpkUUk1L0dHRnpOSGhHYmVabm9wREdVMjlzWmJzY2dsZG1DOTl3MzVWT0FUVHljSU1NY0JYSWZwU1ZHelpoQTZDOGhoMDBjb25sbjZWUTlUR2dWMzJPRUFLUUM0RHJCcTdDSndkMGdnUjdWcS9yUHJmZ0IrQzNzR3lwWTVEQUFBQUFCSlJVNUVya0pnZ2c9PVwiXG4gICAgICAgICAgYWx0PVwiXCI+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgYFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBCc0NhbGVuZGFyTGF5b3V0Q29tcG9uZW50IHtcbn1cbkJzQ2FsZW5kYXJMYXlvdXRDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNDYWxlbmRhckxheW91dENvbXBvbmVudCwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuQnNDYWxlbmRhckxheW91dENvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0NhbGVuZGFyTGF5b3V0Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1jYWxlbmRhci1sYXlvdXRcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYFxuICAgIDwhLS0gY3VycmVudCBkYXRlLCB3aWxsIGJlIGFkZGVkIGluIG5lYXJlc3QgcmVsZWFzZXMgLS0+XG4gICAgPGJzLWN1cnJlbnQtZGF0ZSB0aXRsZT1cImhleSB0aGVyZVwiICpuZ0lmPVwiZmFsc2VcIj48L2JzLWN1cnJlbnQtZGF0ZT5cblxuICAgIDwhLS1uYXZpZ2F0aW9uLS0+XG4gICAgPGRpdiBjbGFzcz1cImJzLWRhdGVwaWNrZXItaGVhZFwiPlxuICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXdcIj48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiYnMtZGF0ZXBpY2tlci1ib2R5XCI+XG4gICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tdGltZXBpY2tlci0tPlxuICAgIDxicy10aW1lcGlja2VyICpuZ0lmPVwiZmFsc2VcIj48L2JzLXRpbWVwaWNrZXI+XG4gIGAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGk2Lk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDdXJyZW50RGF0ZVZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1cnJlbnQtZGF0ZVwiLCBpbnB1dHM6IFtcInRpdGxlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNUaW1lcGlja2VyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMtdGltZXBpY2tlclwiIH1dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzQ2FsZW5kYXJMYXlvdXRDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2JzLWNhbGVuZGFyLWxheW91dCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgXG4gICAgPCEtLSBjdXJyZW50IGRhdGUsIHdpbGwgYmUgYWRkZWQgaW4gbmVhcmVzdCByZWxlYXNlcyAtLT5cbiAgICA8YnMtY3VycmVudC1kYXRlIHRpdGxlPVwiaGV5IHRoZXJlXCIgKm5nSWY9XCJmYWxzZVwiPjwvYnMtY3VycmVudC1kYXRlPlxuXG4gICAgPCEtLW5hdmlnYXRpb24tLT5cbiAgICA8ZGl2IGNsYXNzPVwiYnMtZGF0ZXBpY2tlci1oZWFkXCI+XG4gICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJicy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlld1wiPjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJicy1kYXRlcGlja2VyLWJvZHlcIj5cbiAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS10aW1lcGlja2VyLS0+XG4gICAgPGJzLXRpbWVwaWNrZXIgKm5nSWY9XCJmYWxzZVwiPjwvYnMtdGltZXBpY2tlcj5cbiAgYFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBCc0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9lbFJlZiwgX3JlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgICAgIHRoaXMuX2VsUmVmID0gX2VsUmVmO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IF9yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5kYXkgPSB7IGRhdGU6IG5ldyBEYXRlKCksIGxhYmVsOiAnJyB9O1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF5Py5pc1RvZGF5ICYmIHRoaXMuX2NvbmZpZyAmJiB0aGlzLl9jb25maWcuY3VzdG9tVG9kYXlDbGFzcykge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5fZWxSZWYubmF0aXZlRWxlbWVudCwgdGhpcy5fY29uZmlnLmN1c3RvbVRvZGF5Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kYXk/LmN1c3RvbUNsYXNzZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmRheT8uY3VzdG9tQ2xhc3Nlcy5zcGxpdCgnICcpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLmFkZENsYXNzKHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkJzRGF0ZXBpY2tlckRheURlY29yYXRvckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pO1xuQnNEYXRlcGlja2VyRGF5RGVjb3JhdG9yQ29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzRGF0ZXBpY2tlckRheURlY29yYXRvckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiW2JzRGF0ZXBpY2tlckRheURlY29yYXRvcl1cIiwgaW5wdXRzOiB7IGRheTogXCJkYXlcIiB9LCBob3N0OiB7IHByb3BlcnRpZXM6IHsgXCJjbGFzcy5kaXNhYmxlZFwiOiBcImRheS5pc0Rpc2FibGVkXCIsIFwiY2xhc3MuaXMtaGlnaGxpZ2h0ZWRcIjogXCJkYXkuaXNIb3ZlcmVkXCIsIFwiY2xhc3MuaXMtb3RoZXItbW9udGhcIjogXCJkYXkuaXNPdGhlck1vbnRoXCIsIFwiY2xhc3MuaXMtYWN0aXZlLW90aGVyLW1vbnRoXCI6IFwiZGF5LmlzT3RoZXJNb250aEhvdmVyZWRcIiwgXCJjbGFzcy5pbi1yYW5nZVwiOiBcImRheS5pc0luUmFuZ2VcIiwgXCJjbGFzcy5zZWxlY3Qtc3RhcnRcIjogXCJkYXkuaXNTZWxlY3Rpb25TdGFydFwiLCBcImNsYXNzLnNlbGVjdC1lbmRcIjogXCJkYXkuaXNTZWxlY3Rpb25FbmRcIiwgXCJjbGFzcy5zZWxlY3RlZFwiOiBcImRheS5pc1NlbGVjdGVkXCIgfSB9LCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBge3sgZGF5ICYmIGRheS5sYWJlbCB8fCAnJyB9fWAsIGlzSW5saW5lOiB0cnVlLCBjaGFuZ2VEZXRlY3Rpb246IGkwLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tic0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JdJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdbY2xhc3MuZGlzYWJsZWRdJzogJ2RheS5pc0Rpc2FibGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdbY2xhc3MuaXMtaGlnaGxpZ2h0ZWRdJzogJ2RheS5pc0hvdmVyZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1tjbGFzcy5pcy1vdGhlci1tb250aF0nOiAnZGF5LmlzT3RoZXJNb250aCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnW2NsYXNzLmlzLWFjdGl2ZS1vdGhlci1tb250aF0nOiAnZGF5LmlzT3RoZXJNb250aEhvdmVyZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1tjbGFzcy5pbi1yYW5nZV0nOiAnZGF5LmlzSW5SYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnW2NsYXNzLnNlbGVjdC1zdGFydF0nOiAnZGF5LmlzU2VsZWN0aW9uU3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1tjbGFzcy5zZWxlY3QtZW5kXSc6ICdkYXkuaXNTZWxlY3Rpb25FbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1tjbGFzcy5zZWxlY3RlZF0nOiAnZGF5LmlzU2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBge3sgZGF5ICYmIGRheS5sYWJlbCB8fCAnJyB9fWBcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEJzRGF0ZXBpY2tlckNvbmZpZyB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGRheTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgQnNEYXRlcGlja2VyTmF2aWdhdGlvblZpZXdDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlzRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uVmlld01vZGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIG5hdlRvKGRvd24pIHtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRlLmVtaXQoZG93biA/IEJzTmF2aWdhdGlvbkRpcmVjdGlvbi5ET1dOIDogQnNOYXZpZ2F0aW9uRGlyZWN0aW9uLlVQKTtcbiAgICB9XG4gICAgdmlldyh2aWV3TW9kZSkge1xuICAgICAgICBpZiAodGhpcy5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblZpZXdNb2RlLmVtaXQodmlld01vZGUpO1xuICAgIH1cbn1cbkJzRGF0ZXBpY2tlck5hdmlnYXRpb25WaWV3Q29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlck5hdmlnYXRpb25WaWV3Q29tcG9uZW50LCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5Cc0RhdGVwaWNrZXJOYXZpZ2F0aW9uVmlld0NvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RhdGVwaWNrZXJOYXZpZ2F0aW9uVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXdcIiwgaW5wdXRzOiB7IGNhbGVuZGFyOiBcImNhbGVuZGFyXCIsIGlzRGlzYWJsZWQ6IFwiaXNEaXNhYmxlZFwiIH0sIG91dHB1dHM6IHsgb25OYXZpZ2F0ZTogXCJvbk5hdmlnYXRlXCIsIG9uVmlld01vZGU6IFwib25WaWV3TW9kZVwiIH0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGBcbiAgICA8YnV0dG9uIGNsYXNzPVwicHJldmlvdXNcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cImNhbGVuZGFyLmRpc2FibGVMZWZ0QXJyb3dcIlxuICAgICAgICAgICAgW3N0eWxlLnZpc2liaWxpdHldPVwiY2FsZW5kYXIuaGlkZUxlZnRBcnJvdyA/ICdoaWRkZW4nIDogJ3Zpc2libGUnXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgKGNsaWNrKT1cIm5hdlRvKHRydWUpXCI+XG4gICAgICA8c3Bhbj4mbHNhcXVvOzwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cblxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjYWxlbmRhciAmJiBjYWxlbmRhci5tb250aFRpdGxlXCI+XG4gICAgICAmIzgyMDM7ICA8IS0tIHplcm8td2lkdGggc3BhY2UgbmVlZGVkIGZvciBjb3JyZWN0IGFsaWdubWVudFxuICAgICAgICAgICAgICAgICAgd2l0aCBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSBpbiBBbmd1bGFyIC0tPlxuXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiY3VycmVudFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInZpZXcoJ21vbnRoJylcIlxuICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiaXNEaXNhYmxlZFwiXG4gICAgICA+PHNwYW4+e3sgY2FsZW5kYXIubW9udGhUaXRsZSB9fTwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgJiM4MjAzOyAgPCEtLSB6ZXJvLXdpZHRoIHNwYWNlIG5lZWRlZCBmb3IgY29ycmVjdCBhbGlnbm1lbnRcbiAgICAgICAgICAgICAgICAgIHdpdGggcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UgaW4gQW5ndWxhciAtLT5cblxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiY3VycmVudFwiXG4gICAgICAoY2xpY2spPVwidmlldygneWVhcicpXCJcbiAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgW2Rpc2FibGVkXT1cImlzRGlzYWJsZWRcIlxuICAgID5cbiAgICAgIDxzcGFuPnt7IGNhbGVuZGFyLnllYXJUaXRsZSB9fTwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cblxuICAgICYjODIwMzsgIDwhLS0gemVyby13aWR0aCBzcGFjZSBuZWVkZWQgZm9yIGNvcnJlY3QgYWxpZ25tZW50XG4gICAgICAgICAgICAgICAgICB3aXRoIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlIGluIEFuZ3VsYXIgLS0+XG5cbiAgICA8YnV0dG9uIGNsYXNzPVwibmV4dFwiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiY2FsZW5kYXIuZGlzYWJsZVJpZ2h0QXJyb3dcIlxuICAgICAgICAgICAgW3N0eWxlLnZpc2liaWxpdHldPVwiY2FsZW5kYXIuaGlkZVJpZ2h0QXJyb3cgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ1wiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIChjbGljayk9XCJuYXZUbyhmYWxzZSlcIj48c3Bhbj4mcnNhcXVvOzwvc3Bhbj5cbiAgICA8L2J1dHRvbj5cbiAgYCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0sIGNoYW5nZURldGVjdGlvbjogaTAuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlck5hdmlnYXRpb25WaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdicy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlldycsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICAgIDxidXR0b24gY2xhc3M9XCJwcmV2aW91c1wiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiY2FsZW5kYXIuZGlzYWJsZUxlZnRBcnJvd1wiXG4gICAgICAgICAgICBbc3R5bGUudmlzaWJpbGl0eV09XCJjYWxlbmRhci5oaWRlTGVmdEFycm93ID8gJ2hpZGRlbicgOiAndmlzaWJsZSdcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAoY2xpY2spPVwibmF2VG8odHJ1ZSlcIj5cbiAgICAgIDxzcGFuPiZsc2FxdW87PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuXG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImNhbGVuZGFyICYmIGNhbGVuZGFyLm1vbnRoVGl0bGVcIj5cbiAgICAgICYjODIwMzsgIDwhLS0gemVyby13aWR0aCBzcGFjZSBuZWVkZWQgZm9yIGNvcnJlY3QgYWxpZ25tZW50XG4gICAgICAgICAgICAgICAgICB3aXRoIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlIGluIEFuZ3VsYXIgLS0+XG5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJjdXJyZW50XCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAoY2xpY2spPVwidmlldygnbW9udGgnKVwiXG4gICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJpc0Rpc2FibGVkXCJcbiAgICAgID48c3Bhbj57eyBjYWxlbmRhci5tb250aFRpdGxlIH19PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAmIzgyMDM7ICA8IS0tIHplcm8td2lkdGggc3BhY2UgbmVlZGVkIGZvciBjb3JyZWN0IGFsaWdubWVudFxuICAgICAgICAgICAgICAgICAgd2l0aCBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSBpbiBBbmd1bGFyIC0tPlxuXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJjdXJyZW50XCJcbiAgICAgIChjbGljayk9XCJ2aWV3KCd5ZWFyJylcIlxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICBbZGlzYWJsZWRdPVwiaXNEaXNhYmxlZFwiXG4gICAgPlxuICAgICAgPHNwYW4+e3sgY2FsZW5kYXIueWVhclRpdGxlIH19PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuXG4gICAgJiM4MjAzOyAgPCEtLSB6ZXJvLXdpZHRoIHNwYWNlIG5lZWRlZCBmb3IgY29ycmVjdCBhbGlnbm1lbnRcbiAgICAgICAgICAgICAgICAgIHdpdGggcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UgaW4gQW5ndWxhciAtLT5cblxuICAgIDxidXR0b24gY2xhc3M9XCJuZXh0XCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJjYWxlbmRhci5kaXNhYmxlUmlnaHRBcnJvd1wiXG4gICAgICAgICAgICBbc3R5bGUudmlzaWJpbGl0eV09XCJjYWxlbmRhci5oaWRlUmlnaHRBcnJvdyA/ICdoaWRkZW4nIDogJ3Zpc2libGUnXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgKGNsaWNrKT1cIm5hdlRvKGZhbHNlKVwiPjxzcGFuPiZyc2FxdW87PC9zcGFuPlxuICAgIDwvYnV0dG9uPlxuICBgXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIHByb3BEZWNvcmF0b3JzOiB7IGNhbGVuZGFyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uTmF2aWdhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgb25WaWV3TW9kZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIEJzRGF5c0NhbGVuZGFyVmlld0NvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoX2NvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgICAgICB0aGlzLm9uTmF2aWdhdGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25WaWV3TW9kZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkhvdmVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uSG92ZXJXZWVrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmlzaU9TID0gKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgfHxcbiAgICAgICAgICAgIChuYXZpZ2F0b3IucGxhdGZvcm0gPT09ICdNYWNJbnRlbCcgJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSkpO1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmRhdGVUb29sdGlwVGV4dHMgJiYgdGhpcy5fY29uZmlnLmRhdGVUb29sdGlwVGV4dHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pc1Nob3dUb29sdGlwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuYXZpZ2F0ZVRvKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBCc05hdmlnYXRpb25EaXJlY3Rpb24uRE9XTiA9PT0gZXZlbnQgPyAtMSA6IDE7XG4gICAgICAgIHRoaXMub25OYXZpZ2F0ZS5lbWl0KHsgc3RlcDogeyBtb250aDogc3RlcCB9IH0pO1xuICAgIH1cbiAgICBjaGFuZ2VWaWV3TW9kZShldmVudCkge1xuICAgICAgICB0aGlzLm9uVmlld01vZGUuZW1pdChldmVudCk7XG4gICAgfVxuICAgIHNlbGVjdERheShldmVudCkge1xuICAgICAgICB0aGlzLm9uU2VsZWN0LmVtaXQoZXZlbnQpO1xuICAgIH1cbiAgICBzZWxlY3RXZWVrKHdlZWspIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jb25maWcuc2VsZWN0V2VlayAmJiAhdGhpcy5fY29uZmlnLnNlbGVjdFdlZWtEYXRlUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2Vlay5kYXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuc2VsZWN0V2VlayAmJiB3ZWVrLmRheXNbMF1cbiAgICAgICAgICAgICYmICF3ZWVrLmRheXNbMF0uaXNEaXNhYmxlZFxuICAgICAgICAgICAgJiYgdGhpcy5fY29uZmlnLnNlbGVjdEZyb21PdGhlck1vbnRoKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0LmVtaXQod2Vlay5kYXlzWzBdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWxlY3RlZERheSA9IHdlZWsuZGF5cy5maW5kKChkYXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuc2VsZWN0RnJvbU90aGVyTW9udGhcbiAgICAgICAgICAgICAgICA/ICFkYXkuaXNEaXNhYmxlZFxuICAgICAgICAgICAgICAgIDogIWRheS5pc090aGVyTW9udGggJiYgIWRheS5pc0Rpc2FibGVkO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vblNlbGVjdC5lbWl0KHNlbGVjdGVkRGF5KTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zZWxlY3RXZWVrRGF0ZVJhbmdlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXlzID0gd2Vlay5kYXlzLnNsaWNlKDApO1xuICAgICAgICAgICAgY29uc3QgbGFzdERheU9mUmFuZ2UgPSBkYXlzLnJldmVyc2UoKS5maW5kKChkYXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnNlbGVjdEZyb21PdGhlck1vbnRoXG4gICAgICAgICAgICAgICAgICAgID8gIWRheS5pc0Rpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIDogIWRheS5pc090aGVyTW9udGggJiYgIWRheS5pc0Rpc2FibGVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0LmVtaXQobGFzdERheU9mUmFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdlZWtIb3ZlckhhbmRsZXIoY2VsbCwgaXNIb3ZlcmVkKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLnNlbGVjdFdlZWsgJiYgIXRoaXMuX2NvbmZpZy5zZWxlY3RXZWVrRGF0ZVJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFzQWN0aXZlRGF5cyA9IGNlbGwuZGF5cy5maW5kKChkYXkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuc2VsZWN0RnJvbU90aGVyTW9udGhcbiAgICAgICAgICAgICAgICA/ICFkYXkuaXNEaXNhYmxlZFxuICAgICAgICAgICAgICAgIDogIWRheS5pc090aGVyTW9udGggJiYgIWRheS5pc0Rpc2FibGVkO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhhc0FjdGl2ZURheXMpIHtcbiAgICAgICAgICAgIGNlbGwuaXNIb3ZlcmVkID0gaXNIb3ZlcmVkO1xuICAgICAgICAgICAgdGhpcy5pc1dlZWtIb3ZlcmVkID0gaXNIb3ZlcmVkO1xuICAgICAgICAgICAgdGhpcy5vbkhvdmVyV2Vlay5lbWl0KGNlbGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhvdmVyRGF5KGNlbGwsIGlzSG92ZXJlZCkge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnNlbGVjdEZyb21PdGhlck1vbnRoICYmIGNlbGwuaXNPdGhlck1vbnRoKSB7XG4gICAgICAgICAgICBjZWxsLmlzT3RoZXJNb250aEhvdmVyZWQgPSBpc0hvdmVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5kYXRlVG9vbHRpcFRleHRzKSB7XG4gICAgICAgICAgICBjZWxsLnRvb2x0aXBUZXh0ID0gJyc7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcuZGF0ZVRvb2x0aXBUZXh0cy5mb3JFYWNoKChkYXRlRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc1NhbWVEYXkoZGF0ZURhdGEuZGF0ZSwgY2VsbC5kYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBjZWxsLnRvb2x0aXBUZXh0ID0gZGF0ZURhdGEudG9vbHRpcFRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uSG92ZXIuZW1pdCh7IGNlbGwsIGlzSG92ZXJlZCB9KTtcbiAgICB9XG59XG5Cc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXlzQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogQnNEYXRlcGlja2VyQ29uZmlnIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkJzRGF5c0NhbGVuZGFyVmlld0NvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRheXMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IHsgY2FsZW5kYXI6IFwiY2FsZW5kYXJcIiwgb3B0aW9uczogXCJvcHRpb25zXCIsIGlzRGlzYWJsZWQ6IFwiaXNEaXNhYmxlZFwiIH0sIG91dHB1dHM6IHsgb25OYXZpZ2F0ZTogXCJvbk5hdmlnYXRlXCIsIG9uVmlld01vZGU6IFwib25WaWV3TW9kZVwiLCBvblNlbGVjdDogXCJvblNlbGVjdFwiLCBvbkhvdmVyOiBcIm9uSG92ZXJcIiwgb25Ib3ZlcldlZWs6IFwib25Ib3ZlcldlZWtcIiB9LCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgXG4gICAgPGJzLWNhbGVuZGFyLWxheW91dD5cbiAgICAgIDxicy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlld1xuICAgICAgICBbY2FsZW5kYXJdPVwiY2FsZW5kYXJcIlxuICAgICAgICBbaXNEaXNhYmxlZF09XCIhIWlzRGlzYWJsZWRcIlxuICAgICAgICAob25OYXZpZ2F0ZSk9XCJuYXZpZ2F0ZVRvKCRldmVudClcIlxuICAgICAgICAob25WaWV3TW9kZSk9XCJjaGFuZ2VWaWV3TW9kZSgkZXZlbnQpXCJcbiAgICAgID48L2JzLWRhdGVwaWNrZXItbmF2aWdhdGlvbi12aWV3PlxuICAgICAgPCEtLWRheXMgbWF0cml4LS0+XG4gICAgICA8dGFibGUgcm9sZT1cImdyaWRcIiBjbGFzcz1cImRheXMgd2Vla3NcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPCEtLWlmIHNob3cgd2Vla3MtLT5cbiAgICAgICAgICA8dGggKm5nSWY9XCJvcHRpb25zICYmIG9wdGlvbnMuc2hvd1dlZWtOdW1iZXJzXCI+PC90aD5cbiAgICAgICAgICA8dGggKm5nRm9yPVwibGV0IHdlZWtkYXkgb2YgY2FsZW5kYXIud2Vla2RheXM7IGxldCBpID0gaW5kZXhcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwid2Vla2RheVwiPnt7IGNhbGVuZGFyLndlZWtkYXlzW2ldIH19XG4gICAgICAgICAgPC90aD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHdlZWsgb2YgY2FsZW5kYXIud2Vla3M7IGxldCBpID0gaW5kZXhcIj5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJ3ZWVrXCIgW2NsYXNzLmFjdGl2ZS13ZWVrXT1cImlzV2Vla0hvdmVyZWRcIiAgKm5nSWY9XCJvcHRpb25zICYmIG9wdGlvbnMuc2hvd1dlZWtOdW1iZXJzXCI+XG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cImlzaU9TXCIgKGNsaWNrKT1cInNlbGVjdFdlZWsod2VlaylcIj57eyBjYWxlbmRhci53ZWVrTnVtYmVyc1tpXSB9fTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzaU9TXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0V2Vlayh3ZWVrKVwiXG4gICAgICAgICAgICAgICAgKG1vdXNlZW50ZXIpPVwid2Vla0hvdmVySGFuZGxlcih3ZWVrLCB0cnVlKVwiXG4gICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwid2Vla0hvdmVySGFuZGxlcih3ZWVrLCBmYWxzZSlcIj57eyBjYWxlbmRhci53ZWVrTnVtYmVyc1tpXSB9fTwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgZGF5IG9mIHdlZWsuZGF5c1wiIHJvbGU9XCJncmlkY2VsbFwiPlxuXG4gICAgICAgICAgICA8IS0tIFdoZW4gd2Ugd2FudCB0byBzaG93IHRvb2x0aXBzIGZvciBkYXRlcyAtLT5cbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWlzaU9TICYmIGlzU2hvd1Rvb2x0aXBcIiBic0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JcbiAgICAgICAgICAgICAgICBbZGF5XT1cImRheVwiXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdERheShkYXkpXCJcbiAgICAgICAgICAgICAgICB0b29sdGlwPVwie3tkYXkudG9vbHRpcFRleHR9fVwiXG4gICAgICAgICAgICAgICAgKG1vdXNlZW50ZXIpPVwiaG92ZXJEYXkoZGF5LCB0cnVlKVwiXG4gICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaG92ZXJEYXkoZGF5LCBmYWxzZSlcIj57eyBkYXkubGFiZWwgfX0gMzwvc3Bhbj5cbiAgICAgICAgICAgIDwhLS0gV2hlbiB0b29sdGlwcyBmb3IgZGF0ZXMgYXJlIGRpc2FibGVkIC0tPlxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhaXNpT1MgJiYgIWlzU2hvd1Rvb2x0aXBcIiBic0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JcbiAgICAgICAgICAgICAgICAgIFtkYXldPVwiZGF5XCJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCJzZWxlY3REYXkoZGF5KVwiXG4gICAgICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJob3ZlckRheShkYXksIHRydWUpXCJcbiAgICAgICAgICAgICAgICAgIChtb3VzZWxlYXZlKT1cImhvdmVyRGF5KGRheSwgZmFsc2UpXCI+e3sgZGF5LmxhYmVsIH19IDI8L3NwYW4+XG5cbiAgICAgICAgICAgIDwhLS0gRm9yIG1vYmlsZSBpT1MgdmlldywgdG9vbHRpcHMgYXJlIG5vdCBuZWVkZWQgLS0+XG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cImlzaU9TXCIgYnNEYXRlcGlja2VyRGF5RGVjb3JhdG9yXG4gICAgICAgICAgICAgICAgICBbZGF5XT1cImRheVwiXG4gICAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0RGF5KGRheSlcIj57eyBkYXkubGFiZWwgfX0gMTwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cblxuICAgIDwvYnMtY2FsZW5kYXItbGF5b3V0PlxuICBgLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ0Zvck9mLCBzZWxlY3RvcjogXCJbbmdGb3JdW25nRm9yT2ZdXCIsIGlucHV0czogW1wibmdGb3JPZlwiLCBcIm5nRm9yVHJhY2tCeVwiLCBcIm5nRm9yVGVtcGxhdGVcIl0gfSwgeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9LCB7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkzLlRvb2x0aXBEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlt0b29sdGlwXSwgW3Rvb2x0aXBIdG1sXVwiLCBpbnB1dHM6IFtcImFkYXB0aXZlUG9zaXRpb25cIiwgXCJ0b29sdGlwXCIsIFwicGxhY2VtZW50XCIsIFwidHJpZ2dlcnNcIiwgXCJjb250YWluZXJcIiwgXCJjb250YWluZXJDbGFzc1wiLCBcImJvdW5kYXJpZXNFbGVtZW50XCIsIFwiaXNPcGVuXCIsIFwiaXNEaXNhYmxlZFwiLCBcImRlbGF5XCIsIFwidG9vbHRpcEh0bWxcIiwgXCJ0b29sdGlwUGxhY2VtZW50XCIsIFwidG9vbHRpcElzT3BlblwiLCBcInRvb2x0aXBFbmFibGVcIiwgXCJ0b29sdGlwQXBwZW5kVG9Cb2R5XCIsIFwidG9vbHRpcEFuaW1hdGlvblwiLCBcInRvb2x0aXBDbGFzc1wiLCBcInRvb2x0aXBDb250ZXh0XCIsIFwidG9vbHRpcFBvcHVwRGVsYXlcIiwgXCJ0b29sdGlwRmFkZUR1cmF0aW9uXCIsIFwidG9vbHRpcFRyaWdnZXJcIl0sIG91dHB1dHM6IFtcInRvb2x0aXBDaGFuZ2VcIiwgXCJvblNob3duXCIsIFwib25IaWRkZW5cIiwgXCJ0b29sdGlwU3RhdGVDaGFuZ2VkXCJdLCBleHBvcnRBczogW1wiYnMtdG9vbHRpcFwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IEJzQ2FsZW5kYXJMYXlvdXRDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWNhbGVuZGFyLWxheW91dFwiIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNEYXRlcGlja2VyRGF5RGVjb3JhdG9yQ29tcG9uZW50LCBzZWxlY3RvcjogXCJbYnNEYXRlcGlja2VyRGF5RGVjb3JhdG9yXVwiLCBpbnB1dHM6IFtcImRheVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IEJzRGF0ZXBpY2tlck5hdmlnYXRpb25WaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCIsIFwiaXNEaXNhYmxlZFwiXSwgb3V0cHV0czogW1wib25OYXZpZ2F0ZVwiLCBcIm9uVmlld01vZGVcIl0gfV0gfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXlzQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdicy1kYXlzLWNhbGVuZGFyLXZpZXcnLFxuICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAgICA8YnMtY2FsZW5kYXItbGF5b3V0PlxuICAgICAgPGJzLWRhdGVwaWNrZXItbmF2aWdhdGlvbi12aWV3XG4gICAgICAgIFtjYWxlbmRhcl09XCJjYWxlbmRhclwiXG4gICAgICAgIFtpc0Rpc2FibGVkXT1cIiEhaXNEaXNhYmxlZFwiXG4gICAgICAgIChvbk5hdmlnYXRlKT1cIm5hdmlnYXRlVG8oJGV2ZW50KVwiXG4gICAgICAgIChvblZpZXdNb2RlKT1cImNoYW5nZVZpZXdNb2RlKCRldmVudClcIlxuICAgICAgPjwvYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXc+XG4gICAgICA8IS0tZGF5cyBtYXRyaXgtLT5cbiAgICAgIDx0YWJsZSByb2xlPVwiZ3JpZFwiIGNsYXNzPVwiZGF5cyB3ZWVrc1wiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8IS0taWYgc2hvdyB3ZWVrcy0tPlxuICAgICAgICAgIDx0aCAqbmdJZj1cIm9wdGlvbnMgJiYgb3B0aW9ucy5zaG93V2Vla051bWJlcnNcIj48L3RoPlxuICAgICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgd2Vla2RheSBvZiBjYWxlbmRhci53ZWVrZGF5czsgbGV0IGkgPSBpbmRleFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ3ZWVrZGF5XCI+e3sgY2FsZW5kYXIud2Vla2RheXNbaV0gfX1cbiAgICAgICAgICA8L3RoPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgd2VlayBvZiBjYWxlbmRhci53ZWVrczsgbGV0IGkgPSBpbmRleFwiPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cIndlZWtcIiBbY2xhc3MuYWN0aXZlLXdlZWtdPVwiaXNXZWVrSG92ZXJlZFwiICAqbmdJZj1cIm9wdGlvbnMgJiYgb3B0aW9ucy5zaG93V2Vla051bWJlcnNcIj5cbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiaXNpT1NcIiAoY2xpY2spPVwic2VsZWN0V2Vlayh3ZWVrKVwiPnt7IGNhbGVuZGFyLndlZWtOdW1iZXJzW2ldIH19PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhaXNpT1NcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJzZWxlY3RXZWVrKHdlZWspXCJcbiAgICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJ3ZWVrSG92ZXJIYW5kbGVyKHdlZWssIHRydWUpXCJcbiAgICAgICAgICAgICAgICAobW91c2VsZWF2ZSk9XCJ3ZWVrSG92ZXJIYW5kbGVyKHdlZWssIGZhbHNlKVwiPnt7IGNhbGVuZGFyLndlZWtOdW1iZXJzW2ldIH19PC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBkYXkgb2Ygd2Vlay5kYXlzXCIgcm9sZT1cImdyaWRjZWxsXCI+XG5cbiAgICAgICAgICAgIDwhLS0gV2hlbiB3ZSB3YW50IHRvIHNob3cgdG9vbHRpcHMgZm9yIGRhdGVzIC0tPlxuICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhaXNpT1MgJiYgaXNTaG93VG9vbHRpcFwiIGJzRGF0ZXBpY2tlckRheURlY29yYXRvclxuICAgICAgICAgICAgICAgIFtkYXldPVwiZGF5XCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0RGF5KGRheSlcIlxuICAgICAgICAgICAgICAgIHRvb2x0aXA9XCJ7e2RheS50b29sdGlwVGV4dH19XCJcbiAgICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJob3ZlckRheShkYXksIHRydWUpXCJcbiAgICAgICAgICAgICAgICAobW91c2VsZWF2ZSk9XCJob3ZlckRheShkYXksIGZhbHNlKVwiPnt7IGRheS5sYWJlbCB9fSAzPC9zcGFuPlxuICAgICAgICAgICAgPCEtLSBXaGVuIHRvb2x0aXBzIGZvciBkYXRlcyBhcmUgZGlzYWJsZWQgLS0+XG4gICAgICAgICAgICA8c3BhbiAqbmdJZj1cIiFpc2lPUyAmJiAhaXNTaG93VG9vbHRpcFwiIGJzRGF0ZXBpY2tlckRheURlY29yYXRvclxuICAgICAgICAgICAgICAgICAgW2RheV09XCJkYXlcIlxuICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdERheShkYXkpXCJcbiAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cImhvdmVyRGF5KGRheSwgdHJ1ZSlcIlxuICAgICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaG92ZXJEYXkoZGF5LCBmYWxzZSlcIj57eyBkYXkubGFiZWwgfX0gMjwvc3Bhbj5cblxuICAgICAgICAgICAgPCEtLSBGb3IgbW9iaWxlIGlPUyB2aWV3LCB0b29sdGlwcyBhcmUgbm90IG5lZWRlZCAtLT5cbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiaXNpT1NcIiBic0RhdGVwaWNrZXJEYXlEZWNvcmF0b3JcbiAgICAgICAgICAgICAgICAgIFtkYXldPVwiZGF5XCJcbiAgICAgICAgICAgICAgICAgIChjbGljayk9XCJzZWxlY3REYXkoZGF5KVwiPnt7IGRheS5sYWJlbCB9fSAxPC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuXG4gICAgPC9icy1jYWxlbmRhci1sYXlvdXQ+XG4gIGBcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEJzRGF0ZXBpY2tlckNvbmZpZyB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgY2FsZW5kYXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBvcHRpb25zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uTmF2aWdhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgb25WaWV3TW9kZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBvblNlbGVjdDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBvbkhvdmVyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIG9uSG92ZXJXZWVrOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgQnNNb250aENhbGVuZGFyVmlld0NvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25OYXZpZ2F0ZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblZpZXdNb2RlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uU2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uSG92ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIG5hdmlnYXRlVG8oZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IEJzTmF2aWdhdGlvbkRpcmVjdGlvbi5ET1dOID09PSBldmVudCA/IC0xIDogMTtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRlLmVtaXQoeyBzdGVwOiB7IHllYXI6IHN0ZXAgfSB9KTtcbiAgICB9XG4gICAgdmlld01vbnRoKG1vbnRoKSB7XG4gICAgICAgIHRoaXMub25TZWxlY3QuZW1pdChtb250aCk7XG4gICAgfVxuICAgIGhvdmVyTW9udGgoY2VsbCwgaXNIb3ZlcmVkKSB7XG4gICAgICAgIHRoaXMub25Ib3Zlci5lbWl0KHsgY2VsbCwgaXNIb3ZlcmVkIH0pO1xuICAgIH1cbiAgICBjaGFuZ2VWaWV3TW9kZShldmVudCkge1xuICAgICAgICB0aGlzLm9uVmlld01vZGUuZW1pdChldmVudCk7XG4gICAgfVxufVxuQnNNb250aENhbGVuZGFyVmlld0NvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5Cc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzTW9udGhDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcIiwgaW5wdXRzOiB7IGNhbGVuZGFyOiBcImNhbGVuZGFyXCIgfSwgb3V0cHV0czogeyBvbk5hdmlnYXRlOiBcIm9uTmF2aWdhdGVcIiwgb25WaWV3TW9kZTogXCJvblZpZXdNb2RlXCIsIG9uU2VsZWN0OiBcIm9uU2VsZWN0XCIsIG9uSG92ZXI6IFwib25Ib3ZlclwiIH0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGBcbiAgICA8YnMtY2FsZW5kYXItbGF5b3V0PlxuICAgICAgPGJzLWRhdGVwaWNrZXItbmF2aWdhdGlvbi12aWV3XG4gICAgICAgIFtjYWxlbmRhcl09XCJjYWxlbmRhclwiXG4gICAgICAgIChvbk5hdmlnYXRlKT1cIm5hdmlnYXRlVG8oJGV2ZW50KVwiXG4gICAgICAgIChvblZpZXdNb2RlKT1cImNoYW5nZVZpZXdNb2RlKCRldmVudClcIlxuICAgICAgPjwvYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXc+XG5cbiAgICAgIDx0YWJsZSByb2xlPVwiZ3JpZFwiIGNsYXNzPVwibW9udGhzXCI+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgPHRyICpuZ0Zvcj1cImxldCByb3cgb2YgY2FsZW5kYXI/Lm1vbnRoc1wiPlxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgbW9udGggb2Ygcm93XCIgcm9sZT1cImdyaWRjZWxsXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInZpZXdNb250aChtb250aClcIlxuICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJob3Zlck1vbnRoKG1vbnRoLCB0cnVlKVwiXG4gICAgICAgICAgICAgIChtb3VzZWxlYXZlKT1cImhvdmVyTW9udGgobW9udGgsIGZhbHNlKVwiXG4gICAgICAgICAgICAgIFtjbGFzcy5kaXNhYmxlZF09XCJtb250aC5pc0Rpc2FibGVkXCJcbiAgICAgICAgICAgICAgW2NsYXNzLmlzLWhpZ2hsaWdodGVkXT1cIm1vbnRoLmlzSG92ZXJlZFwiPlxuICAgICAgICAgICAgPHNwYW4gW2NsYXNzLnNlbGVjdGVkXT1cIm1vbnRoLmlzU2VsZWN0ZWRcIj57eyBtb250aC5sYWJlbCB9fTwvc3Bhbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2JzLWNhbGVuZGFyLWxheW91dD5cbiAgYCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdGb3JPZiwgc2VsZWN0b3I6IFwiW25nRm9yXVtuZ0Zvck9mXVwiLCBpbnB1dHM6IFtcIm5nRm9yT2ZcIiwgXCJuZ0ZvclRyYWNrQnlcIiwgXCJuZ0ZvclRlbXBsYXRlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDYWxlbmRhckxheW91dENvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMtY2FsZW5kYXItbGF5b3V0XCIgfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc0RhdGVwaWNrZXJOYXZpZ2F0aW9uVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXdcIiwgaW5wdXRzOiBbXCJjYWxlbmRhclwiLCBcImlzRGlzYWJsZWRcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCJdIH1dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzTW9udGhDYWxlbmRhclZpZXdDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2JzLW1vbnRoLWNhbGVuZGFyLXZpZXcnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYFxuICAgIDxicy1jYWxlbmRhci1sYXlvdXQ+XG4gICAgICA8YnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXdcbiAgICAgICAgW2NhbGVuZGFyXT1cImNhbGVuZGFyXCJcbiAgICAgICAgKG9uTmF2aWdhdGUpPVwibmF2aWdhdGVUbygkZXZlbnQpXCJcbiAgICAgICAgKG9uVmlld01vZGUpPVwiY2hhbmdlVmlld01vZGUoJGV2ZW50KVwiXG4gICAgICA+PC9icy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlldz5cblxuICAgICAgPHRhYmxlIHJvbGU9XCJncmlkXCIgY2xhc3M9XCJtb250aHNcIj5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHJvdyBvZiBjYWxlbmRhcj8ubW9udGhzXCI+XG4gICAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBtb250aCBvZiByb3dcIiByb2xlPVwiZ3JpZGNlbGxcIlxuICAgICAgICAgICAgICAoY2xpY2spPVwidmlld01vbnRoKG1vbnRoKVwiXG4gICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cImhvdmVyTW9udGgobW9udGgsIHRydWUpXCJcbiAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaG92ZXJNb250aChtb250aCwgZmFsc2UpXCJcbiAgICAgICAgICAgICAgW2NsYXNzLmRpc2FibGVkXT1cIm1vbnRoLmlzRGlzYWJsZWRcIlxuICAgICAgICAgICAgICBbY2xhc3MuaXMtaGlnaGxpZ2h0ZWRdPVwibW9udGguaXNIb3ZlcmVkXCI+XG4gICAgICAgICAgICA8c3BhbiBbY2xhc3Muc2VsZWN0ZWRdPVwibW9udGguaXNTZWxlY3RlZFwiPnt7IG1vbnRoLmxhYmVsIH19PC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvYnMtY2FsZW5kYXItbGF5b3V0PlxuICBgXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIHByb3BEZWNvcmF0b3JzOiB7IGNhbGVuZGFyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb25OYXZpZ2F0ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBvblZpZXdNb2RlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIG9uU2VsZWN0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIG9uSG92ZXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBCc1llYXJzQ2FsZW5kYXJWaWV3Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5vbk5hdmlnYXRlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uVmlld01vZGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25TZWxlY3QgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25Ib3ZlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgbmF2aWdhdGVUbyhldmVudCkge1xuICAgICAgICBjb25zdCBzdGVwID0gQnNOYXZpZ2F0aW9uRGlyZWN0aW9uLkRPV04gPT09IGV2ZW50ID8gLTEgOiAxO1xuICAgICAgICB0aGlzLm9uTmF2aWdhdGUuZW1pdCh7IHN0ZXA6IHsgeWVhcjogc3RlcCAqIHllYXJzUGVyQ2FsZW5kYXIgfSB9KTtcbiAgICB9XG4gICAgdmlld1llYXIoeWVhcikge1xuICAgICAgICB0aGlzLm9uU2VsZWN0LmVtaXQoeWVhcik7XG4gICAgfVxuICAgIGhvdmVyWWVhcihjZWxsLCBpc0hvdmVyZWQpIHtcbiAgICAgICAgdGhpcy5vbkhvdmVyLmVtaXQoeyBjZWxsLCBpc0hvdmVyZWQgfSk7XG4gICAgfVxuICAgIGNoYW5nZVZpZXdNb2RlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMub25WaWV3TW9kZS5lbWl0KGV2ZW50KTtcbiAgICB9XG59XG5Cc1llYXJzQ2FsZW5kYXJWaWV3Q29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzWWVhcnNDYWxlbmRhclZpZXdDb21wb25lbnQsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkJzWWVhcnNDYWxlbmRhclZpZXdDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMteWVhcnMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IHsgY2FsZW5kYXI6IFwiY2FsZW5kYXJcIiB9LCBvdXRwdXRzOiB7IG9uTmF2aWdhdGU6IFwib25OYXZpZ2F0ZVwiLCBvblZpZXdNb2RlOiBcIm9uVmlld01vZGVcIiwgb25TZWxlY3Q6IFwib25TZWxlY3RcIiwgb25Ib3ZlcjogXCJvbkhvdmVyXCIgfSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYFxuICAgIDxicy1jYWxlbmRhci1sYXlvdXQ+XG4gICAgICA8YnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXdcbiAgICAgICAgW2NhbGVuZGFyXT1cImNhbGVuZGFyXCJcbiAgICAgICAgKG9uTmF2aWdhdGUpPVwibmF2aWdhdGVUbygkZXZlbnQpXCJcbiAgICAgICAgKG9uVmlld01vZGUpPVwiY2hhbmdlVmlld01vZGUoJGV2ZW50KVwiXG4gICAgICA+PC9icy1kYXRlcGlja2VyLW5hdmlnYXRpb24tdmlldz5cblxuICAgICAgPHRhYmxlIHJvbGU9XCJncmlkXCIgY2xhc3M9XCJ5ZWFyc1wiPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgIDx0ciAqbmdGb3I9XCJsZXQgcm93IG9mIGNhbGVuZGFyPy55ZWFyc1wiPlxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgeWVhciBvZiByb3dcIiByb2xlPVwiZ3JpZGNlbGxcIlxuICAgICAgICAgICAgICAoY2xpY2spPVwidmlld1llYXIoeWVhcilcIlxuICAgICAgICAgICAgICAobW91c2VlbnRlcik9XCJob3ZlclllYXIoeWVhciwgdHJ1ZSlcIlxuICAgICAgICAgICAgICAobW91c2VsZWF2ZSk9XCJob3ZlclllYXIoeWVhciwgZmFsc2UpXCJcbiAgICAgICAgICAgICAgW2NsYXNzLmRpc2FibGVkXT1cInllYXIuaXNEaXNhYmxlZFwiXG4gICAgICAgICAgICAgIFtjbGFzcy5pcy1oaWdobGlnaHRlZF09XCJ5ZWFyLmlzSG92ZXJlZFwiPlxuICAgICAgICAgICAgPHNwYW4gW2NsYXNzLnNlbGVjdGVkXT1cInllYXIuaXNTZWxlY3RlZFwiPnt7IHllYXIubGFiZWwgfX08L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9icy1jYWxlbmRhci1sYXlvdXQ+XG4gIGAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGk2Lk5nRm9yT2YsIHNlbGVjdG9yOiBcIltuZ0Zvcl1bbmdGb3JPZl1cIiwgaW5wdXRzOiBbXCJuZ0Zvck9mXCIsIFwibmdGb3JUcmFja0J5XCIsIFwibmdGb3JUZW1wbGF0ZVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IEJzQ2FsZW5kYXJMYXlvdXRDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWNhbGVuZGFyLWxheW91dFwiIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNEYXRlcGlja2VyTmF2aWdhdGlvblZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRhdGVwaWNrZXItbmF2aWdhdGlvbi12aWV3XCIsIGlucHV0czogW1wiY2FsZW5kYXJcIiwgXCJpc0Rpc2FibGVkXCJdLCBvdXRwdXRzOiBbXCJvbk5hdmlnYXRlXCIsIFwib25WaWV3TW9kZVwiXSB9XSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc1llYXJzQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdicy15ZWFycy1jYWxlbmRhci12aWV3JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGBcbiAgICA8YnMtY2FsZW5kYXItbGF5b3V0PlxuICAgICAgPGJzLWRhdGVwaWNrZXItbmF2aWdhdGlvbi12aWV3XG4gICAgICAgIFtjYWxlbmRhcl09XCJjYWxlbmRhclwiXG4gICAgICAgIChvbk5hdmlnYXRlKT1cIm5hdmlnYXRlVG8oJGV2ZW50KVwiXG4gICAgICAgIChvblZpZXdNb2RlKT1cImNoYW5nZVZpZXdNb2RlKCRldmVudClcIlxuICAgICAgPjwvYnMtZGF0ZXBpY2tlci1uYXZpZ2F0aW9uLXZpZXc+XG5cbiAgICAgIDx0YWJsZSByb2xlPVwiZ3JpZFwiIGNsYXNzPVwieWVhcnNcIj5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICA8dHIgKm5nRm9yPVwibGV0IHJvdyBvZiBjYWxlbmRhcj8ueWVhcnNcIj5cbiAgICAgICAgICA8dGQgKm5nRm9yPVwibGV0IHllYXIgb2Ygcm93XCIgcm9sZT1cImdyaWRjZWxsXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInZpZXdZZWFyKHllYXIpXCJcbiAgICAgICAgICAgICAgKG1vdXNlZW50ZXIpPVwiaG92ZXJZZWFyKHllYXIsIHRydWUpXCJcbiAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwiaG92ZXJZZWFyKHllYXIsIGZhbHNlKVwiXG4gICAgICAgICAgICAgIFtjbGFzcy5kaXNhYmxlZF09XCJ5ZWFyLmlzRGlzYWJsZWRcIlxuICAgICAgICAgICAgICBbY2xhc3MuaXMtaGlnaGxpZ2h0ZWRdPVwieWVhci5pc0hvdmVyZWRcIj5cbiAgICAgICAgICAgIDxzcGFuIFtjbGFzcy5zZWxlY3RlZF09XCJ5ZWFyLmlzU2VsZWN0ZWRcIj57eyB5ZWFyLmxhYmVsIH19PC9zcGFuPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvYnMtY2FsZW5kYXItbGF5b3V0PlxuICBgXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIHByb3BEZWNvcmF0b3JzOiB7IGNhbGVuZGFyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb25OYXZpZ2F0ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBvblZpZXdNb2RlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIG9uU2VsZWN0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIG9uSG92ZXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBCc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQgZXh0ZW5kcyBCc0RhdGVwaWNrZXJBYnN0cmFjdENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoX3JlbmRlcmVyLCBfY29uZmlnLCBfc3RvcmUsIF9lbGVtZW50LCBfYWN0aW9ucywgX2VmZmVjdHMsIF9wb3NpdGlvblNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICAgICAgdGhpcy5fc3RvcmUgPSBfc3RvcmU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcbiAgICAgICAgdGhpcy5fYWN0aW9ucyA9IF9hY3Rpb25zO1xuICAgICAgICB0aGlzLl9wb3NpdGlvblNlcnZpY2UgPSBfcG9zaXRpb25TZXJ2aWNlO1xuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvblN0YXRlID0gJ3ZvaWQnO1xuICAgICAgICB0aGlzLmlzUmFuZ2VQaWNrZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fc3VicyA9IFtdO1xuICAgICAgICB0aGlzLl9lZmZlY3RzID0gX2VmZmVjdHM7XG4gICAgICAgIF9yZW5kZXJlci5zZXRTdHlsZShfZWxlbWVudC5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICBfcmVuZGVyZXIuc2V0U3R5bGUoX2VsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgfVxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGVQaWNrZXJEaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fY29uZmlnLmlzRGlzYWJsZWQ7XG4gICAgfVxuICAgIGdldCBpc0RhdGVwaWNrZXJEaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRlUGlja2VyRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxuICAgIGdldCBpc0RhdGVwaWNrZXJSZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRlUGlja2VyRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLl9wb3NpdGlvblNlcnZpY2Uuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICBtb2RpZmllcnM6IHtcbiAgICAgICAgICAgICAgICBmbGlwOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRoaXMuX2NvbmZpZy5hZGFwdGl2ZVBvc2l0aW9uXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcmV2ZW50T3ZlcmZsb3c6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5fY29uZmlnLmFkYXB0aXZlUG9zaXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWxsb3dlZFBvc2l0aW9uczogdGhpcy5fY29uZmlnLmFsbG93ZWRQb3NpdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uU2VydmljZS5ldmVudCQ/LnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25TZXJ2aWNlLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb25maWcuaXNBbmltYXRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSB0aGlzLmlzVG9wUG9zaXRpb24gPyAnYW5pbWF0ZWQtdXAnIDogJ2FuaW1hdGVkLWRvd24nO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSAndW5hbmltYXRlZCc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlzT3RoZXJNb250aHNBY3RpdmUgPSB0aGlzLl9jb25maWcuc2VsZWN0RnJvbU90aGVyTW9udGg7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQ2xhc3MgPSB0aGlzLl9jb25maWcuY29udGFpbmVyQ2xhc3M7XG4gICAgICAgIHRoaXMuc2hvd1RvZGF5QnRuID0gdGhpcy5fY29uZmlnLnNob3dUb2RheUJ1dHRvbjtcbiAgICAgICAgdGhpcy50b2RheUJ0bkxibCA9IHRoaXMuX2NvbmZpZy50b2RheUJ1dHRvbkxhYmVsO1xuICAgICAgICB0aGlzLnRvZGF5UG9zID0gdGhpcy5fY29uZmlnLnRvZGF5UG9zaXRpb247XG4gICAgICAgIHRoaXMuc2hvd0NsZWFyQnRuID0gdGhpcy5fY29uZmlnLnNob3dDbGVhckJ1dHRvbjtcbiAgICAgICAgdGhpcy5jbGVhckJ0bkxibCA9IHRoaXMuX2NvbmZpZy5jbGVhckJ1dHRvbkxhYmVsO1xuICAgICAgICB0aGlzLmNsZWFyUG9zID0gdGhpcy5fY29uZmlnLmNsZWFyUG9zaXRpb247XG4gICAgICAgIHRoaXMuY3VzdG9tUmFuZ2VCdG5MYmwgPSB0aGlzLl9jb25maWcuY3VzdG9tUmFuZ2VCdXR0b25MYWJlbDtcbiAgICAgICAgdGhpcy53aXRoVGltZXBpY2tlciA9IHRoaXMuX2NvbmZpZy53aXRoVGltZXBpY2tlcjtcbiAgICAgICAgdGhpcy5fZWZmZWN0cz8uaW5pdCh0aGlzLl9zdG9yZSlcbiAgICAgICAgICAgIC8vIGludGlhbCBzdGF0ZSBvcHRpb25zXG4gICAgICAgICAgICAuc2V0T3B0aW9ucyh0aGlzLl9jb25maWcpXG4gICAgICAgICAgICAvLyBkYXRhIGJpbmRpbmcgdmlldyAtLT4gbW9kZWxcbiAgICAgICAgICAgIC5zZXRCaW5kaW5ncyh0aGlzKVxuICAgICAgICAgICAgLy8gc2V0IGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAuc2V0RXZlbnRIYW5kbGVycyh0aGlzKVxuICAgICAgICAgICAgLnJlZ2lzdGVyRGF0ZXBpY2tlclNpZGVFZmZlY3RzKCk7XG4gICAgICAgIGxldCBjdXJyZW50RGF0ZTtcbiAgICAgICAgLy8gdG9kbzogbW92ZSBpdCBzb21ld2hlcmUgZWxzZVxuICAgICAgICAvLyBvbiBzZWxlY3RlZCBkYXRlIGNoYW5nZVxuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmUuc2VsZWN0KChzdGF0ZSkgPT4gc3RhdGUuc2VsZWN0ZWREYXRlKS5zdWJzY3JpYmUoKGRhdGUpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnREYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdChkYXRlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmUuc2VsZWN0KChzdGF0ZSkgPT4gc3RhdGUuc2VsZWN0ZWRUaW1lKS5zdWJzY3JpYmUoKHRpbWUpID0+IHtcbiAgICAgICAgICAgIGlmICghdGltZVswXSB8fCAhKHRpbWVbMF0gaW5zdGFuY2VvZiBEYXRlKSB8fCB0aW1lWzBdID09PSBjdXJyZW50RGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdCh0aW1lWzBdKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLmNoYW5nZVZpZXdNb2RlKHRoaXMuX2NvbmZpZy5zdGFydFZpZXcpKTtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGltZVN1Yi5hZGQodGhpcy5zZWxlY3RlZFRpbWU/LnN1YnNjcmliZSgodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpICYmIHZhbC5sZW5ndGggPj0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcGlja2VyPy53cml0ZVZhbHVlKHZhbFswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVwaWNrZXI/LnJlZ2lzdGVyT25DaGFuZ2UoKHZhbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aW1lU2VsZWN0SGFuZGxlcih2YWwsIDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzVG9wUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0b3AnKTtcbiAgICB9XG4gICAgcG9zaXRpb25TZXJ2aWNlRW5hYmxlKCkge1xuICAgICAgICB0aGlzLl9wb3NpdGlvblNlcnZpY2UuZW5hYmxlKCk7XG4gICAgfVxuICAgIHRpbWVTZWxlY3RIYW5kbGVyKGRhdGUsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuc2VsZWN0VGltZShkYXRlLCBpbmRleCkpO1xuICAgIH1cbiAgICBkYXlTZWxlY3RIYW5kbGVyKGRheSkge1xuICAgICAgICBpZiAoIWRheSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB0aGlzLmlzT3RoZXJNb250aHNBY3RpdmUgPyBkYXkuaXNEaXNhYmxlZCA6IChkYXkuaXNPdGhlck1vbnRoIHx8IGRheS5pc0Rpc2FibGVkKTtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLnNlbGVjdChkYXkuZGF0ZSkpO1xuICAgIH1cbiAgICBtb250aFNlbGVjdEhhbmRsZXIoZGF5KSB7XG4gICAgICAgIGlmICghZGF5IHx8IGRheS5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5uYXZpZ2F0ZVRvKHtcbiAgICAgICAgICAgIHVuaXQ6IHtcbiAgICAgICAgICAgICAgICBtb250aDogZ2V0TW9udGgoZGF5LmRhdGUpLFxuICAgICAgICAgICAgICAgIHllYXI6IGdldEZ1bGxZZWFyKGRheS5kYXRlKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpZXdNb2RlOiAnZGF5J1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHllYXJTZWxlY3RIYW5kbGVyKGRheSkge1xuICAgICAgICBpZiAoIWRheSB8fCBkYXkuaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMubmF2aWdhdGVUbyh7XG4gICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgeWVhcjogZ2V0RnVsbFllYXIoZGF5LmRhdGUpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlld01vZGU6ICdtb250aCdcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzZXRUb2RheSgpIHtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZWxlY3QobmV3IERhdGUoKSkpO1xuICAgIH1cbiAgICBjbGVhckRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMuc2VsZWN0KHVuZGVmaW5lZCkpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5fc3Vicykge1xuICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZFRpbWVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5fZWZmZWN0cz8uZGVzdHJveSgpO1xuICAgIH1cbn1cbkJzRGF0ZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5SZW5kZXJlcjIgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyQ29uZmlnIH0sIHsgdG9rZW46IEJzRGF0ZXBpY2tlclN0b3JlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyQWN0aW9ucyB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJFZmZlY3RzIH0sIHsgdG9rZW46IGk1LlBvc2l0aW9uaW5nU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5Cc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNEYXRlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1kYXRlcGlja2VyLWNvbnRhaW5lclwiLCBob3N0OiB7IGF0dHJpYnV0ZXM6IHsgXCJyb2xlXCI6IFwiZGlhbG9nXCIsIFwiYXJpYS1sYWJlbFwiOiBcImNhbGVuZGFyXCIgfSwgbGlzdGVuZXJzOiB7IFwiY2xpY2tcIjogXCJfc3RvcFByb3BhZ2F0aW9uKCRldmVudClcIiB9LCBwcm9wZXJ0aWVzOiB7IFwiYXR0ci5kaXNhYmxlZFwiOiBcInRoaXMuaXNEYXRlcGlja2VyRGlzYWJsZWRcIiwgXCJhdHRyLnJlYWRvbmx5XCI6IFwidGhpcy5pc0RhdGVwaWNrZXJSZWFkb25seVwiIH0sIGNsYXNzQXR0cmlidXRlOiBcImJvdHRvbVwiIH0sIHByb3ZpZGVyczogW0JzRGF0ZXBpY2tlclN0b3JlLCBCc0RhdGVwaWNrZXJFZmZlY3RzXSwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJzdGFydFRpbWVwaWNrZXJcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogW1wic3RhcnRUUFwiXSwgZGVzY2VuZGFudHM6IHRydWUgfV0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdDbGFzcywgc2VsZWN0b3I6IFwiW25nQ2xhc3NdXCIsIGlucHV0czogW1wiY2xhc3NcIiwgXCJuZ0NsYXNzXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdGb3JPZiwgc2VsZWN0b3I6IFwiW25nRm9yXVtuZ0Zvck9mXVwiLCBpbnB1dHM6IFtcIm5nRm9yT2ZcIiwgXCJuZ0ZvclRyYWNrQnlcIiwgXCJuZ0ZvclRlbXBsYXRlXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfSwgeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ1N3aXRjaCwgc2VsZWN0b3I6IFwiW25nU3dpdGNoXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdTd2l0Y2hDYXNlLCBzZWxlY3RvcjogXCJbbmdTd2l0Y2hDYXNlXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoQ2FzZVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IGk3LlRpbWVwaWNrZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcInRpbWVwaWNrZXJcIiwgaW5wdXRzOiBbXCJob3VyU3RlcFwiLCBcIm1pbnV0ZVN0ZXBcIiwgXCJzZWNvbmRzU3RlcFwiLCBcInJlYWRvbmx5SW5wdXRcIiwgXCJkaXNhYmxlZFwiLCBcIm1vdXNld2hlZWxcIiwgXCJhcnJvd2tleXNcIiwgXCJzaG93U3Bpbm5lcnNcIiwgXCJzaG93TWVyaWRpYW5cIiwgXCJzaG93TWludXRlc1wiLCBcInNob3dTZWNvbmRzXCIsIFwibWVyaWRpYW5zXCIsIFwibWluXCIsIFwibWF4XCIsIFwiaG91cnNQbGFjZWhvbGRlclwiLCBcIm1pbnV0ZXNQbGFjZWhvbGRlclwiLCBcInNlY29uZHNQbGFjZWhvbGRlclwiXSwgb3V0cHV0czogW1wiaXNWYWxpZFwiLCBcIm1lcmlkaWFuQ2hhbmdlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1c3RvbS1kYXRlLXZpZXdcIiwgaW5wdXRzOiBbXCJyYW5nZXNcIiwgXCJzZWxlY3RlZFJhbmdlXCIsIFwiY3VzdG9tUmFuZ2VMYWJlbFwiXSwgb3V0cHV0czogW1wib25TZWxlY3RcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRheXMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCIsIFwib3B0aW9uc1wiLCBcImlzRGlzYWJsZWRcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCIsIFwib25Ib3ZlcldlZWtcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1tb250aC1jYWxlbmRhci12aWV3XCIsIGlucHV0czogW1wiY2FsZW5kYXJcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMteWVhcnMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCJdLCBvdXRwdXRzOiBbXCJvbk5hdmlnYXRlXCIsIFwib25WaWV3TW9kZVwiLCBcIm9uU2VsZWN0XCIsIFwib25Ib3ZlclwiXSB9LCB7IGtpbmQ6IFwicGlwZVwiLCB0eXBlOiBpNi5Bc3luY1BpcGUsIG5hbWU6IFwiYXN5bmNcIiB9XSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnYnMtZGF0ZXBpY2tlci1jb250YWluZXInLCBwcm92aWRlcnM6IFtCc0RhdGVwaWNrZXJTdG9yZSwgQnNEYXRlcGlja2VyRWZmZWN0c10sIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnYm90dG9tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcoY2xpY2spJzogJ19zdG9wUHJvcGFnYXRpb24oJGV2ZW50KScsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnZGlhbG9nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ2NhbGVuZGFyJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5SZW5kZXJlcjIgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJTdG9yZSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zIH0sIHsgdHlwZTogQnNEYXRlcGlja2VyRWZmZWN0cyB9LCB7IHR5cGU6IGk1LlBvc2l0aW9uaW5nU2VydmljZSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgc3RhcnRUaW1lcGlja2VyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3N0YXJ0VFAnXVxuICAgICAgICAgICAgfV0sIGlzRGF0ZXBpY2tlckRpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RCaW5kaW5nLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYXR0ci5kaXNhYmxlZCddXG4gICAgICAgICAgICB9XSwgaXNEYXRlcGlja2VyUmVhZG9ubHk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdEJpbmRpbmcsXG4gICAgICAgICAgICAgICAgYXJnczogWydhdHRyLnJlYWRvbmx5J11cbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmxldCBwcmV2aW91c0RhdGUkMTtcbmNsYXNzIEJzRGF0ZXBpY2tlckRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoX2NvbmZpZywgX2VsZW1lbnRSZWYsIF9yZW5kZXJlciwgX3ZpZXdDb250YWluZXJSZWYsIGNpcykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgICAgICB0aGlzLl9lbGVtZW50UmVmID0gX2VsZW1lbnRSZWY7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGxhY2VtZW50IG9mIGEgZGF0ZXBpY2tlci4gQWNjZXB0czogXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSAnYm90dG9tJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyBldmVudHMgdGhhdCBzaG91bGQgdHJpZ2dlci4gU3VwcG9ydHMgYSBzcGFjZSBzZXBhcmF0ZWQgbGlzdCBvZlxuICAgICAgICAgKiBldmVudCBuYW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpZ2dlcnMgPSAnY2xpY2snO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xvc2UgZGF0ZXBpY2tlciBvbiBvdXRzaWRlIGNsaWNrXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm91dHNpZGVDbGljayA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlbGVjdG9yIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdGhlIGRhdGVwaWNrZXIgc2hvdWxkIGJlIGFwcGVuZGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSAnYm9keSc7XG4gICAgICAgIHRoaXMub3V0c2lkZUVzYyA9IHRydWU7XG4gICAgICAgIHRoaXMuaXNEZXN0cm95JCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBkYXRlcGlja2VyJ3MgY29udGVudCBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0cyB3aGVuIGRhdGVwaWNrZXIgdmFsdWUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgICAgIHRoaXMuX2RhdGVJbnB1dEZvcm1hdCQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvLyB0b2RvOiBhc3NpZ24gb25seSBzdWJzZXQgb2YgZmllbGRzXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgdGhpcy5fY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlciA9IGNpcy5jcmVhdGVMb2FkZXIoX2VsZW1lbnRSZWYsIF92aWV3Q29udGFpbmVyUmVmLCBfcmVuZGVyZXIpO1xuICAgICAgICB0aGlzLm9uU2hvd24gPSB0aGlzLl9kYXRlcGlja2VyLm9uU2hvd247XG4gICAgICAgIHRoaXMub25IaWRkZW4gPSB0aGlzLl9kYXRlcGlja2VyLm9uSGlkZGVuO1xuICAgICAgICB0aGlzLmlzT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRoaXMuaXNPcGVuKTtcbiAgICB9XG4gICAgZ2V0IHJlYWRvbmx5VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGRhdGVwaWNrZXIgaXMgY3VycmVudGx5IGJlaW5nIHNob3duXG4gICAgICovXG4gICAgZ2V0IGlzT3BlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGVwaWNrZXIuaXNTaG93bjtcbiAgICB9XG4gICAgc2V0IGlzT3Blbih2YWx1ZSkge1xuICAgICAgICB0aGlzLmlzT3BlbiQubmV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWwgdmFsdWUgb2YgZGF0ZXBpY2tlclxuICAgICAqL1xuICAgIHNldCBic1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9ic1ZhbHVlICYmIHZhbHVlICYmIHRoaXMuX2JzVmFsdWUuZ2V0VGltZSgpID09PSB2YWx1ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2JzVmFsdWUgJiYgdmFsdWUgJiYgIXRoaXMuX2NvbmZpZy53aXRoVGltZXBpY2tlcikge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvcHlUaW1lKHZhbHVlLCBub3cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLmJzQ29uZmlnPy5pbml0Q3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gc2V0Q3VycmVudFRpbWVPbkRhdGVTZWxlY3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdFByZXZpb3VzVmFsdWUoKTtcbiAgICAgICAgdGhpcy5fYnNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmJzVmFsdWVDaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBkYXRlSW5wdXRGb3JtYXQkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0ZUlucHV0Rm9ybWF0JDtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuX2RhdGVwaWNrZXIubGlzdGVuKHtcbiAgICAgICAgICAgIG91dHNpZGVDbGljazogdGhpcy5vdXRzaWRlQ2xpY2ssXG4gICAgICAgICAgICBvdXRzaWRlRXNjOiB0aGlzLm91dHNpZGVFc2MsXG4gICAgICAgICAgICB0cmlnZ2VyczogdGhpcy50cmlnZ2VycyxcbiAgICAgICAgICAgIHNob3c6ICgpID0+IHRoaXMuc2hvdygpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldENvbmZpZygpO1xuICAgICAgICB0aGlzLmluaXRQcmV2aW91c1ZhbHVlKCk7XG4gICAgfVxuICAgIGluaXRQcmV2aW91c1ZhbHVlKCkge1xuICAgICAgICBwcmV2aW91c0RhdGUkMSA9IHRoaXMuX2JzVmFsdWU7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXNbXCJic0NvbmZpZ1wiXSkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5jdXJyZW50VmFsdWU/LmluaXRDdXJyZW50VGltZSAmJiBjaGFuZ2VzW1wiYnNDb25maWdcIl0uY3VycmVudFZhbHVlPy5pbml0Q3VycmVudFRpbWUgIT09IGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5wcmV2aW91c1ZhbHVlPy5pbml0Q3VycmVudFRpbWUgJiYgdGhpcy5fYnNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFByZXZpb3VzVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ic1ZhbHVlID0gc2V0Q3VycmVudFRpbWVPbkRhdGVTZWxlY3QodGhpcy5fYnNWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlLmVtaXQodGhpcy5fYnNWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldENvbmZpZygpO1xuICAgICAgICAgICAgdGhpcy5fZGF0ZUlucHV0Rm9ybWF0JC5uZXh0KHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5kYXRlSW5wdXRGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGF0ZXBpY2tlclJlZiB8fCAhdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wibWluRGF0ZVwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5taW5EYXRlID0gdGhpcy5taW5EYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wibWF4RGF0ZVwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5tYXhEYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF5c0Rpc2FibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmRheXNEaXNhYmxlZCA9IHRoaXMuZGF5c0Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZXNEaXNhYmxlZFwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlc0Rpc2FibGVkID0gdGhpcy5kYXRlc0Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZXNFbmFibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmRhdGVzRW5hYmxlZCA9IHRoaXMuZGF0ZXNFbmFibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiaXNEaXNhYmxlZFwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5pc0Rpc2FibGVkID0gdGhpcy5pc0Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZUN1c3RvbUNsYXNzZXNcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF0ZUN1c3RvbUNsYXNzZXMgPSB0aGlzLmRhdGVDdXN0b21DbGFzc2VzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZVRvb2x0aXBUZXh0c1wiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlVG9vbHRpcFRleHRzID0gdGhpcy5kYXRlVG9vbHRpcFRleHRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRTdWJzY3JpYmVzKCkge1xuICAgICAgICAvLyBpZiBkYXRlIGNoYW5nZXMgZnJvbSBleHRlcm5hbCBzb3VyY2UgKG1vZGVsIC0+IHZpZXcpXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLmJzVmFsdWVDaGFuZ2Uuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGVwaWNrZXJSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gaWYgZGF0ZSBjaGFuZ2VzIGZyb20gcGlja2VyICh2aWV3IC0+IG1vZGVsKVxuICAgICAgICBpZiAodGhpcy5fZGF0ZXBpY2tlclJlZikge1xuICAgICAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UudmFsdWVDaGFuZ2Uuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFByZXZpb3VzVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJzVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5rZWVwRGF0ZXBpY2tlck1vZGFsT3BlbmVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBrZWVwRGF0ZXBpY2tlck1vZGFsT3BlbmVkKCkge1xuICAgICAgICBpZiAoIXByZXZpb3VzRGF0ZSQxIHx8ICF0aGlzLmJzQ29uZmlnPy5rZWVwRGF0ZXBpY2tlck9wZW5lZCB8fCAhdGhpcy5fY29uZmlnLndpdGhUaW1lcGlja2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRlU2FtZSgpO1xuICAgIH1cbiAgICBpc0RhdGVTYW1lKCkge1xuICAgICAgICByZXR1cm4gKHByZXZpb3VzRGF0ZSQxIGluc3RhbmNlb2YgRGF0ZVxuICAgICAgICAgICAgJiYgKHRoaXMuX2JzVmFsdWU/LmdldERhdGUoKSA9PT0gcHJldmlvdXNEYXRlJDE/LmdldERhdGUoKSlcbiAgICAgICAgICAgICYmICh0aGlzLl9ic1ZhbHVlPy5nZXRNb250aCgpID09PSBwcmV2aW91c0RhdGUkMT8uZ2V0TW9udGgoKSlcbiAgICAgICAgICAgICYmICh0aGlzLl9ic1ZhbHVlPy5nZXRGdWxsWWVhcigpID09PSBwcmV2aW91c0RhdGUkMT8uZ2V0RnVsbFllYXIoKSkpO1xuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMuaXNPcGVuJC5waXBlKGZpbHRlcihpc09wZW4gPT4gaXNPcGVuICE9PSB0aGlzLmlzT3BlbiksIHRha2VVbnRpbCh0aGlzLmlzRGVzdHJveSQpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLnRvZ2dsZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgYW4gZWxlbWVudOKAmXMgZGF0ZXBpY2tlci4gVGhpcyBpcyBjb25zaWRlcmVkIGEg4oCcbWFudWFs4oCdIHRyaWdnZXJpbmcgb2ZcbiAgICAgKiB0aGUgZGF0ZXBpY2tlci5cbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBpZiAodGhpcy5fZGF0ZXBpY2tlci5pc1Nob3duKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDb25maWcoKTtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZiA9IHRoaXMuX2RhdGVwaWNrZXJcbiAgICAgICAgICAgIC5wcm92aWRlKHsgcHJvdmlkZTogQnNEYXRlcGlja2VyQ29uZmlnLCB1c2VWYWx1ZTogdGhpcy5fY29uZmlnIH0pXG4gICAgICAgICAgICAuYXR0YWNoKEJzRGF0ZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudClcbiAgICAgICAgICAgIC50byh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5wb3NpdGlvbih7IGF0dGFjaG1lbnQ6IHRoaXMucGxhY2VtZW50IH0pXG4gICAgICAgICAgICAuc2hvdyh7IHBsYWNlbWVudDogdGhpcy5wbGFjZW1lbnQgfSk7XG4gICAgICAgIHRoaXMuaW5pdFN1YnNjcmliZXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFuIGVsZW1lbnTigJlzIGRhdGVwaWNrZXIuIFRoaXMgaXMgY29uc2lkZXJlZCBhIOKAnG1hbnVhbOKAnSB0cmlnZ2VyaW5nIG9mXG4gICAgICogdGhlIGRhdGVwaWNrZXIuXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLl9zdWJzKSB7XG4gICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJldHVybkZvY3VzVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgYW4gZWxlbWVudOKAmXMgZGF0ZXBpY2tlci4gVGhpcyBpcyBjb25zaWRlcmVkIGEg4oCcbWFudWFs4oCdIHRyaWdnZXJpbmdcbiAgICAgKiBvZiB0aGUgZGF0ZXBpY2tlci5cbiAgICAgKi9cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29uZmlnIGZvciBkYXRlcGlja2VyXG4gICAgICovXG4gICAgc2V0Q29uZmlnKCkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9jb25maWcsIHRoaXMuYnNDb25maWcsIHtcbiAgICAgICAgICAgIHZhbHVlOiBjaGVja0JzVmFsdWUodGhpcy5fYnNWYWx1ZSwgdGhpcy5tYXhEYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlKSxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWluRGF0ZSxcbiAgICAgICAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWF4RGF0ZSxcbiAgICAgICAgICAgIGRheXNEaXNhYmxlZDogdGhpcy5kYXlzRGlzYWJsZWQgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLmRheXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGRhdGVDdXN0b21DbGFzc2VzOiB0aGlzLmRhdGVDdXN0b21DbGFzc2VzIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5kYXRlQ3VzdG9tQ2xhc3NlcyxcbiAgICAgICAgICAgIGRhdGVUb29sdGlwVGV4dHM6IHRoaXMuZGF0ZVRvb2x0aXBUZXh0cyB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZVRvb2x0aXBUZXh0cyxcbiAgICAgICAgICAgIGRhdGVzRGlzYWJsZWQ6IHRoaXMuZGF0ZXNEaXNhYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGRhdGVzRW5hYmxlZDogdGhpcy5kYXRlc0VuYWJsZWQgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLmRhdGVzRW5hYmxlZCxcbiAgICAgICAgICAgIG1pbk1vZGU6IHRoaXMubWluTW9kZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWluTW9kZSxcbiAgICAgICAgICAgIGluaXRDdXJyZW50VGltZTogdGhpcy5ic0NvbmZpZz8uaW5pdEN1cnJlbnRUaW1lLFxuICAgICAgICAgICAga2VlcERhdGVwaWNrZXJPcGVuZWQ6IHRoaXMuYnNDb25maWc/LmtlZXBEYXRlcGlja2VyT3BlbmVkXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bnN1YnNjcmliZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnMubWFwKHN1YiA9PiBzdWIudW5zdWJzY3JpYmUoKSk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2RhdGVwaWNrZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmlzT3BlbiQubmV4dChmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRGVzdHJveSQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEZXN0cm95JC5uZXh0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pc0Rlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG59XG5Cc0RhdGVwaWNrZXJEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogQnNEYXRlcGlja2VyQ29uZmlnIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTIuQ29tcG9uZW50TG9hZGVyRmFjdG9yeSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5Cc0RhdGVwaWNrZXJEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNEYXRlcGlja2VyRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbYnNEYXRlcGlja2VyXVwiLCBpbnB1dHM6IHsgcGxhY2VtZW50OiBcInBsYWNlbWVudFwiLCB0cmlnZ2VyczogXCJ0cmlnZ2Vyc1wiLCBvdXRzaWRlQ2xpY2s6IFwib3V0c2lkZUNsaWNrXCIsIGNvbnRhaW5lcjogXCJjb250YWluZXJcIiwgb3V0c2lkZUVzYzogXCJvdXRzaWRlRXNjXCIsIGlzRGlzYWJsZWQ6IFwiaXNEaXNhYmxlZFwiLCBtaW5EYXRlOiBcIm1pbkRhdGVcIiwgbWF4RGF0ZTogXCJtYXhEYXRlXCIsIG1pbk1vZGU6IFwibWluTW9kZVwiLCBkYXlzRGlzYWJsZWQ6IFwiZGF5c0Rpc2FibGVkXCIsIGRhdGVzRGlzYWJsZWQ6IFwiZGF0ZXNEaXNhYmxlZFwiLCBkYXRlc0VuYWJsZWQ6IFwiZGF0ZXNFbmFibGVkXCIsIGRhdGVDdXN0b21DbGFzc2VzOiBcImRhdGVDdXN0b21DbGFzc2VzXCIsIGRhdGVUb29sdGlwVGV4dHM6IFwiZGF0ZVRvb2x0aXBUZXh0c1wiLCBpc09wZW46IFwiaXNPcGVuXCIsIGJzVmFsdWU6IFwiYnNWYWx1ZVwiLCBic0NvbmZpZzogXCJic0NvbmZpZ1wiIH0sIG91dHB1dHM6IHsgb25TaG93bjogXCJvblNob3duXCIsIG9uSGlkZGVuOiBcIm9uSGlkZGVuXCIsIGJzVmFsdWVDaGFuZ2U6IFwiYnNWYWx1ZUNoYW5nZVwiIH0sIGhvc3Q6IHsgcHJvcGVydGllczogeyBcImF0dHIucmVhZG9ubHlcIjogXCJ0aGlzLnJlYWRvbmx5VmFsdWVcIiB9IH0sIGV4cG9ydEFzOiBbXCJic0RhdGVwaWNrZXJcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tic0RhdGVwaWNrZXJdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdic0RhdGVwaWNrZXInXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkyLkNvbXBvbmVudExvYWRlckZhY3RvcnkgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHBsYWNlbWVudDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHRyaWdnZXJzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb3V0c2lkZUNsaWNrOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgY29udGFpbmVyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb3V0c2lkZUVzYzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uU2hvd246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgb25IaWRkZW46IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgaXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG1pbkRhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBtYXhEYXRlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbWluTW9kZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGRheXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGRhdGVzRGlzYWJsZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlc0VuYWJsZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlQ3VzdG9tQ2xhc3NlczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGRhdGVUb29sdGlwVGV4dHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBic1ZhbHVlQ2hhbmdlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIHJlYWRvbmx5VmFsdWU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdEJpbmRpbmcsXG4gICAgICAgICAgICAgICAgYXJnczogWydhdHRyLnJlYWRvbmx5J11cbiAgICAgICAgICAgIH1dLCBpc09wZW46IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBic1ZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgYnNDb25maWc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIEJzRGF0ZXBpY2tlcklubGluZUNvbmZpZyBleHRlbmRzIEJzRGF0ZXBpY2tlckNvbmZpZyB7XG59XG5Cc0RhdGVwaWNrZXJJbmxpbmVDb25maWcuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VySW5saW5lQ29uZmlnLCBkZXBzOiBudWxsLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVwaWNrZXJJbmxpbmVDb25maWcuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZUNvbmZpZywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZUNvbmZpZywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgQnNEYXRlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50IGV4dGVuZHMgQnNEYXRlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVuZGVyZXIsIF9jb25maWcsIF9zdG9yZSwgX2VsZW1lbnQsIF9hY3Rpb25zLCBfZWZmZWN0cywgX3Bvc2l0aW9uaW5nU2VydmljZSkge1xuICAgICAgICBzdXBlcihfcmVuZGVyZXIsIF9jb25maWcsIF9zdG9yZSwgX2VsZW1lbnQsIF9hY3Rpb25zLCBfZWZmZWN0cywgX3Bvc2l0aW9uaW5nU2VydmljZSk7XG4gICAgICAgIF9yZW5kZXJlci5zZXRTdHlsZShfZWxlbWVudC5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcbiAgICAgICAgX3JlbmRlcmVyLnNldFN0eWxlKF9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdwb3NpdGlvbicsICdzdGF0aWMnKTtcbiAgICB9XG4gICAgZ2V0IGRpc2FibGVkVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGF0ZVBpY2tlckRpc2FibGVkID8gJycgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgcmVhZG9ubHlWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRlUGlja2VyRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxufVxuQnNEYXRlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50Lsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLlJlbmRlcmVyMiB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyU3RvcmUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJBY3Rpb25zIH0sIHsgdG9rZW46IEJzRGF0ZXBpY2tlckVmZmVjdHMgfSwgeyB0b2tlbjogaTUuUG9zaXRpb25pbmdTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkJzRGF0ZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RhdGVwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRhdGVwaWNrZXItaW5saW5lLWNvbnRhaW5lclwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImNsaWNrXCI6IFwiX3N0b3BQcm9wYWdhdGlvbigkZXZlbnQpXCIgfSwgcHJvcGVydGllczogeyBcImF0dHIuZGlzYWJsZWRcIjogXCJ0aGlzLmRpc2FibGVkVmFsdWVcIiwgXCJhdHRyLnJlYWRvbmx5XCI6IFwidGhpcy5yZWFkb25seVZhbHVlXCIgfSB9LCBwcm92aWRlcnM6IFtCc0RhdGVwaWNrZXJTdG9yZSwgQnNEYXRlcGlja2VyRWZmZWN0c10sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdDbGFzcywgc2VsZWN0b3I6IFwiW25nQ2xhc3NdXCIsIGlucHV0czogW1wiY2xhc3NcIiwgXCJuZ0NsYXNzXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdGb3JPZiwgc2VsZWN0b3I6IFwiW25nRm9yXVtuZ0Zvck9mXVwiLCBpbnB1dHM6IFtcIm5nRm9yT2ZcIiwgXCJuZ0ZvclRyYWNrQnlcIiwgXCJuZ0ZvclRlbXBsYXRlXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfSwgeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ1N3aXRjaCwgc2VsZWN0b3I6IFwiW25nU3dpdGNoXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdTd2l0Y2hDYXNlLCBzZWxlY3RvcjogXCJbbmdTd2l0Y2hDYXNlXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoQ2FzZVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IGk3LlRpbWVwaWNrZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcInRpbWVwaWNrZXJcIiwgaW5wdXRzOiBbXCJob3VyU3RlcFwiLCBcIm1pbnV0ZVN0ZXBcIiwgXCJzZWNvbmRzU3RlcFwiLCBcInJlYWRvbmx5SW5wdXRcIiwgXCJkaXNhYmxlZFwiLCBcIm1vdXNld2hlZWxcIiwgXCJhcnJvd2tleXNcIiwgXCJzaG93U3Bpbm5lcnNcIiwgXCJzaG93TWVyaWRpYW5cIiwgXCJzaG93TWludXRlc1wiLCBcInNob3dTZWNvbmRzXCIsIFwibWVyaWRpYW5zXCIsIFwibWluXCIsIFwibWF4XCIsIFwiaG91cnNQbGFjZWhvbGRlclwiLCBcIm1pbnV0ZXNQbGFjZWhvbGRlclwiLCBcInNlY29uZHNQbGFjZWhvbGRlclwiXSwgb3V0cHV0czogW1wiaXNWYWxpZFwiLCBcIm1lcmlkaWFuQ2hhbmdlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1c3RvbS1kYXRlLXZpZXdcIiwgaW5wdXRzOiBbXCJyYW5nZXNcIiwgXCJzZWxlY3RlZFJhbmdlXCIsIFwiY3VzdG9tUmFuZ2VMYWJlbFwiXSwgb3V0cHV0czogW1wib25TZWxlY3RcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRheXMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCIsIFwib3B0aW9uc1wiLCBcImlzRGlzYWJsZWRcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCIsIFwib25Ib3ZlcldlZWtcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1tb250aC1jYWxlbmRhci12aWV3XCIsIGlucHV0czogW1wiY2FsZW5kYXJcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMteWVhcnMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCJdLCBvdXRwdXRzOiBbXCJvbk5hdmlnYXRlXCIsIFwib25WaWV3TW9kZVwiLCBcIm9uU2VsZWN0XCIsIFwib25Ib3ZlclwiXSB9LCB7IGtpbmQ6IFwicGlwZVwiLCB0eXBlOiBpNi5Bc3luY1BpcGUsIG5hbWU6IFwiYXN5bmNcIiB9XSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnYnMtZGF0ZXBpY2tlci1pbmxpbmUtY29udGFpbmVyJywgcHJvdmlkZXJzOiBbQnNEYXRlcGlja2VyU3RvcmUsIEJzRGF0ZXBpY2tlckVmZmVjdHNdLCBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNsaWNrKSc6ICdfc3RvcFByb3BhZ2F0aW9uKCRldmVudCknXG4gICAgICAgICAgICAgICAgICAgIH0sIGFuaW1hdGlvbnM6IFtkYXRlcGlja2VyQW5pbWF0aW9uXSwgdGVtcGxhdGU6IFwiPCEtLSBkYXlzIGNhbGVuZGFyIHZpZXcgbW9kZSAtLT5cXG48ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyXFxcIiBbbmdDbGFzc109XFxcImNvbnRhaW5lckNsYXNzXFxcIiAqbmdJZj1cXFwidmlld01vZGUgfCBhc3luY1xcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCJcXG4gICAgW0BkYXRlcGlja2VyQW5pbWF0aW9uXT1cXFwiYW5pbWF0aW9uU3RhdGVcXFwiXFxuICAgIChAZGF0ZXBpY2tlckFuaW1hdGlvbi5kb25lKT1cXFwicG9zaXRpb25TZXJ2aWNlRW5hYmxlKClcXFwiPlxcbiAgICA8IS0tY2FsZW5kYXJzLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWNhbGVuZGFyLWNvbnRhaW5lclxcXCIgW25nU3dpdGNoXT1cXFwidmlld01vZGUgfCBhc3luY1xcXCIgcm9sZT1cXFwiYXBwbGljYXRpb25cXFwiPlxcbiAgICAgIDwhLS1kYXlzIGNhbGVuZGFyLS0+XFxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdTd2l0Y2hDYXNlPVxcXCInZGF5J1xcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICA8YnMtZGF5cy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgZGF5c0NhbGVuZGFyJCB8IGFzeW5jXFxcIlxcbiAgICAgICAgICAgIFtjbGFzcy5icy1kYXRlcGlja2VyLW11bHRpcGxlXT1cXFwibXVsdGlwbGVDYWxlbmRhcnNcXFwiXFxuICAgICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgICAgW2lzRGlzYWJsZWRdPVxcXCJpc0RhdGVQaWNrZXJEaXNhYmxlZFxcXCJcXG4gICAgICAgICAgICBbb3B0aW9uc109XFxcIm9wdGlvbnMkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgKG9uTmF2aWdhdGUpPVxcXCJuYXZpZ2F0ZVRvKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uVmlld01vZGUpPVxcXCJzZXRWaWV3TW9kZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIChvbkhvdmVyKT1cXFwiZGF5SG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXJXZWVrKT1cXFwid2Vla0hvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIChvblNlbGVjdCk9XFxcImRheVNlbGVjdEhhbmRsZXIoJGV2ZW50KVxcXCI+XFxuICAgICAgICAgIDwvYnMtZGF5cy1jYWxlbmRhci12aWV3PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2ICpuZ0lmPVxcXCJ3aXRoVGltZXBpY2tlclxcXCIgY2xhc3M9XFxcImJzLXRpbWVwaWNrZXItaW4tZGF0ZXBpY2tlci1jb250YWluZXJcXFwiPlxcbiAgICAgICAgICA8dGltZXBpY2tlciAjc3RhcnRUUCBbZGlzYWJsZWRdPVxcXCJpc0RhdGVQaWNrZXJEaXNhYmxlZFxcXCI+PC90aW1lcGlja2VyPlxcbiAgICAgICAgICA8dGltZXBpY2tlciAjZW5kVFAgKm5nSWY9XFxcImlzUmFuZ2VQaWNrZXJcXFwiIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L25nLWNvbnRhaW5lcj5cXG5cXG4gICAgICA8IS0tbW9udGhzIGNhbGVuZGFyLS0+XFxuICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPVxcXCInbW9udGgnXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy1tb250aC1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIG1vbnRoc0NhbGVuZGFyIHwgYXN5bmNcXFwiXFxuICAgICAgICAgIFtjbGFzcy5icy1kYXRlcGlja2VyLW11bHRpcGxlXT1cXFwibXVsdGlwbGVDYWxlbmRhcnNcXFwiXFxuICAgICAgICAgIFtjYWxlbmRhcl09XFxcImNhbGVuZGFyXFxcIlxcbiAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uVmlld01vZGUpPVxcXCJzZXRWaWV3TW9kZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25Ib3Zlcik9XFxcIm1vbnRoSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgIChvblNlbGVjdCk9XFxcIm1vbnRoU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMtbW9udGgtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICA8IS0teWVhcnMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIid5ZWFyJ1xcXCIgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8YnMteWVhcnMtY2FsZW5kYXItdmlld1xcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiB5ZWFyc0NhbGVuZGFyIHwgYXN5bmNcXFwiXFxuICAgICAgICAgIFtjbGFzcy5icy1kYXRlcGlja2VyLW11bHRpcGxlXT1cXFwibXVsdGlwbGVDYWxlbmRhcnNcXFwiXFxuICAgICAgICAgIFtjYWxlbmRhcl09XFxcImNhbGVuZGFyXFxcIlxcbiAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uVmlld01vZGUpPVxcXCJzZXRWaWV3TW9kZSgkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25Ib3Zlcik9XFxcInllYXJIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwieWVhclNlbGVjdEhhbmRsZXIoJGV2ZW50KVxcXCI+XFxuICAgICAgICA8L2JzLXllYXJzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8IS0tYXBwbHljYW5jZWwgYnV0dG9ucy0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPkFwcGx5PC9idXR0b24+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPkNhbmNlbDwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1idXR0b25zXFxcIiAqbmdJZj1cXFwic2hvd1RvZGF5QnRuIHx8IHNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLXRvZGF5LXdyYXBwZXJcXFwiXFxuICAgICAgICAgICBbY2xhc3MudG9kYXktbGVmdF09XFxcInRvZGF5UG9zID09PSAnbGVmdCdcXFwiXFxuICAgICAgICAgICBbY2xhc3MudG9kYXktcmlnaHRdPVxcXCJ0b2RheVBvcyA9PT0gJ3JpZ2h0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1jZW50ZXJdPVxcXCJ0b2RheVBvcyA9PT0gJ2NlbnRlcidcXFwiXFxuICAgICAgICAgICAqbmdJZj1cXFwic2hvd1RvZGF5QnRuXFxcIj5cXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwic2V0VG9kYXkoKVxcXCI+e3t0b2RheUJ0bkxibH19PC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tY2xlYXItd3JhcHBlclxcXCJcXG4gICAgICAgIFtjbGFzcy5jbGVhci1sZWZ0XT1cXFwiY2xlYXJQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgIFtjbGFzcy5jbGVhci1yaWdodF09XFxcImNsZWFyUG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWNlbnRlcl09XFxcImNsZWFyUG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICpuZ0lmPVxcXCJzaG93Q2xlYXJCdG5cXFwiPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIChjbGljayk9XFxcImNsZWFyRGF0ZSgpXFxcIj57e2NsZWFyQnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gIDwvZGl2PlxcblxcbiAgPCEtLWN1c3RvbSBkYXRlcyBvciBkYXRlIHJhbmdlcyBwaWNrZXItLT5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY3VzdG9tLXJhbmdlXFxcIiAqbmdJZj1cXFwiY3VzdG9tUmFuZ2VzICYmIGN1c3RvbVJhbmdlcy5sZW5ndGggPiAwXFxcIj5cXG4gICAgPGJzLWN1c3RvbS1kYXRlLXZpZXdcXG4gICAgICBbc2VsZWN0ZWRSYW5nZV09XFxcImNob3NlblJhbmdlXFxcIlxcbiAgICAgIFtyYW5nZXNdPVxcXCJjdXN0b21SYW5nZXNcXFwiXFxuICAgICAgW2N1c3RvbVJhbmdlTGFiZWxdPVxcXCJjdXN0b21SYW5nZUJ0bkxibFxcXCJcXG4gICAgICAob25TZWxlY3QpPVxcXCJzZXRSYW5nZU9uQ2FsZW5kYXIoJGV2ZW50KVxcXCI+XFxuICAgIDwvYnMtY3VzdG9tLWRhdGUtdmlldz5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuUmVuZGVyZXIyIH0sIHsgdHlwZTogQnNEYXRlcGlja2VyQ29uZmlnIH0sIHsgdHlwZTogQnNEYXRlcGlja2VyU3RvcmUgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogQnNEYXRlcGlja2VyQWN0aW9ucyB9LCB7IHR5cGU6IEJzRGF0ZXBpY2tlckVmZmVjdHMgfSwgeyB0eXBlOiBpNS5Qb3NpdGlvbmluZ1NlcnZpY2UgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGRpc2FibGVkVmFsdWU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdEJpbmRpbmcsXG4gICAgICAgICAgICAgICAgYXJnczogWydhdHRyLmRpc2FibGVkJ11cbiAgICAgICAgICAgIH1dLCByZWFkb25seVZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RCaW5kaW5nLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYXR0ci5yZWFkb25seSddXG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBCc0RhdGVwaWNrZXJJbmxpbmVEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9lbGVtZW50UmVmLCBfcmVuZGVyZXIsIF92aWV3Q29udGFpbmVyUmVmLCBjaXMpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IF9lbGVtZW50UmVmO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgZGF0ZXBpY2tlciBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0cyB3aGVuIGRhdGVwaWNrZXIgdmFsdWUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgICAgIC8vIHRvZG86IGFzc2lnbiBvbmx5IHN1YnNldCBvZiBmaWVsZHNcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB0aGlzLl9jb25maWcpO1xuICAgICAgICB0aGlzLl9kYXRlcGlja2VyID0gY2lzLmNyZWF0ZUxvYWRlcihfZWxlbWVudFJlZiwgX3ZpZXdDb250YWluZXJSZWYsIF9yZW5kZXJlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaXRpYWwgdmFsdWUgb2YgZGF0ZXBpY2tlclxuICAgICAqL1xuICAgIHNldCBic1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9ic1ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fYnNWYWx1ZSAmJiB2YWx1ZSAmJiAhdGhpcy5fY29uZmlnLndpdGhUaW1lcGlja2VyKSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29weVRpbWUodmFsdWUsIG5vdyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICYmIHRoaXMuYnNDb25maWc/LmluaXRDdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdmFsdWUgPSBzZXRDdXJyZW50VGltZU9uRGF0ZVNlbGVjdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmJzVmFsdWVDaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnNldENvbmZpZygpO1xuICAgICAgICB0aGlzLmluaXRTdWJzY3JpYmVzKCk7XG4gICAgfVxuICAgIGluaXRTdWJzY3JpYmVzKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5ic1ZhbHVlQ2hhbmdlLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXRlcGlja2VyUmVmKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGlmICh0aGlzLl9kYXRlcGlja2VyUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS52YWx1ZUNoYW5nZS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ic1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5zdWJzY3JpYmVTdWJzY3JpcHRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5fc3Vicz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzLm1hcChzdWIgPT4gc3ViLnVuc3Vic2NyaWJlKCkpO1xuICAgICAgICAgICAgdGhpcy5fc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXNbXCJic0NvbmZpZ1wiXSkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5jdXJyZW50VmFsdWU/LmluaXRDdXJyZW50VGltZSAmJiBjaGFuZ2VzW1wiYnNDb25maWdcIl0uY3VycmVudFZhbHVlPy5pbml0Q3VycmVudFRpbWUgIT09IGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5wcmV2aW91c1ZhbHVlPy5pbml0Q3VycmVudFRpbWUgJiYgdGhpcy5fYnNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JzVmFsdWUgPSBzZXRDdXJyZW50VGltZU9uRGF0ZVNlbGVjdCh0aGlzLl9ic1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJzVmFsdWVDaGFuZ2UuZW1pdCh0aGlzLl9ic1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2RhdGVwaWNrZXJSZWYgfHwgIXRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc1tcIm1pbkRhdGVcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UubWluRGF0ZSA9IHRoaXMubWluRGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc1tcIm1heERhdGVcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UubWF4RGF0ZSA9IHRoaXMubWF4RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc1tcImRhdGVzRGlzYWJsZWRcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF0ZXNEaXNhYmxlZCA9IHRoaXMuZGF0ZXNEaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc1tcImRhdGVzRW5hYmxlZFwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlc0VuYWJsZWQgPSB0aGlzLmRhdGVzRW5hYmxlZDtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UudmFsdWUgPSB0aGlzLl9ic1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiaXNEaXNhYmxlZFwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5pc0Rpc2FibGVkID0gdGhpcy5pc0Rpc2FibGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZUN1c3RvbUNsYXNzZXNcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF0ZUN1c3RvbUNsYXNzZXMgPSB0aGlzLmRhdGVDdXN0b21DbGFzc2VzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZVRvb2x0aXBUZXh0c1wiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlVG9vbHRpcFRleHRzID0gdGhpcy5kYXRlVG9vbHRpcFRleHRzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjb25maWcgZm9yIGRhdGVwaWNrZXJcbiAgICAgKi9cbiAgICBzZXRDb25maWcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRlcGlja2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9jb25maWcsIHRoaXMuYnNDb25maWcsIHtcbiAgICAgICAgICAgIHZhbHVlOiBjaGVja0JzVmFsdWUodGhpcy5fYnNWYWx1ZSwgdGhpcy5tYXhEYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlKSxcbiAgICAgICAgICAgIGlzRGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZCxcbiAgICAgICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWluRGF0ZSxcbiAgICAgICAgICAgIG1heERhdGU6IHRoaXMubWF4RGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWF4RGF0ZSxcbiAgICAgICAgICAgIGRhdGVDdXN0b21DbGFzc2VzOiB0aGlzLmRhdGVDdXN0b21DbGFzc2VzIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5kYXRlQ3VzdG9tQ2xhc3NlcyxcbiAgICAgICAgICAgIGRhdGVUb29sdGlwVGV4dHM6IHRoaXMuZGF0ZVRvb2x0aXBUZXh0cyB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZVRvb2x0aXBUZXh0cyxcbiAgICAgICAgICAgIGRhdGVzRGlzYWJsZWQ6IHRoaXMuZGF0ZXNEaXNhYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZXNEaXNhYmxlZCxcbiAgICAgICAgICAgIGRhdGVzRW5hYmxlZDogdGhpcy5kYXRlc0VuYWJsZWQgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLmRhdGVzRW5hYmxlZCxcbiAgICAgICAgICAgIGluaXRDdXJyZW50VGltZTogdGhpcy5ic0NvbmZpZz8uaW5pdEN1cnJlbnRUaW1lXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmID0gdGhpcy5fZGF0ZXBpY2tlclxuICAgICAgICAgICAgLnByb3ZpZGUoeyBwcm92aWRlOiBCc0RhdGVwaWNrZXJDb25maWcsIHVzZVZhbHVlOiB0aGlzLl9jb25maWcgfSlcbiAgICAgICAgICAgIC5hdHRhY2goQnNEYXRlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50KVxuICAgICAgICAgICAgLnRvKHRoaXMuX2VsZW1lbnRSZWYpXG4gICAgICAgICAgICAuc2hvdygpO1xuICAgICAgICB0aGlzLmluaXRTdWJzY3JpYmVzKCk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9kYXRlcGlja2VyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG59XG5Cc0RhdGVwaWNrZXJJbmxpbmVEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VySW5saW5lRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogQnNEYXRlcGlja2VySW5saW5lQ29uZmlnIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTIuQ29tcG9uZW50TG9hZGVyRmFjdG9yeSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5Cc0RhdGVwaWNrZXJJbmxpbmVEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNEYXRlcGlja2VySW5saW5lRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJicy1kYXRlcGlja2VyLWlubGluZVwiLCBpbnB1dHM6IHsgYnNDb25maWc6IFwiYnNDb25maWdcIiwgaXNEaXNhYmxlZDogXCJpc0Rpc2FibGVkXCIsIG1pbkRhdGU6IFwibWluRGF0ZVwiLCBtYXhEYXRlOiBcIm1heERhdGVcIiwgZGF0ZUN1c3RvbUNsYXNzZXM6IFwiZGF0ZUN1c3RvbUNsYXNzZXNcIiwgZGF0ZVRvb2x0aXBUZXh0czogXCJkYXRlVG9vbHRpcFRleHRzXCIsIGRhdGVzRW5hYmxlZDogXCJkYXRlc0VuYWJsZWRcIiwgZGF0ZXNEaXNhYmxlZDogXCJkYXRlc0Rpc2FibGVkXCIsIGJzVmFsdWU6IFwiYnNWYWx1ZVwiIH0sIG91dHB1dHM6IHsgYnNWYWx1ZUNoYW5nZTogXCJic1ZhbHVlQ2hhbmdlXCIgfSwgZXhwb3J0QXM6IFtcImJzRGF0ZXBpY2tlcklubGluZVwiXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYnMtZGF0ZXBpY2tlci1pbmxpbmUnLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2JzRGF0ZXBpY2tlcklubGluZSdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IEJzRGF0ZXBpY2tlcklubGluZUNvbmZpZyB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTIuQ29tcG9uZW50TG9hZGVyRmFjdG9yeSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYnNDb25maWc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBpc0Rpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbWluRGF0ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG1heERhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlQ3VzdG9tQ2xhc3NlczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGRhdGVUb29sdGlwVGV4dHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlc0VuYWJsZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlc0Rpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgYnNWYWx1ZUNoYW5nZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBic1ZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbmZpZyBleHRlbmRzIEJzRGF0ZXBpY2tlckNvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIERhdGVwaWNrZXJSZW5kZXJPcHRpb25zXG4gICAgICAgIHRoaXMuZGlzcGxheU1vbnRocyA9IDI7XG4gICAgICAgIC8qKiB0dXJuIG9uL29mZiBhbmltYXRpb24gKi9cbiAgICAgICAgdGhpcy5pc0FuaW1hdGVkID0gZmFsc2U7XG4gICAgfVxufVxuQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVDb25maWcuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVDb25maWcsIGRlcHM6IG51bGwsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTtcbkJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29uZmlnLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbmZpZywgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29uZmlnLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290J1xuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBCc0RhdGVyYW5nZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudCBleHRlbmRzIEJzRGF0ZXBpY2tlckFic3RyYWN0Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihfcmVuZGVyZXIsIF9jb25maWcsIF9zdG9yZSwgX2VsZW1lbnQsIF9hY3Rpb25zLCBfZWZmZWN0cywgX3Bvc2l0aW9uU2VydmljZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgICAgICB0aGlzLl9zdG9yZSA9IF9zdG9yZTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IF9lbGVtZW50O1xuICAgICAgICB0aGlzLl9hY3Rpb25zID0gX2FjdGlvbnM7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uU2VydmljZSA9IF9wb3NpdGlvblNlcnZpY2U7XG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3RhdGUgPSAndm9pZCc7XG4gICAgICAgIHRoaXMuX3JhbmdlU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5jaG9zZW5SYW5nZSA9IFtdO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgICAgIHRoaXMuaXNSYW5nZVBpY2tlciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VmZmVjdHMgPSBfZWZmZWN0cztcbiAgICAgICAgdGhpcy5jdXN0b21SYW5nZXMgPSB0aGlzLl9jb25maWcucmFuZ2VzIHx8IFtdO1xuICAgICAgICB0aGlzLmN1c3RvbVJhbmdlQnRuTGJsID0gdGhpcy5fY29uZmlnLmN1c3RvbVJhbmdlQnV0dG9uTGFiZWw7XG4gICAgICAgIF9yZW5kZXJlci5zZXRTdHlsZShfZWxlbWVudC5uYXRpdmVFbGVtZW50LCAnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICBfcmVuZGVyZXIuc2V0U3R5bGUoX2VsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJyk7XG4gICAgfVxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXRSYW5nZVZhbHVlKHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZVBpY2tlckRpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9jb25maWcuaXNEaXNhYmxlZDtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXBpY2tlckRpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGVQaWNrZXJEaXNhYmxlZCA/ICcnIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXBpY2tlclJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGVQaWNrZXJEaXNhYmxlZCA/ICcnIDogbnVsbDtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uU2VydmljZS5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgIG1vZGlmaWVyczoge1xuICAgICAgICAgICAgICAgIGZsaXA6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5fY29uZmlnLmFkYXB0aXZlUG9zaXRpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0aGlzLl9jb25maWcuYWRhcHRpdmVQb3NpdGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxvd2VkUG9zaXRpb25zOiB0aGlzLl9jb25maWcuYWxsb3dlZFBvc2l0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25TZXJ2aWNlLmV2ZW50JD8ucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvblNlcnZpY2UuZGlzYWJsZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5pc0FuaW1hdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9IHRoaXMuaXNUb3BQb3NpdGlvbiA/ICdhbmltYXRlZC11cCcgOiAnYW5pbWF0ZWQtZG93bic7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25TdGF0ZSA9ICd1bmFuaW1hdGVkJztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQ2xhc3MgPSB0aGlzLl9jb25maWcuY29udGFpbmVyQ2xhc3M7XG4gICAgICAgIHRoaXMuaXNPdGhlck1vbnRoc0FjdGl2ZSA9IHRoaXMuX2NvbmZpZy5zZWxlY3RGcm9tT3RoZXJNb250aDtcbiAgICAgICAgdGhpcy53aXRoVGltZXBpY2tlciA9IHRoaXMuX2NvbmZpZy53aXRoVGltZXBpY2tlcjtcbiAgICAgICAgdGhpcy5fZWZmZWN0cz8uaW5pdCh0aGlzLl9zdG9yZSlcbiAgICAgICAgICAgIC8vIGludGlhbCBzdGF0ZSBvcHRpb25zXG4gICAgICAgICAgICAvLyB0b2RvOiBmaXggdGhpcywgc3BsaXQgY29uZmlnc1xuICAgICAgICAgICAgLnNldE9wdGlvbnModGhpcy5fY29uZmlnKVxuICAgICAgICAgICAgLy8gZGF0YSBiaW5kaW5nIHZpZXcgLS0+IG1vZGVsXG4gICAgICAgICAgICAuc2V0QmluZGluZ3ModGhpcylcbiAgICAgICAgICAgIC8vIHNldCBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgLnNldEV2ZW50SGFuZGxlcnModGhpcylcbiAgICAgICAgICAgIC5yZWdpc3RlckRhdGVwaWNrZXJTaWRlRWZmZWN0cygpO1xuICAgICAgICBsZXQgY3VycmVudERhdGU7XG4gICAgICAgIC8vIHRvZG86IG1vdmUgaXQgc29tZXdoZXJlIGVsc2VcbiAgICAgICAgLy8gb24gc2VsZWN0ZWQgZGF0ZSBjaGFuZ2VcbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX3N0b3JlXG4gICAgICAgICAgICAuc2VsZWN0KHN0YXRlID0+IHN0YXRlLnNlbGVjdGVkUmFuZ2UpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGRhdGVSYW5nZSA9PiB7XG4gICAgICAgICAgICBjdXJyZW50RGF0ZSA9IGRhdGVSYW5nZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVDaGFuZ2UuZW1pdChkYXRlUmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5jaG9zZW5SYW5nZSA9IGRhdGVSYW5nZSB8fCBbXTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fc3RvcmVcbiAgICAgICAgICAgIC5zZWxlY3Qoc3RhdGUgPT4gc3RhdGUuc2VsZWN0ZWRUaW1lKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgodGltZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCghdGltZVswXSB8fCAhdGltZVsxXSkgfHxcbiAgICAgICAgICAgICAgICAoISh0aW1lWzBdIGluc3RhbmNlb2YgRGF0ZSkgfHwgISh0aW1lWzFdIGluc3RhbmNlb2YgRGF0ZSkpIHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnREYXRlICYmICh0aW1lWzBdID09PSBjdXJyZW50RGF0ZVswXSAmJiB0aW1lWzFdID09PSBjdXJyZW50RGF0ZVsxXSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZS5lbWl0KHRpbWUpO1xuICAgICAgICAgICAgdGhpcy5jaG9zZW5SYW5nZSA9IHRpbWUgfHwgW107XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGltZVN1Yi5hZGQodGhpcy5zZWxlY3RlZFRpbWU/LnN1YnNjcmliZSgodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpICYmIHZhbC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcGlja2VyPy53cml0ZVZhbHVlKHZhbFswXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbmRUaW1lcGlja2VyPy53cml0ZVZhbHVlKHZhbFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVwaWNrZXI/LnJlZ2lzdGVyT25DaGFuZ2UoKHZhbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50aW1lU2VsZWN0SGFuZGxlcih2YWwsIDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbmRUaW1lcGlja2VyPy5yZWdpc3Rlck9uQ2hhbmdlKCh2YWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMudGltZVNlbGVjdEhhbmRsZXIodmFsLCAxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc1RvcFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndG9wJyk7XG4gICAgfVxuICAgIHBvc2l0aW9uU2VydmljZUVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25TZXJ2aWNlLmVuYWJsZSgpO1xuICAgIH1cbiAgICB0aW1lU2VsZWN0SGFuZGxlcihkYXRlLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaCh0aGlzLl9hY3Rpb25zLnNlbGVjdFRpbWUoZGF0ZSwgaW5kZXgpKTtcbiAgICB9XG4gICAgZGF5U2VsZWN0SGFuZGxlcihkYXkpIHtcbiAgICAgICAgaWYgKCFkYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gdGhpcy5pc090aGVyTW9udGhzQWN0aXZlID8gZGF5LmlzRGlzYWJsZWQgOiAoZGF5LmlzT3RoZXJNb250aCB8fCBkYXkuaXNEaXNhYmxlZCk7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYW5nZXNQcm9jZXNzaW5nKGRheSk7XG4gICAgfVxuICAgIG1vbnRoU2VsZWN0SGFuZGxlcihkYXkpIHtcbiAgICAgICAgaWYgKCFkYXkgfHwgZGF5LmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkYXkuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcubWluTW9kZSAhPT0gJ21vbnRoJykge1xuICAgICAgICAgICAgaWYgKGRheS5pc0Rpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5uYXZpZ2F0ZVRvKHtcbiAgICAgICAgICAgICAgICB1bml0OiB7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBnZXRNb250aChkYXkuZGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IGdldEZ1bGxZZWFyKGRheS5kYXRlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmlld01vZGU6ICdkYXknXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYW5nZXNQcm9jZXNzaW5nKGRheSk7XG4gICAgfVxuICAgIHllYXJTZWxlY3RIYW5kbGVyKGRheSkge1xuICAgICAgICBpZiAoIWRheSB8fCBkYXkuaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRheS5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5taW5Nb2RlICE9PSAneWVhcicpIHtcbiAgICAgICAgICAgIGlmIChkYXkuaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKHRoaXMuX2FjdGlvbnMubmF2aWdhdGVUbyh7XG4gICAgICAgICAgICAgICAgdW5pdDoge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBnZXRGdWxsWWVhcihkYXkuZGF0ZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZpZXdNb2RlOiAnbW9udGgnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yYW5nZXNQcm9jZXNzaW5nKGRheSk7XG4gICAgfVxuICAgIHJhbmdlc1Byb2Nlc3NpbmcoZGF5KSB7XG4gICAgICAgIC8vIGlmIG9ubHkgb25lIGRhdGUgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAvLyBhbmQgdXNlciBjbGlja3Mgb24gcHJldmlvdXMgZGF0ZVxuICAgICAgICAvLyBzdGFydCBzZWxlY3Rpb24gZnJvbSBuZXcgZGF0ZVxuICAgICAgICAvLyBidXQgaWYgbmV3IGRhdGUgaXMgYWZ0ZXIgaW5pdGlhbCBvbmVcbiAgICAgICAgLy8gdGhhbiBmaW5pc2ggc2VsZWN0aW9uXG4gICAgICAgIGlmICh0aGlzLl9yYW5nZVN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VTdGFjayA9XG4gICAgICAgICAgICAgICAgZGF5LmRhdGUgPj0gdGhpcy5fcmFuZ2VTdGFja1swXVxuICAgICAgICAgICAgICAgICAgICA/IFt0aGlzLl9yYW5nZVN0YWNrWzBdLCBkYXkuZGF0ZV1cbiAgICAgICAgICAgICAgICAgICAgOiBbZGF5LmRhdGVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcubWF4RGF0ZVJhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnNldE1heERhdGVSYW5nZU9uQ2FsZW5kYXIoZGF5LmRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yYW5nZVN0YWNrLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VTdGFjayA9IFtkYXkuZGF0ZV07XG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLm1heERhdGVSYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWF4RGF0ZVJhbmdlT25DYWxlbmRhcihkYXkuZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZWxlY3RSYW5nZSh0aGlzLl9yYW5nZVN0YWNrKSk7XG4gICAgICAgIGlmICh0aGlzLl9yYW5nZVN0YWNrLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VTdGFjayA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLl9zdWJzKSB7XG4gICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGVkVGltZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLl9lZmZlY3RzPy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHNldFJhbmdlT25DYWxlbmRhcihkYXRlcykge1xuICAgICAgICBpZiAoZGF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlU3RhY2sgPSBkYXRlcy52YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBbZGF0ZXMudmFsdWVdIDogZGF0ZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcmUuZGlzcGF0Y2godGhpcy5fYWN0aW9ucy5zZWxlY3RSYW5nZSh0aGlzLl9yYW5nZVN0YWNrKSk7XG4gICAgfVxuICAgIHNldE1heERhdGVSYW5nZU9uQ2FsZW5kYXIoY3VycmVudFNlbGVjdGlvbikge1xuICAgICAgICBsZXQgbWF4RGF0ZVJhbmdlID0gbmV3IERhdGUoY3VycmVudFNlbGVjdGlvbik7XG4gICAgICAgIGlmICh0aGlzLl9jb25maWcubWF4RGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbWF4RGF0ZVZhbHVlSW5NaWxsaXNlY29uZHMgPSB0aGlzLl9jb25maWcubWF4RGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBtYXhEYXRlUmFuZ2VJbk1pbGxpc2Vjb25kcyA9IGN1cnJlbnRTZWxlY3Rpb24uZ2V0VGltZSgpICsgKCh0aGlzLl9jb25maWcubWF4RGF0ZVJhbmdlIHx8IDApICogZGF5SW5NaWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgbWF4RGF0ZVJhbmdlID0gbWF4RGF0ZVJhbmdlSW5NaWxsaXNlY29uZHMgPiBtYXhEYXRlVmFsdWVJbk1pbGxpc2Vjb25kcyA/XG4gICAgICAgICAgICAgICAgbmV3IERhdGUodGhpcy5fY29uZmlnLm1heERhdGUpIDpcbiAgICAgICAgICAgICAgICBuZXcgRGF0ZShtYXhEYXRlUmFuZ2VJbk1pbGxpc2Vjb25kcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhEYXRlUmFuZ2Uuc2V0RGF0ZShjdXJyZW50U2VsZWN0aW9uLmdldERhdGUoKSArICh0aGlzLl9jb25maWcubWF4RGF0ZVJhbmdlIHx8IDApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lZmZlY3RzPy5zZXRNYXhEYXRlKG1heERhdGVSYW5nZSk7XG4gICAgfVxufVxuQnNEYXRlcmFuZ2VwaWNrZXJDb250YWluZXJDb21wb25lbnQuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJDb250YWluZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5SZW5kZXJlcjIgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyQ29uZmlnIH0sIHsgdG9rZW46IEJzRGF0ZXBpY2tlclN0b3JlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyQWN0aW9ucyB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJFZmZlY3RzIH0sIHsgdG9rZW46IGk1LlBvc2l0aW9uaW5nU2VydmljZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7XG5Cc0RhdGVyYW5nZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudC7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMtZGF0ZXJhbmdlcGlja2VyLWNvbnRhaW5lclwiLCBob3N0OiB7IGF0dHJpYnV0ZXM6IHsgXCJyb2xlXCI6IFwiZGlhbG9nXCIsIFwiYXJpYS1sYWJlbFwiOiBcImNhbGVuZGFyXCIgfSwgbGlzdGVuZXJzOiB7IFwiY2xpY2tcIjogXCJfc3RvcFByb3BhZ2F0aW9uKCRldmVudClcIiB9LCBwcm9wZXJ0aWVzOiB7IFwiYXR0ci5kaXNhYmxlZFwiOiBcInRoaXMuaXNEYXRlcGlja2VyRGlzYWJsZWRcIiwgXCJhdHRyLnJlYWRvbmx5XCI6IFwidGhpcy5pc0RhdGVwaWNrZXJSZWFkb25seVwiIH0sIGNsYXNzQXR0cmlidXRlOiBcImJvdHRvbVwiIH0sIHByb3ZpZGVyczogW0JzRGF0ZXBpY2tlclN0b3JlLCBCc0RhdGVwaWNrZXJFZmZlY3RzXSwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJzdGFydFRpbWVwaWNrZXJcIiwgZmlyc3Q6IHRydWUsIHByZWRpY2F0ZTogW1wic3RhcnRUUFwiXSwgZGVzY2VuZGFudHM6IHRydWUgfSwgeyBwcm9wZXJ0eU5hbWU6IFwiZW5kVGltZXBpY2tlclwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJlbmRUUFwiXSwgZGVzY2VuZGFudHM6IHRydWUgfV0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdDbGFzcywgc2VsZWN0b3I6IFwiW25nQ2xhc3NdXCIsIGlucHV0czogW1wiY2xhc3NcIiwgXCJuZ0NsYXNzXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdGb3JPZiwgc2VsZWN0b3I6IFwiW25nRm9yXVtuZ0Zvck9mXVwiLCBpbnB1dHM6IFtcIm5nRm9yT2ZcIiwgXCJuZ0ZvclRyYWNrQnlcIiwgXCJuZ0ZvclRlbXBsYXRlXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfSwgeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ1N3aXRjaCwgc2VsZWN0b3I6IFwiW25nU3dpdGNoXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdTd2l0Y2hDYXNlLCBzZWxlY3RvcjogXCJbbmdTd2l0Y2hDYXNlXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoQ2FzZVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IGk3LlRpbWVwaWNrZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcInRpbWVwaWNrZXJcIiwgaW5wdXRzOiBbXCJob3VyU3RlcFwiLCBcIm1pbnV0ZVN0ZXBcIiwgXCJzZWNvbmRzU3RlcFwiLCBcInJlYWRvbmx5SW5wdXRcIiwgXCJkaXNhYmxlZFwiLCBcIm1vdXNld2hlZWxcIiwgXCJhcnJvd2tleXNcIiwgXCJzaG93U3Bpbm5lcnNcIiwgXCJzaG93TWVyaWRpYW5cIiwgXCJzaG93TWludXRlc1wiLCBcInNob3dTZWNvbmRzXCIsIFwibWVyaWRpYW5zXCIsIFwibWluXCIsIFwibWF4XCIsIFwiaG91cnNQbGFjZWhvbGRlclwiLCBcIm1pbnV0ZXNQbGFjZWhvbGRlclwiLCBcInNlY29uZHNQbGFjZWhvbGRlclwiXSwgb3V0cHV0czogW1wiaXNWYWxpZFwiLCBcIm1lcmlkaWFuQ2hhbmdlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1c3RvbS1kYXRlLXZpZXdcIiwgaW5wdXRzOiBbXCJyYW5nZXNcIiwgXCJzZWxlY3RlZFJhbmdlXCIsIFwiY3VzdG9tUmFuZ2VMYWJlbFwiXSwgb3V0cHV0czogW1wib25TZWxlY3RcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRheXMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCIsIFwib3B0aW9uc1wiLCBcImlzRGlzYWJsZWRcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCIsIFwib25Ib3ZlcldlZWtcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1tb250aC1jYWxlbmRhci12aWV3XCIsIGlucHV0czogW1wiY2FsZW5kYXJcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMteWVhcnMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCJdLCBvdXRwdXRzOiBbXCJvbk5hdmlnYXRlXCIsIFwib25WaWV3TW9kZVwiLCBcIm9uU2VsZWN0XCIsIFwib25Ib3ZlclwiXSB9LCB7IGtpbmQ6IFwicGlwZVwiLCB0eXBlOiBpNi5Bc3luY1BpcGUsIG5hbWU6IFwiYXN5bmNcIiB9XSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdicy1kYXRlcmFuZ2VwaWNrZXItY29udGFpbmVyJywgcHJvdmlkZXJzOiBbQnNEYXRlcGlja2VyU3RvcmUsIEJzRGF0ZXBpY2tlckVmZmVjdHNdLCBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNsaWNrKSc6ICdfc3RvcFByb3BhZ2F0aW9uKCRldmVudCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2RpYWxvZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdjYWxlbmRhcidcbiAgICAgICAgICAgICAgICAgICAgfSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5SZW5kZXJlcjIgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJTdG9yZSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJBY3Rpb25zIH0sIHsgdHlwZTogQnNEYXRlcGlja2VyRWZmZWN0cyB9LCB7IHR5cGU6IGk1LlBvc2l0aW9uaW5nU2VydmljZSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgc3RhcnRUaW1lcGlja2VyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3N0YXJ0VFAnXVxuICAgICAgICAgICAgfV0sIGVuZFRpbWVwaWNrZXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnZW5kVFAnXVxuICAgICAgICAgICAgfV0sIGlzRGF0ZXBpY2tlckRpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RCaW5kaW5nLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYXR0ci5kaXNhYmxlZCddXG4gICAgICAgICAgICB9XSwgaXNEYXRlcGlja2VyUmVhZG9ubHk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdEJpbmRpbmcsXG4gICAgICAgICAgICAgICAgYXJnczogWydhdHRyLnJlYWRvbmx5J11cbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50IGV4dGVuZHMgQnNEYXRlcmFuZ2VwaWNrZXJDb250YWluZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKF9yZW5kZXJlciwgX2NvbmZpZywgX3N0b3JlLCBfZWxlbWVudCwgX2FjdGlvbnMsIF9lZmZlY3RzLCBfcG9zaXRpb25pbmdTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKF9yZW5kZXJlciwgX2NvbmZpZywgX3N0b3JlLCBfZWxlbWVudCwgX2FjdGlvbnMsIF9lZmZlY3RzLCBfcG9zaXRpb25pbmdTZXJ2aWNlKTtcbiAgICAgICAgX3JlbmRlcmVyLnNldFN0eWxlKF9lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsICdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpO1xuICAgICAgICBfcmVuZGVyZXIuc2V0U3R5bGUoX2VsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3Bvc2l0aW9uJywgJ3N0YXRpYycpO1xuICAgIH1cbiAgICBnZXQgZGlzYWJsZWRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRlUGlja2VyRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxuICAgIGdldCByZWFkb25seVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGVQaWNrZXJEaXNhYmxlZCA/ICcnIDogbnVsbDtcbiAgICB9XG59XG5Cc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudC7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLlJlbmRlcmVyMiB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJDb25maWcgfSwgeyB0b2tlbjogQnNEYXRlcGlja2VyU3RvcmUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBCc0RhdGVwaWNrZXJBY3Rpb25zIH0sIHsgdG9rZW46IEJzRGF0ZXBpY2tlckVmZmVjdHMgfSwgeyB0b2tlbjogaTUuUG9zaXRpb25pbmdTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTtcbkJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50Lsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1kYXRlcmFuZ2VwaWNrZXItaW5saW5lLWNvbnRhaW5lclwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImNsaWNrXCI6IFwiX3N0b3BQcm9wYWdhdGlvbigkZXZlbnQpXCIgfSwgcHJvcGVydGllczogeyBcImF0dHIuZGlzYWJsZWRcIjogXCJ0aGlzLmRpc2FibGVkVmFsdWVcIiwgXCJhdHRyLnJlYWRvbmx5XCI6IFwidGhpcy5yZWFkb25seVZhbHVlXCIgfSB9LCBwcm92aWRlcnM6IFtCc0RhdGVwaWNrZXJTdG9yZSwgQnNEYXRlcGlja2VyRWZmZWN0c10sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8IS0tIGRheXMgY2FsZW5kYXIgdmlldyBtb2RlIC0tPlxcbjxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXJcXFwiIFtuZ0NsYXNzXT1cXFwiY29udGFpbmVyQ2xhc3NcXFwiICpuZ0lmPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIlxcbiAgICBbQGRhdGVwaWNrZXJBbmltYXRpb25dPVxcXCJhbmltYXRpb25TdGF0ZVxcXCJcXG4gICAgKEBkYXRlcGlja2VyQW5pbWF0aW9uLmRvbmUpPVxcXCJwb3NpdGlvblNlcnZpY2VFbmFibGUoKVxcXCI+XFxuICAgIDwhLS1jYWxlbmRhcnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtY2FsZW5kYXItY29udGFpbmVyXFxcIiBbbmdTd2l0Y2hdPVxcXCJ2aWV3TW9kZSB8IGFzeW5jXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCI+XFxuICAgICAgPCEtLWRheXMgY2FsZW5kYXItLT5cXG4gICAgICA8bmctY29udGFpbmVyICpuZ1N3aXRjaENhc2U9XFxcIidkYXknXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDxicy1kYXlzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBkYXlzQ2FsZW5kYXIkIHwgYXN5bmNcXFwiXFxuICAgICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgICBbaXNEaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIlxcbiAgICAgICAgICAgIFtvcHRpb25zXT1cXFwib3B0aW9ucyQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICAob25OYXZpZ2F0ZSk9XFxcIm5hdmlnYXRlVG8oJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uSG92ZXIpPVxcXCJkYXlIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3ZlcldlZWspPVxcXCJ3ZWVrSG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgICAgKG9uU2VsZWN0KT1cXFwiZGF5U2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgICAgPC9icy1kYXlzLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgKm5nSWY9XFxcIndpdGhUaW1lcGlja2VyXFxcIiBjbGFzcz1cXFwiYnMtdGltZXBpY2tlci1pbi1kYXRlcGlja2VyLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNzdGFydFRQIFtkaXNhYmxlZF09XFxcImlzRGF0ZVBpY2tlckRpc2FibGVkXFxcIj48L3RpbWVwaWNrZXI+XFxuICAgICAgICAgIDx0aW1lcGlja2VyICNlbmRUUCAqbmdJZj1cXFwiaXNSYW5nZVBpY2tlclxcXCIgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvbmctY29udGFpbmVyPlxcblxcbiAgICAgIDwhLS1tb250aHMgY2FsZW5kYXItLT5cXG4gICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9XFxcIidtb250aCdcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLW1vbnRoLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgbW9udGhzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwibW9udGhIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uU2VsZWN0KT1cXFwibW9udGhTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy1tb250aC1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDwhLS15ZWFycyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ3llYXInXFxcIiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxicy15ZWFycy1jYWxlbmRhci12aWV3XFxuICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIHllYXJzQ2FsZW5kYXIgfCBhc3luY1xcXCJcXG4gICAgICAgICAgW2NsYXNzLmJzLWRhdGVwaWNrZXItbXVsdGlwbGVdPVxcXCJtdWx0aXBsZUNhbGVuZGFyc1xcXCJcXG4gICAgICAgICAgW2NhbGVuZGFyXT1cXFwiY2FsZW5kYXJcXFwiXFxuICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25WaWV3TW9kZSk9XFxcInNldFZpZXdNb2RlKCRldmVudClcXFwiXFxuICAgICAgICAgIChvbkhvdmVyKT1cXFwieWVhckhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJ5ZWFyU2VsZWN0SGFuZGxlcigkZXZlbnQpXFxcIj5cXG4gICAgICAgIDwvYnMteWVhcnMtY2FsZW5kYXItdmlldz5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDwhLS1hcHBseWNhbmNlbCBidXR0b25zLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcImZhbHNlXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+QXBwbHk8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWJ1dHRvbnNcXFwiICpuZ0lmPVxcXCJzaG93VG9kYXlCdG4gfHwgc2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tdG9kYXktd3JhcHBlclxcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1sZWZ0XT1cXFwidG9kYXlQb3MgPT09ICdsZWZ0J1xcXCJcXG4gICAgICAgICAgIFtjbGFzcy50b2RheS1yaWdodF09XFxcInRvZGF5UG9zID09PSAncmlnaHQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWNlbnRlcl09XFxcInRvZGF5UG9zID09PSAnY2VudGVyJ1xcXCJcXG4gICAgICAgICAgICpuZ0lmPVxcXCJzaG93VG9kYXlCdG5cXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJzZXRUb2RheSgpXFxcIj57e3RvZGF5QnRuTGJsfX08L2J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jbGVhci13cmFwcGVyXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLWxlZnRdPVxcXCJjbGVhclBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgW2NsYXNzLmNsZWFyLXJpZ2h0XT1cXFwiY2xlYXJQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItY2VudGVyXT1cXFwiY2xlYXJQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgKm5nSWY9XFxcInNob3dDbGVhckJ0blxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgKGNsaWNrKT1cXFwiY2xlYXJEYXRlKClcXFwiPnt7Y2xlYXJCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8IS0tY3VzdG9tIGRhdGVzIG9yIGRhdGUgcmFuZ2VzIHBpY2tlci0tPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jdXN0b20tcmFuZ2VcXFwiICpuZ0lmPVxcXCJjdXN0b21SYW5nZXMgJiYgY3VzdG9tUmFuZ2VzLmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8YnMtY3VzdG9tLWRhdGUtdmlld1xcbiAgICAgIFtzZWxlY3RlZFJhbmdlXT1cXFwiY2hvc2VuUmFuZ2VcXFwiXFxuICAgICAgW3Jhbmdlc109XFxcImN1c3RvbVJhbmdlc1xcXCJcXG4gICAgICBbY3VzdG9tUmFuZ2VMYWJlbF09XFxcImN1c3RvbVJhbmdlQnRuTGJsXFxcIlxcbiAgICAgIChvblNlbGVjdCk9XFxcInNldFJhbmdlT25DYWxlbmRhcigkZXZlbnQpXFxcIj5cXG4gICAgPC9icy1jdXN0b20tZGF0ZS12aWV3PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdDbGFzcywgc2VsZWN0b3I6IFwiW25nQ2xhc3NdXCIsIGlucHV0czogW1wiY2xhc3NcIiwgXCJuZ0NsYXNzXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdGb3JPZiwgc2VsZWN0b3I6IFwiW25nRm9yXVtuZ0Zvck9mXVwiLCBpbnB1dHM6IFtcIm5nRm9yT2ZcIiwgXCJuZ0ZvclRyYWNrQnlcIiwgXCJuZ0ZvclRlbXBsYXRlXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfSwgeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpNi5OZ1N3aXRjaCwgc2VsZWN0b3I6IFwiW25nU3dpdGNoXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoXCJdIH0sIHsga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTYuTmdTd2l0Y2hDYXNlLCBzZWxlY3RvcjogXCJbbmdTd2l0Y2hDYXNlXVwiLCBpbnB1dHM6IFtcIm5nU3dpdGNoQ2FzZVwiXSB9LCB7IGtpbmQ6IFwiY29tcG9uZW50XCIsIHR5cGU6IGk3LlRpbWVwaWNrZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcInRpbWVwaWNrZXJcIiwgaW5wdXRzOiBbXCJob3VyU3RlcFwiLCBcIm1pbnV0ZVN0ZXBcIiwgXCJzZWNvbmRzU3RlcFwiLCBcInJlYWRvbmx5SW5wdXRcIiwgXCJkaXNhYmxlZFwiLCBcIm1vdXNld2hlZWxcIiwgXCJhcnJvd2tleXNcIiwgXCJzaG93U3Bpbm5lcnNcIiwgXCJzaG93TWVyaWRpYW5cIiwgXCJzaG93TWludXRlc1wiLCBcInNob3dTZWNvbmRzXCIsIFwibWVyaWRpYW5zXCIsIFwibWluXCIsIFwibWF4XCIsIFwiaG91cnNQbGFjZWhvbGRlclwiLCBcIm1pbnV0ZXNQbGFjZWhvbGRlclwiLCBcInNlY29uZHNQbGFjZWhvbGRlclwiXSwgb3V0cHV0czogW1wiaXNWYWxpZFwiLCBcIm1lcmlkaWFuQ2hhbmdlXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWN1c3RvbS1kYXRlLXZpZXdcIiwgaW5wdXRzOiBbXCJyYW5nZXNcIiwgXCJzZWxlY3RlZFJhbmdlXCIsIFwiY3VzdG9tUmFuZ2VMYWJlbFwiXSwgb3V0cHV0czogW1wib25TZWxlY3RcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcImJzLWRheXMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCIsIFwib3B0aW9uc1wiLCBcImlzRGlzYWJsZWRcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCIsIFwib25Ib3ZlcldlZWtcIl0gfSwgeyBraW5kOiBcImNvbXBvbmVudFwiLCB0eXBlOiBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LCBzZWxlY3RvcjogXCJicy1tb250aC1jYWxlbmRhci12aWV3XCIsIGlucHV0czogW1wiY2FsZW5kYXJcIl0sIG91dHB1dHM6IFtcIm9uTmF2aWdhdGVcIiwgXCJvblZpZXdNb2RlXCIsIFwib25TZWxlY3RcIiwgXCJvbkhvdmVyXCJdIH0sIHsga2luZDogXCJjb21wb25lbnRcIiwgdHlwZTogQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiYnMteWVhcnMtY2FsZW5kYXItdmlld1wiLCBpbnB1dHM6IFtcImNhbGVuZGFyXCJdLCBvdXRwdXRzOiBbXCJvbk5hdmlnYXRlXCIsIFwib25WaWV3TW9kZVwiLCBcIm9uU2VsZWN0XCIsIFwib25Ib3ZlclwiXSB9LCB7IGtpbmQ6IFwicGlwZVwiLCB0eXBlOiBpNi5Bc3luY1BpcGUsIG5hbWU6IFwiYXN5bmNcIiB9XSwgYW5pbWF0aW9uczogW2RhdGVwaWNrZXJBbmltYXRpb25dIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdicy1kYXRlcmFuZ2VwaWNrZXItaW5saW5lLWNvbnRhaW5lcicsIHByb3ZpZGVyczogW0JzRGF0ZXBpY2tlclN0b3JlLCBCc0RhdGVwaWNrZXJFZmZlY3RzXSwgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhjbGljayknOiAnX3N0b3BQcm9wYWdhdGlvbigkZXZlbnQpJ1xuICAgICAgICAgICAgICAgICAgICB9LCBhbmltYXRpb25zOiBbZGF0ZXBpY2tlckFuaW1hdGlvbl0sIHRlbXBsYXRlOiBcIjwhLS0gZGF5cyBjYWxlbmRhciB2aWV3IG1vZGUgLS0+XFxuPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlclxcXCIgW25nQ2xhc3NdPVxcXCJjb250YWluZXJDbGFzc1xcXCIgKm5nSWY9XFxcInZpZXdNb2RlIHwgYXN5bmNcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1jb250YWluZXJcXFwiXFxuICAgIFtAZGF0ZXBpY2tlckFuaW1hdGlvbl09XFxcImFuaW1hdGlvblN0YXRlXFxcIlxcbiAgICAoQGRhdGVwaWNrZXJBbmltYXRpb24uZG9uZSk9XFxcInBvc2l0aW9uU2VydmljZUVuYWJsZSgpXFxcIj5cXG4gICAgPCEtLWNhbGVuZGFycy0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJicy1jYWxlbmRhci1jb250YWluZXJcXFwiIFtuZ1N3aXRjaF09XFxcInZpZXdNb2RlIHwgYXN5bmNcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIj5cXG4gICAgICA8IS0tZGF5cyBjYWxlbmRhci0tPlxcbiAgICAgIDxuZy1jb250YWluZXIgKm5nU3dpdGNoQ2FzZT1cXFwiJ2RheSdcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtbWVkaWEtY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgPGJzLWRheXMtY2FsZW5kYXItdmlld1xcbiAgICAgICAgICAgICpuZ0Zvcj1cXFwibGV0IGNhbGVuZGFyIG9mIGRheXNDYWxlbmRhciQgfCBhc3luY1xcXCJcXG4gICAgICAgICAgICBbY2xhc3MuYnMtZGF0ZXBpY2tlci1tdWx0aXBsZV09XFxcIm11bHRpcGxlQ2FsZW5kYXJzXFxcIlxcbiAgICAgICAgICAgIFtjYWxlbmRhcl09XFxcImNhbGVuZGFyXFxcIlxcbiAgICAgICAgICAgIFtpc0Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiXFxuICAgICAgICAgICAgW29wdGlvbnNdPVxcXCJvcHRpb25zJCB8IGFzeW5jXFxcIlxcbiAgICAgICAgICAgIChvbk5hdmlnYXRlKT1cXFwibmF2aWdhdGVUbygkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIChvblZpZXdNb2RlKT1cXFwic2V0Vmlld01vZGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25Ib3Zlcik9XFxcImRheUhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAgIChvbkhvdmVyV2Vlayk9XFxcIndlZWtIb3ZlckhhbmRsZXIoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgICAob25TZWxlY3QpPVxcXCJkYXlTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgICA8L2JzLWRheXMtY2FsZW5kYXItdmlldz5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiAqbmdJZj1cXFwid2l0aFRpbWVwaWNrZXJcXFwiIGNsYXNzPVxcXCJicy10aW1lcGlja2VyLWluLWRhdGVwaWNrZXItY29udGFpbmVyXFxcIj5cXG4gICAgICAgICAgPHRpbWVwaWNrZXIgI3N0YXJ0VFAgW2Rpc2FibGVkXT1cXFwiaXNEYXRlUGlja2VyRGlzYWJsZWRcXFwiPjwvdGltZXBpY2tlcj5cXG4gICAgICAgICAgPHRpbWVwaWNrZXIgI2VuZFRQICpuZ0lmPVxcXCJpc1JhbmdlUGlja2VyXFxcIiBbZGlzYWJsZWRdPVxcXCJpc0RhdGVQaWNrZXJEaXNhYmxlZFxcXCI+PC90aW1lcGlja2VyPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9uZy1jb250YWluZXI+XFxuXFxuICAgICAgPCEtLW1vbnRocyBjYWxlbmRhci0tPlxcbiAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT1cXFwiJ21vbnRoJ1xcXCIgY2xhc3M9XFxcImJzLW1lZGlhLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8YnMtbW9udGgtY2FsZW5kYXItdmlld1xcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBjYWxlbmRhciBvZiBtb250aHNDYWxlbmRhciB8IGFzeW5jXFxcIlxcbiAgICAgICAgICBbY2xhc3MuYnMtZGF0ZXBpY2tlci1tdWx0aXBsZV09XFxcIm11bHRpcGxlQ2FsZW5kYXJzXFxcIlxcbiAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgKG9uTmF2aWdhdGUpPVxcXCJuYXZpZ2F0ZVRvKCRldmVudClcXFwiXFxuICAgICAgICAgIChvblZpZXdNb2RlKT1cXFwic2V0Vmlld01vZGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uSG92ZXIpPVxcXCJtb250aEhvdmVySGFuZGxlcigkZXZlbnQpXFxcIlxcbiAgICAgICAgICAob25TZWxlY3QpPVxcXCJtb250aFNlbGVjdEhhbmRsZXIoJGV2ZW50KVxcXCI+XFxuICAgICAgICA8L2JzLW1vbnRoLWNhbGVuZGFyLXZpZXc+XFxuICAgICAgPC9kaXY+XFxuXFxuICAgICAgPCEtLXllYXJzIGNhbGVuZGFyLS0+XFxuICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPVxcXCIneWVhcidcXFwiIGNsYXNzPVxcXCJicy1tZWRpYS1jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGJzLXllYXJzLWNhbGVuZGFyLXZpZXdcXG4gICAgICAgICAgKm5nRm9yPVxcXCJsZXQgY2FsZW5kYXIgb2YgeWVhcnNDYWxlbmRhciB8IGFzeW5jXFxcIlxcbiAgICAgICAgICBbY2xhc3MuYnMtZGF0ZXBpY2tlci1tdWx0aXBsZV09XFxcIm11bHRpcGxlQ2FsZW5kYXJzXFxcIlxcbiAgICAgICAgICBbY2FsZW5kYXJdPVxcXCJjYWxlbmRhclxcXCJcXG4gICAgICAgICAgKG9uTmF2aWdhdGUpPVxcXCJuYXZpZ2F0ZVRvKCRldmVudClcXFwiXFxuICAgICAgICAgIChvblZpZXdNb2RlKT1cXFwic2V0Vmlld01vZGUoJGV2ZW50KVxcXCJcXG4gICAgICAgICAgKG9uSG92ZXIpPVxcXCJ5ZWFySG92ZXJIYW5kbGVyKCRldmVudClcXFwiXFxuICAgICAgICAgIChvblNlbGVjdCk9XFxcInllYXJTZWxlY3RIYW5kbGVyKCRldmVudClcXFwiPlxcbiAgICAgICAgPC9icy15ZWFycy1jYWxlbmRhci12aWV3PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPCEtLWFwcGx5Y2FuY2VsIGJ1dHRvbnMtLT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYnMtZGF0ZXBpY2tlci1idXR0b25zXFxcIiAqbmdJZj1cXFwiZmFsc2VcXFwiPlxcbiAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj5BcHBseTwvYnV0dG9uPlxcbiAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImJzLWRhdGVwaWNrZXItYnV0dG9uc1xcXCIgKm5nSWY9XFxcInNob3dUb2RheUJ0biB8fCBzaG93Q2xlYXJCdG5cXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi10b2RheS13cmFwcGVyXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LWxlZnRdPVxcXCJ0b2RheVBvcyA9PT0gJ2xlZnQnXFxcIlxcbiAgICAgICAgICAgW2NsYXNzLnRvZGF5LXJpZ2h0XT1cXFwidG9kYXlQb3MgPT09ICdyaWdodCdcXFwiXFxuICAgICAgICAgICBbY2xhc3MudG9kYXktY2VudGVyXT1cXFwidG9kYXlQb3MgPT09ICdjZW50ZXInXFxcIlxcbiAgICAgICAgICAgKm5nSWY9XFxcInNob3dUb2RheUJ0blxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiIChjbGljayk9XFxcInNldFRvZGF5KClcXFwiPnt7dG9kYXlCdG5MYmx9fTwvYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWNsZWFyLXdyYXBwZXJcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItbGVmdF09XFxcImNsZWFyUG9zID09PSAnbGVmdCdcXFwiXFxuICAgICAgICBbY2xhc3MuY2xlYXItcmlnaHRdPVxcXCJjbGVhclBvcyA9PT0gJ3JpZ2h0J1xcXCJcXG4gICAgICAgIFtjbGFzcy5jbGVhci1jZW50ZXJdPVxcXCJjbGVhclBvcyA9PT0gJ2NlbnRlcidcXFwiXFxuICAgICAgICAqbmdJZj1cXFwic2hvd0NsZWFyQnRuXFxcIj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiAoY2xpY2spPVxcXCJjbGVhckRhdGUoKVxcXCI+e3tjbGVhckJ0bkxibH19PC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICA8L2Rpdj5cXG5cXG4gIDwhLS1jdXN0b20gZGF0ZXMgb3IgZGF0ZSByYW5nZXMgcGlja2VyLS0+XFxuICA8ZGl2IGNsYXNzPVxcXCJicy1kYXRlcGlja2VyLWN1c3RvbS1yYW5nZVxcXCIgKm5nSWY9XFxcImN1c3RvbVJhbmdlcyAmJiBjdXN0b21SYW5nZXMubGVuZ3RoID4gMFxcXCI+XFxuICAgIDxicy1jdXN0b20tZGF0ZS12aWV3XFxuICAgICAgW3NlbGVjdGVkUmFuZ2VdPVxcXCJjaG9zZW5SYW5nZVxcXCJcXG4gICAgICBbcmFuZ2VzXT1cXFwiY3VzdG9tUmFuZ2VzXFxcIlxcbiAgICAgIFtjdXN0b21SYW5nZUxhYmVsXT1cXFwiY3VzdG9tUmFuZ2VCdG5MYmxcXFwiXFxuICAgICAgKG9uU2VsZWN0KT1cXFwic2V0UmFuZ2VPbkNhbGVuZGFyKCRldmVudClcXFwiPlxcbiAgICA8L2JzLWN1c3RvbS1kYXRlLXZpZXc+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIiB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLlJlbmRlcmVyMiB9LCB7IHR5cGU6IEJzRGF0ZXBpY2tlckNvbmZpZyB9LCB7IHR5cGU6IEJzRGF0ZXBpY2tlclN0b3JlIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IEJzRGF0ZXBpY2tlckFjdGlvbnMgfSwgeyB0eXBlOiBCc0RhdGVwaWNrZXJFZmZlY3RzIH0sIHsgdHlwZTogaTUuUG9zaXRpb25pbmdTZXJ2aWNlIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBkaXNhYmxlZFZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RCaW5kaW5nLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYXR0ci5kaXNhYmxlZCddXG4gICAgICAgICAgICB9XSwgcmVhZG9ubHlWYWx1ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0QmluZGluZyxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2F0dHIucmVhZG9ubHknXVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9lbGVtZW50UmVmLCBfcmVuZGVyZXIsIF92aWV3Q29udGFpbmVyUmVmLCBjaXMpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IF9lbGVtZW50UmVmO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgZGF0ZXBpY2tlciBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbWl0cyB3aGVuIGRhdGVyYW5nZXBpY2tlciB2YWx1ZSBoYXMgYmVlbiBjaGFuZ2VkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJzVmFsdWVDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuX3N1YnMgPSBbXTtcbiAgICAgICAgLy8gdG9kbzogYXNzaWduIG9ubHkgc3Vic2V0IG9mIGZpZWxkc1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHRoaXMuX2NvbmZpZyk7XG4gICAgICAgIHRoaXMuX2RhdGVwaWNrZXIgPSBjaXMuY3JlYXRlTG9hZGVyKF9lbGVtZW50UmVmLCBfdmlld0NvbnRhaW5lclJlZiwgX3JlbmRlcmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbCB2YWx1ZSBvZiBkYXRlcGlja2VyXG4gICAgICovXG4gICAgc2V0IGJzVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2JzVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICYmIHRoaXMuYnNDb25maWc/LmluaXRDdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdmFsdWUgPSBzZXREYXRlUmFuZ2VzQ3VycmVudFRpbWVPbkRhdGVTZWxlY3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JzVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlLmVtaXQodmFsdWUpO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zZXRDb25maWcoKTtcbiAgICAgICAgdGhpcy5pbml0U3Vic2NyaWJlcygpO1xuICAgIH1cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiYnNDb25maWdcIl0pIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzW1wiYnNDb25maWdcIl0uY3VycmVudFZhbHVlLmluaXRDdXJyZW50VGltZSAmJiBjaGFuZ2VzW1wiYnNDb25maWdcIl0uY3VycmVudFZhbHVlLmluaXRDdXJyZW50VGltZSAhPT0gY2hhbmdlc1tcImJzQ29uZmlnXCJdLnByZXZpb3VzVmFsdWUuaW5pdEN1cnJlbnRUaW1lICYmIHRoaXMuX2JzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ic1ZhbHVlID0gc2V0RGF0ZVJhbmdlc0N1cnJlbnRUaW1lT25EYXRlU2VsZWN0KHRoaXMuX2JzVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnNWYWx1ZUNoYW5nZS5lbWl0KHRoaXMuX2JzVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGF0ZXBpY2tlclJlZiB8fCAhdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wibWluRGF0ZVwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5taW5EYXRlID0gdGhpcy5taW5EYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wibWF4RGF0ZVwiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5tYXhEYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzW1wiZGF0ZXNFbmFibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmRhdGVzRW5hYmxlZCA9IHRoaXMuZGF0ZXNFbmFibGVkO1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS52YWx1ZSA9IHRoaXMuX2JzVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXRlc0Rpc2FibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmRhdGVzRGlzYWJsZWQgPSB0aGlzLmRhdGVzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXlzRGlzYWJsZWRcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF5c0Rpc2FibGVkID0gdGhpcy5kYXlzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJpc0Rpc2FibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmlzRGlzYWJsZWQgPSB0aGlzLmlzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXRlQ3VzdG9tQ2xhc3Nlc1wiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlQ3VzdG9tQ2xhc3NlcyA9IHRoaXMuZGF0ZUN1c3RvbUNsYXNzZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDb25maWcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGNvbmZpZyBmb3IgZGF0ZXBpY2tlclxuICAgICAqL1xuICAgIHNldENvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGVwaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXIuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2NvbmZpZywgdGhpcy5ic0NvbmZpZywge1xuICAgICAgICAgICAgdmFsdWU6IGNoZWNrQnNWYWx1ZSh0aGlzLl9ic1ZhbHVlLCB0aGlzLm1heERhdGUgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLm1heERhdGUpLFxuICAgICAgICAgICAgaXNEaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkLFxuICAgICAgICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5taW5EYXRlLFxuICAgICAgICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlLFxuICAgICAgICAgICAgZGF5c0Rpc2FibGVkOiB0aGlzLmRheXNEaXNhYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF5c0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZUN1c3RvbUNsYXNzZXM6IHRoaXMuZGF0ZUN1c3RvbUNsYXNzZXMgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLmRhdGVDdXN0b21DbGFzc2VzLFxuICAgICAgICAgICAgZGF0ZXNEaXNhYmxlZDogdGhpcy5kYXRlc0Rpc2FibGVkIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5kYXRlc0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZXNFbmFibGVkOiB0aGlzLmRhdGVzRW5hYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZXNFbmFibGVkLFxuICAgICAgICAgICAgcmFuZ2VzOiBjaGVja1Jhbmdlc1dpdGhNYXhEYXRlKHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5yYW5nZXMsIHRoaXMubWF4RGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWF4RGF0ZSksXG4gICAgICAgICAgICBtYXhEYXRlUmFuZ2U6IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlUmFuZ2UsXG4gICAgICAgICAgICBpbml0Q3VycmVudFRpbWU6IHRoaXMuYnNDb25maWc/LmluaXRDdXJyZW50VGltZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZiA9IHRoaXMuX2RhdGVwaWNrZXJcbiAgICAgICAgICAgIC5wcm92aWRlKHsgcHJvdmlkZTogQnNEYXRlcGlja2VyQ29uZmlnLCB1c2VWYWx1ZTogdGhpcy5fY29uZmlnIH0pXG4gICAgICAgICAgICAuYXR0YWNoKEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50KVxuICAgICAgICAgICAgLnRvKHRoaXMuX2VsZW1lbnRSZWYpXG4gICAgICAgICAgICAuc2hvdygpO1xuICAgICAgICB0aGlzLmluaXRTdWJzY3JpYmVzKCk7XG4gICAgfVxuICAgIGluaXRTdWJzY3JpYmVzKCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlU3Vic2NyaXB0aW9ucygpO1xuICAgICAgICAvLyBpZiBkYXRlIGNoYW5nZXMgZnJvbSBleHRlcm5hbCBzb3VyY2UgKG1vZGVsIC0+IHZpZXcpXG4gICAgICAgIHRoaXMuX3N1YnMucHVzaCh0aGlzLmJzVmFsdWVDaGFuZ2Uuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGVwaWNrZXJSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gaWYgZGF0ZSBjaGFuZ2VzIGZyb20gcGlja2VyICh2aWV3IC0+IG1vZGVsKVxuICAgICAgICBpZiAodGhpcy5fZGF0ZXBpY2tlclJlZikge1xuICAgICAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UudmFsdWVDaGFuZ2VcbiAgICAgICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJhbmdlKSA9PiByYW5nZSAmJiByYW5nZVswXSAmJiAhIXJhbmdlWzFdKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYnNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlU3Vic2NyaXB0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N1YnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vicy5tYXAoc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICAgICAgICAgIHRoaXMuX3N1YnMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVTdWJzY3JpcHRpb25zKCk7XG4gICAgfVxufVxuQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbmZpZyB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdG9rZW46IGkyLkNvbXBvbmVudExvYWRlckZhY3RvcnkgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pO1xuQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUsIHNlbGVjdG9yOiBcImJzLWRhdGVyYW5nZXBpY2tlci1pbmxpbmVcIiwgaW5wdXRzOiB7IGJzVmFsdWU6IFwiYnNWYWx1ZVwiLCBic0NvbmZpZzogXCJic0NvbmZpZ1wiLCBpc0Rpc2FibGVkOiBcImlzRGlzYWJsZWRcIiwgbWluRGF0ZTogXCJtaW5EYXRlXCIsIG1heERhdGU6IFwibWF4RGF0ZVwiLCBkYXRlQ3VzdG9tQ2xhc3NlczogXCJkYXRlQ3VzdG9tQ2xhc3Nlc1wiLCBkYXlzRGlzYWJsZWQ6IFwiZGF5c0Rpc2FibGVkXCIsIGRhdGVzRGlzYWJsZWQ6IFwiZGF0ZXNEaXNhYmxlZFwiLCBkYXRlc0VuYWJsZWQ6IFwiZGF0ZXNFbmFibGVkXCIgfSwgb3V0cHV0czogeyBic1ZhbHVlQ2hhbmdlOiBcImJzVmFsdWVDaGFuZ2VcIiB9LCBleHBvcnRBczogW1wiYnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVcIl0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlcklubGluZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYnMtZGF0ZXJhbmdlcGlja2VyLWlubGluZScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnYnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmUnXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbmZpZyB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTIuQ29tcG9uZW50TG9hZGVyRmFjdG9yeSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYnNWYWx1ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGJzQ29uZmlnOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG1pbkRhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBtYXhEYXRlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZGF0ZUN1c3RvbUNsYXNzZXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXlzRGlzYWJsZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlc0Rpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZGF0ZXNFbmFibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgYnNWYWx1ZUNoYW5nZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNvbnN0IEJTX0RBVEVQSUNLRVJfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQnNEYXRlcGlja2VySW5wdXREaXJlY3RpdmUpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuY29uc3QgQlNfREFURVBJQ0tFUl9WQUxJREFUT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMSURBVE9SUyxcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSksXG4gICAgbXVsdGk6IHRydWVcbn07XG5jbGFzcyBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoX3BpY2tlciwgX2xvY2FsZVNlcnZpY2UsIF9yZW5kZXJlciwgX2VsUmVmLCBjaGFuZ2VEZXRlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fcGlja2VyID0gX3BpY2tlcjtcbiAgICAgICAgdGhpcy5fbG9jYWxlU2VydmljZSA9IF9sb2NhbGVTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IF9yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fZWxSZWYgPSBfZWxSZWY7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0aW9uID0gY2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICB0aGlzLl9vbkNoYW5nZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3JDaGFuZ2UgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgICAgIHRoaXMuX3N1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBjb25zdCBzZXRCc1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRvdWNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0aW9uLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBpZiB2YWx1ZSBzZXQgdmlhIFtic1ZhbHVlXSBpdCB3aWxsIG5vdCBnZXQgaW50byB2YWx1ZSBjaGFuZ2VcbiAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fYnNWYWx1ZSkge1xuICAgICAgICAgICAgc2V0QnNWYWx1ZSh0aGlzLl9waWNrZXIuX2JzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBpbnB1dCB2YWx1ZSBvbiBkYXRlcGlja2VyIHZhbHVlIHVwZGF0ZVxuICAgICAgICB0aGlzLl9zdWJzLmFkZCh0aGlzLl9waWNrZXIuYnNWYWx1ZUNoYW5nZS5zdWJzY3JpYmUoc2V0QnNWYWx1ZSkpO1xuICAgICAgICAvLyB1cGRhdGUgaW5wdXQgdmFsdWUgb24gbG9jYWxlIGNoYW5nZVxuICAgICAgICB0aGlzLl9zdWJzLmFkZCh0aGlzLl9sb2NhbGVTZXJ2aWNlLmxvY2FsZUNoYW5nZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5fc3Vicy5hZGQodGhpcy5fcGlja2VyLmRhdGVJbnB1dEZvcm1hdCQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3N1YnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgb25LZXlkb3duRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9zZXRJbnB1dFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxEYXRlID0gIXZhbHVlID8gJydcbiAgICAgICAgICAgIDogZm9ybWF0RGF0ZSh2YWx1ZSwgdGhpcy5fcGlja2VyLl9jb25maWcuZGF0ZUlucHV0Rm9ybWF0LCB0aGlzLl9sb2NhbGVTZXJ2aWNlLmN1cnJlbnRMb2NhbGUpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLl9lbFJlZi5uYXRpdmVFbGVtZW50LCAndmFsdWUnLCBpbml0aWFsRGF0ZSk7XG4gICAgfVxuICAgIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHRoaXMud3JpdGVWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICB0aGlzLl9vbkNoYW5nZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLl9waWNrZXIuX2NvbmZpZy5yZXR1cm5Gb2N1c1RvSW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQpLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkKCk7XG4gICAgfVxuICAgIHZhbGlkYXRlKGMpIHtcbiAgICAgICAgY29uc3QgX3ZhbHVlID0gYy52YWx1ZTtcbiAgICAgICAgaWYgKF92YWx1ZSA9PT0gbnVsbCB8fCBfdmFsdWUgPT09IHVuZGVmaW5lZCB8fCBfdmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNEYXRlKF92YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IF9pc0RhdGVWYWxpZCA9IGlzRGF0ZVZhbGlkKF92YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIV9pc0RhdGVWYWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGJzRGF0ZTogeyBpbnZhbGlkOiBfdmFsdWUgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpY2tlciAmJiB0aGlzLl9waWNrZXIubWluRGF0ZSAmJiBpc0JlZm9yZShfdmFsdWUsIHRoaXMuX3BpY2tlci5taW5EYXRlLCAnZGF0ZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVZhbHVlKHRoaXMuX3BpY2tlci5taW5EYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBic0RhdGU6IHsgbWluRGF0ZTogdGhpcy5fcGlja2VyLm1pbkRhdGUgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BpY2tlciAmJiB0aGlzLl9waWNrZXIubWF4RGF0ZSAmJiBpc0FmdGVyKF92YWx1ZSwgdGhpcy5fcGlja2VyLm1heERhdGUsICdkYXRlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlVmFsdWUodGhpcy5fcGlja2VyLm1heERhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGJzRGF0ZTogeyBtYXhEYXRlOiB0aGlzLl9waWNrZXIubWF4RGF0ZSB9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yQ2hhbmdlID0gZm47XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBfbG9jYWxlS2V5ID0gdGhpcy5fbG9jYWxlU2VydmljZS5jdXJyZW50TG9jYWxlO1xuICAgICAgICAgICAgY29uc3QgX2xvY2FsZSA9IGdldExvY2FsZShfbG9jYWxlS2V5KTtcbiAgICAgICAgICAgIGlmICghX2xvY2FsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTG9jYWxlIFwiJHtfbG9jYWxlS2V5fVwiIGlzIG5vdCBkZWZpbmVkLCBwbGVhc2UgYWRkIGl0IHdpdGggXCJkZWZpbmVMb2NhbGUoLi4uKVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHBhcnNlRGF0ZSh2YWx1ZSwgdGhpcy5fcGlja2VyLl9jb25maWcuZGF0ZUlucHV0Rm9ybWF0LCB0aGlzLl9sb2NhbGVTZXJ2aWNlLmN1cnJlbnRMb2NhbGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fY29uZmlnLnVzZVV0Yykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdXRjQXNMb2NhbCh0aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGlja2VyLmJzVmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuX3BpY2tlci5pc0Rpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICAgICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLl9lbFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUodGhpcy5fZWxSZWYubmF0aXZlRWxlbWVudCwgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UgPSBmbjtcbiAgICB9XG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkID0gZm47XG4gICAgfVxuICAgIG9uQmx1cigpIHtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkKCk7XG4gICAgfVxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuX3BpY2tlci5oaWRlKCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fY29uZmlnLnJldHVybkZvY3VzVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5fZWxSZWYubmF0aXZlRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkJzRGF0ZXBpY2tlcklucHV0RGlyZWN0aXZlLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXBpY2tlcklucHV0RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogQnNEYXRlcGlja2VyRGlyZWN0aXZlLCBob3N0OiB0cnVlIH0sIHsgdG9rZW46IEJzTG9jYWxlU2VydmljZSB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5Cc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiaW5wdXRbYnNEYXRlcGlja2VyXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudClcIiwgXCJrZXl1cC5lc2NcIjogXCJoaWRlKClcIiwgXCJrZXlkb3duXCI6IFwib25LZXlkb3duRXZlbnQoJGV2ZW50KVwiLCBcImJsdXJcIjogXCJvbkJsdXIoKVwiIH0gfSwgcHJvdmlkZXJzOiBbQlNfREFURVBJQ0tFUl9WQUxVRV9BQ0NFU1NPUiwgQlNfREFURVBJQ0tFUl9WQUxJREFUT1JdLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VySW5wdXREaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogYGlucHV0W2JzRGF0ZXBpY2tlcl1gLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhjaGFuZ2UpJzogJ29uQ2hhbmdlKCRldmVudCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyhrZXl1cC5lc2MpJzogJ2hpZGUoKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKGtleWRvd24pJzogJ29uS2V5ZG93bkV2ZW50KCRldmVudCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyhibHVyKSc6ICdvbkJsdXIoKSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbQlNfREFURVBJQ0tFUl9WQUxVRV9BQ0NFU1NPUiwgQlNfREFURVBJQ0tFUl9WQUxJREFUT1JdXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBCc0RhdGVwaWNrZXJEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RcbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IEJzTG9jYWxlU2VydmljZSB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9XTsgfSB9KTtcblxuY2xhc3MgQnNEYXRlcmFuZ2VwaWNrZXJDb25maWcgZXh0ZW5kcyBCc0RhdGVwaWNrZXJDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyBEYXRlcGlja2VyUmVuZGVyT3B0aW9uc1xuICAgICAgICB0aGlzLmRpc3BsYXlNb250aHMgPSAyO1xuICAgIH1cbn1cbkJzRGF0ZXJhbmdlcGlja2VyQ29uZmlnLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VyQ29uZmlnLCBkZXBzOiBudWxsLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7XG5Cc0RhdGVyYW5nZXBpY2tlckNvbmZpZy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJDb25maWcsIHByb3ZpZGVkSW46ICdyb290JyB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlckNvbmZpZywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxubGV0IHByZXZpb3VzRGF0ZTtcbmNsYXNzIEJzRGF0ZXJhbmdlcGlja2VyRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihfY29uZmlnLCBfZWxlbWVudFJlZiwgX3JlbmRlcmVyLCBfdmlld0NvbnRhaW5lclJlZiwgY2lzKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IF9jb25maWc7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbGFjZW1lbnQgb2YgYSBkYXRlcmFuZ2VwaWNrZXIuIEFjY2VwdHM6IFwidG9wXCIsIFwiYm90dG9tXCIsIFwibGVmdFwiLCBcInJpZ2h0XCJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGxhY2VtZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgZXZlbnRzIHRoYXQgc2hvdWxkIHRyaWdnZXIuIFN1cHBvcnRzIGEgc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2ZcbiAgICAgICAgICogZXZlbnQgbmFtZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyaWdnZXJzID0gJ2NsaWNrJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsb3NlIGRhdGVyYW5nZXBpY2tlciBvbiBvdXRzaWRlIGNsaWNrXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm91dHNpZGVDbGljayA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNlbGVjdG9yIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdGhlIGRhdGVyYW5nZXBpY2tlciBzaG91bGQgYmUgYXBwZW5kZWQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9ICdib2R5JztcbiAgICAgICAgdGhpcy5vdXRzaWRlRXNjID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3kkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGRhdGVyYW5nZXBpY2tlcidzIGNvbnRlbnQgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW1pdHMgd2hlbiBkYXRlcmFuZ2VwaWNrZXIgdmFsdWUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl9zdWJzID0gW107XG4gICAgICAgIHRoaXMuX3JhbmdlSW5wdXRGb3JtYXQkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlciA9IGNpcy5jcmVhdGVMb2FkZXIoX2VsZW1lbnRSZWYsIF92aWV3Q29udGFpbmVyUmVmLCBfcmVuZGVyZXIpO1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIF9jb25maWcpO1xuICAgICAgICB0aGlzLm9uU2hvd24gPSB0aGlzLl9kYXRlcGlja2VyLm9uU2hvd247XG4gICAgICAgIHRoaXMub25IaWRkZW4gPSB0aGlzLl9kYXRlcGlja2VyLm9uSGlkZGVuO1xuICAgICAgICB0aGlzLmlzT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRoaXMuaXNPcGVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZGF0ZXJhbmdlcGlja2VyIGlzIGN1cnJlbnRseSBiZWluZyBzaG93blxuICAgICAqL1xuICAgIGdldCBpc09wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRlcGlja2VyLmlzU2hvd247XG4gICAgfVxuICAgIHNldCBpc09wZW4odmFsdWUpIHtcbiAgICAgICAgdGhpcy5pc09wZW4kLm5leHQodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsIHZhbHVlIG9mIGRhdGVyYW5nZXBpY2tlclxuICAgICAqL1xuICAgIHNldCBic1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9ic1ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLmJzQ29uZmlnPy5pbml0Q3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gc2V0RGF0ZVJhbmdlc0N1cnJlbnRUaW1lT25EYXRlU2VsZWN0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRQcmV2aW91c1ZhbHVlKCk7XG4gICAgICAgIHRoaXMuX2JzVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlLmVtaXQodmFsdWUpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlcGlja2VyUmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlzYWJsZWQgPyAnJyA6IG51bGw7XG4gICAgfVxuICAgIGdldCByYW5nZUlucHV0Rm9ybWF0JCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhbmdlSW5wdXRGb3JtYXQkO1xuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3kkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fZGF0ZXBpY2tlci5saXN0ZW4oe1xuICAgICAgICAgICAgb3V0c2lkZUNsaWNrOiB0aGlzLm91dHNpZGVDbGljayxcbiAgICAgICAgICAgIG91dHNpZGVFc2M6IHRoaXMub3V0c2lkZUVzYyxcbiAgICAgICAgICAgIHRyaWdnZXJzOiB0aGlzLnRyaWdnZXJzLFxuICAgICAgICAgICAgc2hvdzogKCkgPT4gdGhpcy5zaG93KClcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaW5pdFByZXZpb3VzVmFsdWUoKTtcbiAgICAgICAgdGhpcy5zZXRDb25maWcoKTtcbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlc1tcImJzQ29uZmlnXCJdKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlc1tcImJzQ29uZmlnXCJdLmN1cnJlbnRWYWx1ZT8uaW5pdEN1cnJlbnRUaW1lICYmIGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5jdXJyZW50VmFsdWU/LmluaXRDdXJyZW50VGltZSAhPT0gY2hhbmdlc1tcImJzQ29uZmlnXCJdLnByZXZpb3VzVmFsdWU/LmluaXRDdXJyZW50VGltZSAmJiB0aGlzLl9ic1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0UHJldmlvdXNWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JzVmFsdWUgPSBzZXREYXRlUmFuZ2VzQ3VycmVudFRpbWVPbkRhdGVTZWxlY3QodGhpcy5fYnNWYWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ic1ZhbHVlQ2hhbmdlLmVtaXQodGhpcy5fYnNWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldENvbmZpZygpO1xuICAgICAgICAgICAgdGhpcy5fcmFuZ2VJbnB1dEZvcm1hdCQubmV4dChjaGFuZ2VzW1wiYnNDb25maWdcIl0uY3VycmVudFZhbHVlICYmIGNoYW5nZXNbXCJic0NvbmZpZ1wiXS5jdXJyZW50VmFsdWUucmFuZ2VJbnB1dEZvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9kYXRlcGlja2VyUmVmIHx8ICF0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJtaW5EYXRlXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLm1pbkRhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJtYXhEYXRlXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLm1heERhdGUgPSB0aGlzLm1heERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXRlc0Rpc2FibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmRhdGVzRGlzYWJsZWQgPSB0aGlzLmRhdGVzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXRlc0VuYWJsZWRcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF0ZXNFbmFibGVkID0gdGhpcy5kYXRlc0VuYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXlzRGlzYWJsZWRcIl0pIHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UuZGF5c0Rpc2FibGVkID0gdGhpcy5kYXlzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJpc0Rpc2FibGVkXCJdKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyUmVmLmluc3RhbmNlLmlzRGlzYWJsZWQgPSB0aGlzLmlzRGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNbXCJkYXRlQ3VzdG9tQ2xhc3Nlc1wiXSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS5kYXRlQ3VzdG9tQ2xhc3NlcyA9IHRoaXMuZGF0ZUN1c3RvbUNsYXNzZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLmlzT3BlbiQucGlwZShmaWx0ZXIoaXNPcGVuID0+IGlzT3BlbiAhPT0gdGhpcy5pc09wZW4pLCB0YWtlVW50aWwodGhpcy5pc0Rlc3Ryb3kkKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy50b2dnbGUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIGFuIGVsZW1lbnTigJlzIGRhdGVwaWNrZXIuIFRoaXMgaXMgY29uc2lkZXJlZCBhIOKAnG1hbnVhbOKAnSB0cmlnZ2VyaW5nIG9mXG4gICAgICogdGhlIGRhdGVwaWNrZXIuXG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGVwaWNrZXIuaXNTaG93bikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q29uZmlnKCk7XG4gICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYgPSB0aGlzLl9kYXRlcGlja2VyXG4gICAgICAgICAgICAucHJvdmlkZSh7IHByb3ZpZGU6IEJzRGF0ZXBpY2tlckNvbmZpZywgdXNlVmFsdWU6IHRoaXMuX2NvbmZpZyB9KVxuICAgICAgICAgICAgLmF0dGFjaChCc0RhdGVyYW5nZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudClcbiAgICAgICAgICAgIC50byh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIC5wb3NpdGlvbih7IGF0dGFjaG1lbnQ6IHRoaXMucGxhY2VtZW50IH0pXG4gICAgICAgICAgICAuc2hvdyh7IHBsYWNlbWVudDogdGhpcy5wbGFjZW1lbnQgfSk7XG4gICAgICAgIHRoaXMuaW5pdFN1YnNjcmliZXMoKTtcbiAgICB9XG4gICAgaW5pdFN1YnNjcmliZXMoKSB7XG4gICAgICAgIC8vIGlmIGRhdGUgY2hhbmdlcyBmcm9tIGV4dGVybmFsIHNvdXJjZSAobW9kZWwgLT4gdmlldylcbiAgICAgICAgdGhpcy5fc3Vicy5wdXNoKHRoaXMuYnNWYWx1ZUNoYW5nZS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0ZXBpY2tlclJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGVwaWNrZXJSZWYuaW5zdGFuY2UudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBpZiBkYXRlIGNoYW5nZXMgZnJvbSBwaWNrZXIgKHZpZXcgLT4gbW9kZWwpXG4gICAgICAgIGlmICh0aGlzLl9kYXRlcGlja2VyUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzLnB1c2godGhpcy5fZGF0ZXBpY2tlclJlZi5pbnN0YW5jZS52YWx1ZUNoYW5nZVxuICAgICAgICAgICAgICAgIC5waXBlKGZpbHRlcigocmFuZ2UpID0+IHJhbmdlICYmIHJhbmdlWzBdICYmICEhcmFuZ2VbMV0pKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0UHJldmlvdXNWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYnNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmtlZXBEYXRlcGlja2VyTW9kYWxPcGVuZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRQcmV2aW91c1ZhbHVlKCkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB0aGlzLl9ic1ZhbHVlO1xuICAgIH1cbiAgICBrZWVwRGF0ZXBpY2tlck1vZGFsT3BlbmVkKCkge1xuICAgICAgICBpZiAoIXByZXZpb3VzRGF0ZSB8fCAhdGhpcy5ic0NvbmZpZz8ua2VlcERhdGVwaWNrZXJPcGVuZWQgfHwgIXRoaXMuX2NvbmZpZy53aXRoVGltZXBpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGF0ZVNhbWUoKTtcbiAgICB9XG4gICAgaXNEYXRlU2FtZSgpIHtcbiAgICAgICAgcmV0dXJuICgodGhpcy5fYnNWYWx1ZT8uWzBdPy5nZXREYXRlKCkgPT09IHByZXZpb3VzRGF0ZT8uWzBdPy5nZXREYXRlKCkpXG4gICAgICAgICAgICAmJiAodGhpcy5fYnNWYWx1ZT8uWzBdPy5nZXRNb250aCgpID09PSBwcmV2aW91c0RhdGU/LlswXT8uZ2V0TW9udGgoKSlcbiAgICAgICAgICAgICYmICh0aGlzLl9ic1ZhbHVlPy5bMF0/LmdldEZ1bGxZZWFyKCkgPT09IHByZXZpb3VzRGF0ZT8uWzBdPy5nZXRGdWxsWWVhcigpKVxuICAgICAgICAgICAgJiYgKHRoaXMuX2JzVmFsdWU/LlsxXT8uZ2V0RGF0ZSgpID09PSBwcmV2aW91c0RhdGU/LlsxXT8uZ2V0RGF0ZSgpKVxuICAgICAgICAgICAgJiYgKHRoaXMuX2JzVmFsdWU/LlsxXT8uZ2V0TW9udGgoKSA9PT0gcHJldmlvdXNEYXRlPy5bMV0/LmdldE1vbnRoKCkpXG4gICAgICAgICAgICAmJiAodGhpcy5fYnNWYWx1ZT8uWzFdPy5nZXRGdWxsWWVhcigpID09PSBwcmV2aW91c0RhdGU/LlsxXT8uZ2V0RnVsbFllYXIoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgY29uZmlnIGZvciBkYXRlcmFuZ2VwaWNrZXJcbiAgICAgKi9cbiAgICBzZXRDb25maWcoKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2NvbmZpZywgdGhpcy5ic0NvbmZpZywge1xuICAgICAgICAgICAgdmFsdWU6IGNoZWNrQnNWYWx1ZSh0aGlzLl9ic1ZhbHVlLCB0aGlzLm1heERhdGUgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLm1heERhdGUpLFxuICAgICAgICAgICAgaXNEaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkLFxuICAgICAgICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5taW5EYXRlLFxuICAgICAgICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlLFxuICAgICAgICAgICAgZGF5c0Rpc2FibGVkOiB0aGlzLmRheXNEaXNhYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF5c0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZUN1c3RvbUNsYXNzZXM6IHRoaXMuZGF0ZUN1c3RvbUNsYXNzZXMgfHwgdGhpcy5ic0NvbmZpZyAmJiB0aGlzLmJzQ29uZmlnLmRhdGVDdXN0b21DbGFzc2VzLFxuICAgICAgICAgICAgZGF0ZXNEaXNhYmxlZDogdGhpcy5kYXRlc0Rpc2FibGVkIHx8IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5kYXRlc0Rpc2FibGVkLFxuICAgICAgICAgICAgZGF0ZXNFbmFibGVkOiB0aGlzLmRhdGVzRW5hYmxlZCB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcuZGF0ZXNFbmFibGVkLFxuICAgICAgICAgICAgcmFuZ2VzOiBjaGVja1Jhbmdlc1dpdGhNYXhEYXRlKHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5yYW5nZXMsIHRoaXMubWF4RGF0ZSB8fCB0aGlzLmJzQ29uZmlnICYmIHRoaXMuYnNDb25maWcubWF4RGF0ZSksXG4gICAgICAgICAgICBtYXhEYXRlUmFuZ2U6IHRoaXMuYnNDb25maWcgJiYgdGhpcy5ic0NvbmZpZy5tYXhEYXRlUmFuZ2UsXG4gICAgICAgICAgICBpbml0Q3VycmVudFRpbWU6IHRoaXMuYnNDb25maWc/LmluaXRDdXJyZW50VGltZSxcbiAgICAgICAgICAgIGtlZXBEYXRlcGlja2VyT3BlbmVkOiB0aGlzLmJzQ29uZmlnPy5rZWVwRGF0ZXBpY2tlck9wZW5lZFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFuIGVsZW1lbnTigJlzIGRhdGVwaWNrZXIuIFRoaXMgaXMgY29uc2lkZXJlZCBhIOKAnG1hbnVhbOKAnSB0cmlnZ2VyaW5nIG9mXG4gICAgICogdGhlIGRhdGVwaWNrZXIuXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRlcGlja2VyLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLl9zdWJzKSB7XG4gICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLnJldHVybkZvY3VzVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgYW4gZWxlbWVudOKAmXMgZGF0ZXBpY2tlci4gVGhpcyBpcyBjb25zaWRlcmVkIGEg4oCcbWFudWFs4oCdIHRyaWdnZXJpbmdcbiAgICAgKiBvZiB0aGUgZGF0ZXBpY2tlci5cbiAgICAgKi9cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgICB1bnN1YnNjcmliZVN1YnNjcmlwdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdWJzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnMubWFwKHN1YiA9PiBzdWIudW5zdWJzY3JpYmUoKSk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2RhdGVwaWNrZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmlzT3BlbiQubmV4dChmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRGVzdHJveSQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEZXN0cm95JC5uZXh0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5pc0Rlc3Ryb3kkLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG59XG5Cc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZS7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IEJzRGF0ZXJhbmdlcGlja2VyQ29uZmlnIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTIuQ29tcG9uZW50TG9hZGVyRmFjdG9yeSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5Cc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZS7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW2JzRGF0ZXJhbmdlcGlja2VyXVwiLCBpbnB1dHM6IHsgcGxhY2VtZW50OiBcInBsYWNlbWVudFwiLCB0cmlnZ2VyczogXCJ0cmlnZ2Vyc1wiLCBvdXRzaWRlQ2xpY2s6IFwib3V0c2lkZUNsaWNrXCIsIGNvbnRhaW5lcjogXCJjb250YWluZXJcIiwgb3V0c2lkZUVzYzogXCJvdXRzaWRlRXNjXCIsIGlzT3BlbjogXCJpc09wZW5cIiwgYnNWYWx1ZTogXCJic1ZhbHVlXCIsIGJzQ29uZmlnOiBcImJzQ29uZmlnXCIsIGlzRGlzYWJsZWQ6IFwiaXNEaXNhYmxlZFwiLCBtaW5EYXRlOiBcIm1pbkRhdGVcIiwgbWF4RGF0ZTogXCJtYXhEYXRlXCIsIGRhdGVDdXN0b21DbGFzc2VzOiBcImRhdGVDdXN0b21DbGFzc2VzXCIsIGRheXNEaXNhYmxlZDogXCJkYXlzRGlzYWJsZWRcIiwgZGF0ZXNEaXNhYmxlZDogXCJkYXRlc0Rpc2FibGVkXCIsIGRhdGVzRW5hYmxlZDogXCJkYXRlc0VuYWJsZWRcIiB9LCBvdXRwdXRzOiB7IG9uU2hvd246IFwib25TaG93blwiLCBvbkhpZGRlbjogXCJvbkhpZGRlblwiLCBic1ZhbHVlQ2hhbmdlOiBcImJzVmFsdWVDaGFuZ2VcIiB9LCBob3N0OiB7IHByb3BlcnRpZXM6IHsgXCJhdHRyLnJlYWRvbmx5XCI6IFwidGhpcy5pc0RhdGVwaWNrZXJSZWFkb25seVwiIH0gfSwgZXhwb3J0QXM6IFtcImJzRGF0ZXJhbmdlcGlja2VyXCJdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tic0RhdGVyYW5nZXBpY2tlcl0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2JzRGF0ZXJhbmdlcGlja2VyJ1xuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJDb25maWcgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IGkyLkNvbXBvbmVudExvYWRlckZhY3RvcnkgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHBsYWNlbWVudDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHRyaWdnZXJzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb3V0c2lkZUNsaWNrOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgY29udGFpbmVyOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb3V0c2lkZUVzYzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGlzT3BlbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uU2hvd246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgb25IaWRkZW46IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgYnNWYWx1ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGJzQ29uZmlnOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaXNEaXNhYmxlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG1pbkRhdGU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBtYXhEYXRlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZGF0ZUN1c3RvbUNsYXNzZXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXlzRGlzYWJsZWQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBkYXRlc0Rpc2FibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZGF0ZXNFbmFibGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgYnNWYWx1ZUNoYW5nZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dLCBpc0RhdGVwaWNrZXJSZWFkb25seTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0QmluZGluZyxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ2F0dHIucmVhZG9ubHknXVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY29uc3QgQlNfREFURVJBTkdFUElDS0VSX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmUpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuY29uc3QgQlNfREFURVJBTkdFUElDS0VSX1ZBTElEQVRPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxJREFUT1JTLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IEJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmUpLFxuICAgIG11bHRpOiB0cnVlXG59O1xuY2xhc3MgQnNEYXRlcmFuZ2VwaWNrZXJJbnB1dERpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoX3BpY2tlciwgX2xvY2FsZVNlcnZpY2UsIF9yZW5kZXJlciwgX2VsUmVmLCBjaGFuZ2VEZXRlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fcGlja2VyID0gX3BpY2tlcjtcbiAgICAgICAgdGhpcy5fbG9jYWxlU2VydmljZSA9IF9sb2NhbGVTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IF9yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fZWxSZWYgPSBfZWxSZWY7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0aW9uID0gY2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICB0aGlzLl9vbkNoYW5nZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICAgICAgICB0aGlzLl92YWxpZGF0b3JDaGFuZ2UgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgICAgIHRoaXMuX3N1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBjb25zdCBzZXRCc1ZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRvdWNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0aW9uLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBpZiB2YWx1ZSBzZXQgdmlhIFtic1ZhbHVlXSBpdCB3aWxsIG5vdCBnZXQgaW50byB2YWx1ZSBjaGFuZ2VcbiAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fYnNWYWx1ZSkge1xuICAgICAgICAgICAgc2V0QnNWYWx1ZSh0aGlzLl9waWNrZXIuX2JzVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBpbnB1dCB2YWx1ZSBvbiBkYXRlcGlja2VyIHZhbHVlIHVwZGF0ZVxuICAgICAgICB0aGlzLl9zdWJzLmFkZCh0aGlzLl9waWNrZXIuYnNWYWx1ZUNoYW5nZS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl92YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRvdWNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0aW9uLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIHVwZGF0ZSBpbnB1dCB2YWx1ZSBvbiBsb2NhbGUgY2hhbmdlXG4gICAgICAgIHRoaXMuX3N1YnMuYWRkKHRoaXMuX2xvY2FsZVNlcnZpY2UubG9jYWxlQ2hhbmdlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9zdWJzLmFkZChcbiAgICAgICAgLy8gdXBkYXRlIGlucHV0IHZhbHVlIG9uIGZvcm1hdCBjaGFuZ2VcbiAgICAgICAgdGhpcy5fcGlja2VyLnJhbmdlSW5wdXRGb3JtYXQkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NldElucHV0VmFsdWUodGhpcy5fdmFsdWUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9zdWJzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIG9uS2V5ZG93bkV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMyB8fCBldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfc2V0SW5wdXRWYWx1ZShkYXRlKSB7XG4gICAgICAgIGxldCByYW5nZSA9ICcnO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSAhZGF0ZVswXSA/ICcnXG4gICAgICAgICAgICAgICAgOiBmb3JtYXREYXRlKGRhdGVbMF0sIHRoaXMuX3BpY2tlci5fY29uZmlnLnJhbmdlSW5wdXRGb3JtYXQsIHRoaXMuX2xvY2FsZVNlcnZpY2UuY3VycmVudExvY2FsZSk7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSAhZGF0ZVsxXSA/ICcnXG4gICAgICAgICAgICAgICAgOiBmb3JtYXREYXRlKGRhdGVbMV0sIHRoaXMuX3BpY2tlci5fY29uZmlnLnJhbmdlSW5wdXRGb3JtYXQsIHRoaXMuX2xvY2FsZVNlcnZpY2UuY3VycmVudExvY2FsZSk7XG4gICAgICAgICAgICByYW5nZSA9IChzdGFydCAmJiBlbmQpID8gc3RhcnQgKyB0aGlzLl9waWNrZXIuX2NvbmZpZy5yYW5nZVNlcGFyYXRvciArIGVuZCA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQsICd2YWx1ZScsIHJhbmdlKTtcbiAgICB9XG4gICAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy53cml0ZVZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fY29uZmlnLnJldHVybkZvY3VzVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5fZWxSZWYubmF0aXZlRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vblRvdWNoZWQoKTtcbiAgICB9XG4gICAgdmFsaWRhdGUoYykge1xuICAgICAgICBsZXQgX3ZhbHVlID0gYy52YWx1ZTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgIGlmIChfdmFsdWUgPT09IG51bGwgfHwgX3ZhbHVlID09PSB1bmRlZmluZWQgfHwgIWlzQXJyYXkoX3ZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgX3ZhbHVlID0gX3ZhbHVlLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKSk7XG4gICAgICAgIGNvbnN0IF9pc0ZpcnN0RGF0ZVZhbGlkID0gaXNEYXRlVmFsaWQoX3ZhbHVlWzBdKTtcbiAgICAgICAgY29uc3QgX2lzU2Vjb25kRGF0ZVZhbGlkID0gaXNEYXRlVmFsaWQoX3ZhbHVlWzFdKTtcbiAgICAgICAgaWYgKCFfaXNGaXJzdERhdGVWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYnNEYXRlOiB7IGludmFsaWQ6IF92YWx1ZVswXSB9IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfaXNTZWNvbmREYXRlVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGJzRGF0ZTogeyBpbnZhbGlkOiBfdmFsdWVbMV0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waWNrZXIgJiYgdGhpcy5fcGlja2VyLm1pbkRhdGUgJiYgaXNCZWZvcmUoX3ZhbHVlWzBdLCB0aGlzLl9waWNrZXIubWluRGF0ZSwgJ2RhdGUnKSkge1xuICAgICAgICAgICAgX3ZhbHVlWzBdID0gdGhpcy5fcGlja2VyLm1pbkRhdGU7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7IGJzRGF0ZTogeyBtaW5EYXRlOiB0aGlzLl9waWNrZXIubWluRGF0ZSB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9waWNrZXIgJiYgdGhpcy5fcGlja2VyLm1heERhdGUgJiYgaXNBZnRlcihfdmFsdWVbMV0sIHRoaXMuX3BpY2tlci5tYXhEYXRlLCAnZGF0ZScpKSB7XG4gICAgICAgICAgICBfdmFsdWVbMV0gPSB0aGlzLl9waWNrZXIubWF4RGF0ZTtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsgYnNEYXRlOiB7IG1heERhdGU6IHRoaXMuX3BpY2tlci5tYXhEYXRlIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVmFsdWUoX3ZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJlZ2lzdGVyT25WYWxpZGF0b3JDaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yQ2hhbmdlID0gZm47XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBfbG9jYWxlS2V5ID0gdGhpcy5fbG9jYWxlU2VydmljZS5jdXJyZW50TG9jYWxlO1xuICAgICAgICAgICAgY29uc3QgX2xvY2FsZSA9IGdldExvY2FsZShfbG9jYWxlS2V5KTtcbiAgICAgICAgICAgIGlmICghX2xvY2FsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTG9jYWxlIFwiJHtfbG9jYWxlS2V5fVwiIGlzIG5vdCBkZWZpbmVkLCBwbGVhc2UgYWRkIGl0IHdpdGggXCJkZWZpbmVMb2NhbGUoLi4uKVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgX2lucHV0ID0gW107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRTZXBhcmF0b3IgPSB0aGlzLl9waWNrZXIuX2NvbmZpZy5yYW5nZVNlcGFyYXRvci50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnJlcGxhY2UoL1teLV0vZywgJycpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgX2lucHV0ID0gdmFsdWUuc3BsaXQodGhpcy5fcGlja2VyLl9jb25maWcucmFuZ2VTZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2lucHV0ID0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCh0cmltbWVkU2VwYXJhdG9yLmxlbmd0aCA+IDAgPyB0cmltbWVkU2VwYXJhdG9yIDogdGhpcy5fcGlja2VyLl9jb25maWcucmFuZ2VTZXBhcmF0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKF92YWwgPT4gX3ZhbC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIF9pbnB1dCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSBfaW5wdXRcbiAgICAgICAgICAgICAgICAubWFwKChfdmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fY29uZmlnLnVzZVV0Yykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRjQXNMb2NhbChwYXJzZURhdGUoX3ZhbCwgdGhpcy5fcGlja2VyLl9jb25maWcucmFuZ2VJbnB1dEZvcm1hdCwgdGhpcy5fbG9jYWxlU2VydmljZS5jdXJyZW50TG9jYWxlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZURhdGUoX3ZhbCwgdGhpcy5fcGlja2VyLl9jb25maWcucmFuZ2VJbnB1dEZvcm1hdCwgdGhpcy5fbG9jYWxlU2VydmljZS5jdXJyZW50TG9jYWxlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCgoZGF0ZSkgPT4gKGlzTmFOKGRhdGUudmFsdWVPZigpKSA/IHZvaWQgMCA6IGRhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9waWNrZXIuYnNWYWx1ZSA9IHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgICBzZXREaXNhYmxlZFN0YXRlKGlzRGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fcGlja2VyLmlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICAgICAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQsICdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLl9lbFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZWdpc3Rlck9uQ2hhbmdlKGZuKSB7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlID0gZm47XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkID0gZm47XG4gICAgfVxuICAgIG9uQmx1cigpIHtcbiAgICAgICAgdGhpcy5fb25Ub3VjaGVkKCk7XG4gICAgfVxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuX3BpY2tlci5oaWRlKCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KHRoaXMuX2VsUmVmLm5hdGl2ZUVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgaWYgKHRoaXMuX3BpY2tlci5fY29uZmlnLnJldHVybkZvY3VzVG9JbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQodGhpcy5fZWxSZWYubmF0aXZlRWxlbWVudCkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbkJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcmFuZ2VwaWNrZXJJbnB1dERpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IEJzRGF0ZXJhbmdlcGlja2VyRGlyZWN0aXZlLCBob3N0OiB0cnVlIH0sIHsgdG9rZW46IEJzTG9jYWxlU2VydmljZSB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7XG5Cc0RhdGVyYW5nZXBpY2tlcklucHV0RGlyZWN0aXZlLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmUsIHNlbGVjdG9yOiBcImlucHV0W2JzRGF0ZXJhbmdlcGlja2VyXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImNoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudClcIiwgXCJrZXl1cC5lc2NcIjogXCJoaWRlKClcIiwgXCJrZXlkb3duXCI6IFwib25LZXlkb3duRXZlbnQoJGV2ZW50KVwiLCBcImJsdXJcIjogXCJvbkJsdXIoKVwiIH0gfSwgcHJvdmlkZXJzOiBbQlNfREFURVJBTkdFUElDS0VSX1ZBTFVFX0FDQ0VTU09SLCBCU19EQVRFUkFOR0VQSUNLRVJfVkFMSURBVE9SXSwgbmdJbXBvcnQ6IGkwIH0pO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE1LjAuM1wiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogYGlucHV0W2JzRGF0ZXJhbmdlcGlja2VyXWAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8taG9zdC1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKGtleXVwLmVzYyknOiAnaGlkZSgpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICcoa2V5ZG93biknOiAnb25LZXlkb3duRXZlbnQoJGV2ZW50KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnKGJsdXIpJzogJ29uQmx1cigpJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtCU19EQVRFUkFOR0VQSUNLRVJfVkFMVUVfQUNDRVNTT1IsIEJTX0RBVEVSQU5HRVBJQ0tFUl9WQUxJREFUT1JdXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBCc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSG9zdFxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogQnNMb2NhbGVTZXJ2aWNlIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH1dOyB9IH0pO1xuXG5jbGFzcyBCc0RhdGVwaWNrZXJNb2R1bGUge1xuICAgIHN0YXRpYyBmb3JSb290KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IEJzRGF0ZXBpY2tlck1vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIENvbXBvbmVudExvYWRlckZhY3RvcnksXG4gICAgICAgICAgICAgICAgUG9zaXRpb25pbmdTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIEJzRGF0ZXBpY2tlclN0b3JlLFxuICAgICAgICAgICAgICAgIEJzRGF0ZXBpY2tlckFjdGlvbnMsXG4gICAgICAgICAgICAgICAgQnNEYXRlcGlja2VyRWZmZWN0cyxcbiAgICAgICAgICAgICAgICBCc0xvY2FsZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgVGltZXBpY2tlckFjdGlvbnNcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICB9XG59XG5Cc0RhdGVwaWNrZXJNb2R1bGUuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTtcbkJzRGF0ZXBpY2tlck1vZHVsZS7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtCc0NhbGVuZGFyTGF5b3V0Q29tcG9uZW50LFxuICAgICAgICBCc0N1cnJlbnREYXRlVmlld0NvbXBvbmVudCxcbiAgICAgICAgQnNDdXN0b21EYXRlc1ZpZXdDb21wb25lbnQsXG4gICAgICAgIEJzRGF0ZXBpY2tlckRheURlY29yYXRvckNvbXBvbmVudCxcbiAgICAgICAgQnNEYXRlcGlja2VyTmF2aWdhdGlvblZpZXdDb21wb25lbnQsXG4gICAgICAgIEJzRGF5c0NhbGVuZGFyVmlld0NvbXBvbmVudCxcbiAgICAgICAgQnNNb250aENhbGVuZGFyVmlld0NvbXBvbmVudCxcbiAgICAgICAgQnNUaW1lcGlja2VyVmlld0NvbXBvbmVudCxcbiAgICAgICAgQnNZZWFyc0NhbGVuZGFyVmlld0NvbXBvbmVudCxcbiAgICAgICAgQnNEYXRlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICBCc0RhdGVwaWNrZXJEaXJlY3RpdmUsXG4gICAgICAgIEJzRGF0ZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgQnNEYXRlcGlja2VySW5saW5lRGlyZWN0aXZlLFxuICAgICAgICBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgIEJzRGF0ZXJhbmdlcGlja2VyRGlyZWN0aXZlLFxuICAgICAgICBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVEaXJlY3RpdmUsXG4gICAgICAgIEJzRGF0ZXJhbmdlcGlja2VySW5wdXREaXJlY3RpdmVdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBUb29sdGlwTW9kdWxlLCBUaW1lcGlja2VyTW9kdWxlXSwgZXhwb3J0czogW0JzRGF0ZXBpY2tlckNvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgQnNEYXRlcGlja2VyRGlyZWN0aXZlLFxuICAgICAgICBCc0RhdGVwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgIEJzRGF0ZXBpY2tlcklubGluZURpcmVjdGl2ZSxcbiAgICAgICAgQnNEYXRlcGlja2VySW5wdXREaXJlY3RpdmUsXG4gICAgICAgIEJzRGF0ZXJhbmdlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICBCc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZSxcbiAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgIEJzRGF0ZXJhbmdlcGlja2VySW5saW5lRGlyZWN0aXZlLFxuICAgICAgICBCc0RhdGVyYW5nZXBpY2tlcklucHV0RGlyZWN0aXZlXSB9KTtcbkJzRGF0ZXBpY2tlck1vZHVsZS7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTUuMC4zXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQnNEYXRlcGlja2VyTW9kdWxlLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBUb29sdGlwTW9kdWxlLCBUaW1lcGlja2VyTW9kdWxlXSB9KTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNS4wLjNcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBCc0RhdGVwaWNrZXJNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIFRvb2x0aXBNb2R1bGUsIFRpbWVwaWNrZXJNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzQ2FsZW5kYXJMYXlvdXRDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0N1cnJlbnREYXRlVmlld0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzQ3VzdG9tRGF0ZXNWaWV3Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcGlja2VyRGF5RGVjb3JhdG9yQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcGlja2VyTmF2aWdhdGlvblZpZXdDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RheXNDYWxlbmRhclZpZXdDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc01vbnRoQ2FsZW5kYXJWaWV3Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNUaW1lcGlja2VyVmlld0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzWWVhcnNDYWxlbmRhclZpZXdDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbmxpbmVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzRGF0ZXJhbmdlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzRGF0ZXJhbmdlcGlja2VySW5saW5lRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJJbnB1dERpcmVjdGl2ZVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbmxpbmVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVwaWNrZXJJbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzRGF0ZXJhbmdlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBCc0RhdGVyYW5nZXBpY2tlcklubGluZUNvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJzRGF0ZXJhbmdlcGlja2VySW5saW5lRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgQnNEYXRlcmFuZ2VwaWNrZXJJbnB1dERpcmVjdGl2ZVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0IHsgQnNEYXRlcGlja2VyQ29uZmlnLCBCc0RhdGVwaWNrZXJDb250YWluZXJDb21wb25lbnQsIEJzRGF0ZXBpY2tlckRpcmVjdGl2ZSwgQnNEYXRlcGlja2VySW5saW5lQ29uZmlnLCBCc0RhdGVwaWNrZXJJbmxpbmVDb250YWluZXJDb21wb25lbnQsIEJzRGF0ZXBpY2tlcklubGluZURpcmVjdGl2ZSwgQnNEYXRlcGlja2VySW5wdXREaXJlY3RpdmUsIEJzRGF0ZXBpY2tlck1vZHVsZSwgQnNEYXRlcmFuZ2VwaWNrZXJDb25maWcsIEJzRGF0ZXJhbmdlcGlja2VyQ29udGFpbmVyQ29tcG9uZW50LCBCc0RhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZSwgQnNEYXRlcmFuZ2VwaWNrZXJJbmxpbmVDb25maWcsIEJzRGF0ZXJhbmdlcGlja2VySW5saW5lQ29udGFpbmVyQ29tcG9uZW50LCBCc0RhdGVyYW5nZXBpY2tlcklubGluZURpcmVjdGl2ZSwgQnNEYXRlcmFuZ2VwaWNrZXJJbnB1dERpcmVjdGl2ZSwgQnNMb2NhbGVTZXJ2aWNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ3gtYm9vdHN0cmFwLWRhdGVwaWNrZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ngx-bootstrap/datepicker/fesm2020/ngx-bootstrap-datepicker.mjs\n");

/***/ })

}]);